2025-08-24 09:14:15,705 - INFO - Starting federated learning with model: cnn, algorithm: fedentropy, clients: 50, rounds: 50
2025-08-24 09:14:15,867 - INFO - Initial data proportions assigned to clients: [0.012133333333333333, 0.019766666666666665, 0.03885, 0.027566666666666666, 0.028666666666666667, 0.0406, 0.02015, 0.009183333333333333, 0.0056166666666666665, 0.006566666666666667, 0.02185, 0.0275, 0.030716666666666666, 0.021483333333333333, 0.0058, 0.007966666666666667, 0.010733333333333333, 0.004833333333333334, 0.014983333333333333, 0.014, 0.0139, 0.0005, 0.0119, 0.042883333333333336, 0.017033333333333334, 0.009883333333333333, 0.031966666666666664, 0.028516666666666666, 0.04111666666666667, 0.003683333333333333, 0.0234, 0.04691666666666667, 0.013466666666666667, 0.0255, 0.010383333333333333, 0.024833333333333332, 0.023933333333333334, 0.0214, 0.004716666666666667, 0.004116666666666667, 0.005366666666666666, 0.020083333333333335, 0.040383333333333334, 0.04243333333333334, 0.031966666666666664, 0.00655, 0.01775, 0.029216666666666665, 0.02315, 0.014083333333333333]
2025-08-24 09:14:16,127 - INFO - Starting Round 1/50 with algorithm fedentropy and model cnn
2025-08-24 09:14:16,128 - INFO - Selected clients for Round 1: [40, 7, 1, 47, 17]
2025-08-24 09:14:16,766 - INFO - Client 40 Train Loss: 0.5797
2025-08-24 09:14:17,692 - INFO - Client 7 Train Loss: 0.4376
2025-08-24 09:14:19,626 - INFO - Client 1 Train Loss: 0.1938
2025-08-24 09:14:22,400 - INFO - Client 47 Train Loss: 0.4345
2025-08-24 09:14:22,891 - INFO - Client 17 Train Loss: 0.3329
2025-08-24 09:14:22,891 - INFO - Global Average Train Loss: 0.3957
2025-08-24 09:14:23,617 - INFO - FedEntropy weights: [0.2097187  0.19855813 0.19309294 0.18398496 0.21464527]
2025-08-24 09:14:23,658 - INFO - Aggregated using FedEntropy
2025-08-24 09:14:27,444 - INFO - Global Model Validation Loss: 4.1989, Top1_Accuracy: 10.00%, Top5_Accuracy: 53.93%
2025-08-24 09:14:27,444 - INFO - Precision: 0.9100, Recall: 0.1000, F1-Score: 0.0182
2025-08-24 09:14:27,445 - INFO - Confusion Matrix:
[[   0    0    0    0    0    0 1000    0    0    0]
 [   0    0    0    0    0    0 1000    0    0    0]
 [   0    0    0    0    0    0 1000    0    0    0]
 [   0    0    0    0    0    0 1000    0    0    0]
 [   0    0    0    0    0    0 1000    0    0    0]
 [   0    0    0    0    0    0 1000    0    0    0]
 [   0    0    0    0    0    0 1000    0    0    0]
 [   0    0    0    0    0    0 1000    0    0    0]
 [   0    0    0    0    0    0 1000    0    0    0]
 [   0    0    0    0    0    0 1000    0    0    0]]
2025-08-24 09:14:27,446 - INFO - Starting Round 2/50 with algorithm fedentropy and model cnn
2025-08-24 09:14:27,446 - INFO - Selected clients for Round 2: [15, 14, 8, 47, 6]
2025-08-24 09:14:28,219 - INFO - Client 15 Train Loss: 0.9880
2025-08-24 09:14:28,762 - INFO - Client 14 Train Loss: 0.7191
2025-08-24 09:14:29,304 - INFO - Client 8 Train Loss: 1.0590
2025-08-24 09:14:32,109 - INFO - Client 47 Train Loss: 0.3131
2025-08-24 09:14:34,073 - INFO - Client 6 Train Loss: 0.2137
2025-08-24 09:14:34,073 - INFO - Global Average Train Loss: 0.6586
2025-08-24 09:14:34,778 - INFO - FedEntropy weights: [0.19889611 0.21838827 0.19566829 0.20236298 0.18468435]
2025-08-24 09:14:34,815 - INFO - Aggregated using FedEntropy
2025-08-24 09:14:38,437 - INFO - Global Model Validation Loss: 2.4074, Top1_Accuracy: 20.97%, Top5_Accuracy: 59.65%
2025-08-24 09:14:38,437 - INFO - Precision: 0.8468, Recall: 0.2097, F1-Score: 0.0991
2025-08-24 09:14:38,438 - INFO - Confusion Matrix:
[[   0    0    0  996    0    0    0    4    0    0]
 [   0    0    0  999    0    0    0    1    0    0]
 [   0    0    0  999    0    0    0    1    0    0]
 [   0    0    0 1000    0    0    0    0    0    0]
 [   0    0    0  999    0    0    0    1    0    0]
 [   0    0    0  377    0    0    0  622    1    0]
 [   0    0    0  993    0    0    0    7    0    0]
 [   0    0    0   22    0    0    0  978    0    0]
 [   0    0    0  428    0    0    0  453  119    0]
 [   0    0    0  419    0    0    0  577    4    0]]
2025-08-24 09:14:38,438 - INFO - Starting Round 3/50 with algorithm fedentropy and model cnn
2025-08-24 09:14:38,439 - INFO - Selected clients for Round 3: [43, 47, 34, 5, 37]
2025-08-24 09:14:42,383 - INFO - Client 43 Train Loss: 0.3414
2025-08-24 09:14:45,092 - INFO - Client 47 Train Loss: 0.5094
2025-08-24 09:14:46,099 - INFO - Client 34 Train Loss: 0.3770
2025-08-24 09:14:49,873 - INFO - Client 5 Train Loss: 0.0893
2025-08-24 09:14:51,833 - INFO - Client 37 Train Loss: 0.1909
2025-08-24 09:14:51,834 - INFO - Global Average Train Loss: 0.3016
2025-08-24 09:14:52,557 - INFO - FedEntropy weights: [0.17116683 0.17271023 0.24372156 0.19311304 0.21928835]
2025-08-24 09:14:52,598 - INFO - Aggregated using FedEntropy
2025-08-24 09:14:56,345 - INFO - Global Model Validation Loss: 2.0628, Top1_Accuracy: 42.44%, Top5_Accuracy: 60.88%
2025-08-24 09:14:56,345 - INFO - Precision: 0.7027, Recall: 0.4244, F1-Score: 0.3405
2025-08-24 09:14:56,346 - INFO - Confusion Matrix:
[[  0   1  26   0  70  64 838   1   0   0]
 [  0 872  11   0  58  34  25   0   0   0]
 [  0   0 624   0 141  27 208   0   0   0]
 [  0  91  23   0 208 179 499   0   0   0]
 [  0   0 321   0 534  19 126   0   0   0]
 [  0   0   0   0   0 942   5  53   0   0]
 [  0   0 354   0 113  60 473   0   0   0]
 [  0   0   0   0   0 201   0 799   0   0]
 [  0   1   1   0   8 694 198  98   0   0]
 [  0   0   0   0   1 725  47 227   0   0]]
2025-08-24 09:14:56,348 - INFO - Starting Round 4/50 with algorithm fedentropy and model cnn
2025-08-24 09:14:56,348 - INFO - Selected clients for Round 4: [27, 2, 1, 5, 13]
2025-08-24 09:14:59,144 - INFO - Client 27 Train Loss: 0.4429
2025-08-24 09:15:02,787 - INFO - Client 2 Train Loss: 0.1846
2025-08-24 09:15:04,661 - INFO - Client 1 Train Loss: 0.1423
2025-08-24 09:15:08,565 - INFO - Client 5 Train Loss: 0.0639
2025-08-24 09:15:10,642 - INFO - Client 13 Train Loss: 0.1609
2025-08-24 09:15:10,643 - INFO - Global Average Train Loss: 0.1989
2025-08-24 09:15:11,371 - INFO - FedEntropy weights: [0.19675444 0.16018777 0.22680371 0.1928837  0.22337039]
2025-08-24 09:15:11,411 - INFO - Aggregated using FedEntropy
2025-08-24 09:15:15,532 - INFO - Global Model Validation Loss: 2.2920, Top1_Accuracy: 28.96%, Top5_Accuracy: 74.98%
2025-08-24 09:15:15,532 - INFO - Precision: 0.7841, Recall: 0.2896, F1-Score: 0.1540
2025-08-24 09:15:15,533 - INFO - Confusion Matrix:
[[931  68   0   0   0   0   0   1   0   0]
 [  7 993   0   0   0   0   0   0   0   0]
 [866 131   3   0   0   0   0   0   0   0]
 [169 831   0   0   0   0   0   0   0   0]
 [806 193   1   0   0   0   0   0   0   0]
 [379  23   0   0   0   0   0 598   0   0]
 [899 101   0   0   0   0   0   0   0   0]
 [ 31   0   0   0   0   0   0 969   0   0]
 [935  22   0   0   0   0   0  43   0   0]
 [697  18   0   0   0   0   0 285   0   0]]
2025-08-24 09:15:15,534 - INFO - Starting Round 5/50 with algorithm fedentropy and model cnn
2025-08-24 09:15:15,534 - INFO - Selected clients for Round 5: [14, 32, 38, 1, 35]
2025-08-24 09:15:16,111 - INFO - Client 14 Train Loss: 0.1702
2025-08-24 09:15:17,347 - INFO - Client 32 Train Loss: 0.5075
2025-08-24 09:15:17,797 - INFO - Client 38 Train Loss: 0.5884
2025-08-24 09:15:19,696 - INFO - Client 1 Train Loss: 0.1558
2025-08-24 09:15:22,107 - INFO - Client 35 Train Loss: 0.1518
2025-08-24 09:15:22,108 - INFO - Global Average Train Loss: 0.3147
2025-08-24 09:15:22,855 - INFO - FedEntropy weights: [0.23850575 0.21804797 0.23887957 0.17585976 0.12870695]
2025-08-24 09:15:22,889 - INFO - Aggregated using FedEntropy
2025-08-24 09:15:26,579 - INFO - Global Model Validation Loss: 2.3313, Top1_Accuracy: 31.70%, Top5_Accuracy: 89.67%
2025-08-24 09:15:26,579 - INFO - Precision: 0.6852, Recall: 0.3170, F1-Score: 0.2032
2025-08-24 09:15:26,580 - INFO - Confusion Matrix:
[[   0    0   11  419  107    0  430   33    0    0]
 [   0    0    0  990    5    0    0    5    0    0]
 [   0    0  319   71  439    0  154   17    0    0]
 [   0    0    1  947   35    0    8    9    0    0]
 [   0    0   67  186  703    0   37    7    0    0]
 [   0    0    0   16   16    1    1  966    0    0]
 [   0    0   78  234  461    0  200   27    0    0]
 [   0    0    0    0    0    0    0 1000    0    0]
 [   0    0    0   56   60    0   94  790    0    0]
 [   0    0    0   45   10    0    1  944    0    0]]
2025-08-24 09:15:26,580 - INFO - Starting Round 6/50 with algorithm fedentropy and model cnn
2025-08-24 09:15:26,581 - INFO - Selected clients for Round 6: [12, 45, 41, 44, 34]
2025-08-24 09:15:29,794 - INFO - Client 12 Train Loss: 0.5361
2025-08-24 09:15:30,415 - INFO - Client 45 Train Loss: 0.6967
2025-08-24 09:15:32,378 - INFO - Client 41 Train Loss: 0.4899
2025-08-24 09:15:35,497 - INFO - Client 44 Train Loss: 0.2345
2025-08-24 09:15:36,507 - INFO - Client 34 Train Loss: 0.2149
2025-08-24 09:15:36,507 - INFO - Global Average Train Loss: 0.4344
2025-08-24 09:15:37,270 - INFO - FedEntropy weights: [0.14627083 0.21750269 0.21913322 0.17967788 0.23741538]
2025-08-24 09:15:37,309 - INFO - Aggregated using FedEntropy
2025-08-24 09:15:41,099 - INFO - Global Model Validation Loss: 1.6485, Top1_Accuracy: 41.89%, Top5_Accuracy: 86.92%
2025-08-24 09:15:41,099 - INFO - Precision: 0.7528, Recall: 0.4189, F1-Score: 0.3003
2025-08-24 09:15:41,100 - INFO - Confusion Matrix:
[[ 664   23  102    0  174    0    0    0   37    0]
 [   0  980    0    0   15    0    0    0    5    0]
 [   3    3  749    0  232    0    0    0   13    0]
 [  64  570   38    0  318    0    0    0   10    0]
 [   0   16  141    0  837    0    0    0    6    0]
 [   3    0    0    0   14    0    0    0  983    0]
 [ 174   14  300    0  470    0    0    0   42    0]
 [   0    0    0    0    0    0    0    0 1000    0]
 [   1    5   14    0   21    0    0    0  959    0]
 [   0    1    0    0   46    0    0    0  953    0]]
2025-08-24 09:15:41,100 - INFO - Starting Round 7/50 with algorithm fedentropy and model cnn
2025-08-24 09:15:41,100 - INFO - Selected clients for Round 7: [26, 14, 28, 37, 17]
2025-08-24 09:15:44,143 - INFO - Client 26 Train Loss: 0.0871
2025-08-24 09:15:44,667 - INFO - Client 14 Train Loss: 0.2355
2025-08-24 09:15:48,586 - INFO - Client 28 Train Loss: 0.1126
2025-08-24 09:15:50,622 - INFO - Client 37 Train Loss: 0.0775
2025-08-24 09:15:51,092 - INFO - Client 17 Train Loss: 0.4547
2025-08-24 09:15:51,092 - INFO - Global Average Train Loss: 0.1935
2025-08-24 09:15:51,798 - INFO - FedEntropy weights: [0.19500391 0.23043197 0.14395981 0.20585505 0.22474926]
2025-08-24 09:15:51,838 - INFO - Aggregated using FedEntropy
2025-08-24 09:15:55,513 - INFO - Global Model Validation Loss: 1.8908, Top1_Accuracy: 30.44%, Top5_Accuracy: 89.19%
2025-08-24 09:15:55,513 - INFO - Precision: 0.7144, Recall: 0.3044, F1-Score: 0.2735
2025-08-24 09:15:55,514 - INFO - Confusion Matrix:
[[   0    8    0    0    0   17  975    0    0    0]
 [   0  977    0    0    0    6   17    0    0    0]
 [   0    3    0    0    0    3  994    0    0    0]
 [   6  389    0   89    0   20  496    0    0    0]
 [   0   13    0    2    0    8  977    0    0    0]
 [   0    0    0    0    0  998    2    0    0    0]
 [   0    9    0    0    0   11  980    0    0    0]
 [   0    0    0    0    0 1000    0    0    0    0]
 [   0    5    0    0    0  770  225    0    0    0]
 [   0    0    0    0    0  993    7    0    0    0]]
2025-08-24 09:15:55,514 - INFO - Starting Round 8/50 with algorithm fedentropy and model cnn
2025-08-24 09:15:55,514 - INFO - Selected clients for Round 8: [0, 48, 10, 44, 27]
2025-08-24 09:15:56,697 - INFO - Client 0 Train Loss: 0.6761
2025-08-24 09:15:58,890 - INFO - Client 48 Train Loss: 0.2648
2025-08-24 09:16:01,005 - INFO - Client 10 Train Loss: 0.0313
2025-08-24 09:16:04,186 - INFO - Client 44 Train Loss: 0.1917
2025-08-24 09:16:06,848 - INFO - Client 27 Train Loss: 0.2912
2025-08-24 09:16:06,849 - INFO - Global Average Train Loss: 0.2910
2025-08-24 09:16:07,592 - INFO - FedEntropy weights: [0.21116045 0.21170926 0.22302363 0.17704885 0.17705781]
2025-08-24 09:16:07,628 - INFO - Aggregated using FedEntropy
2025-08-24 09:16:11,332 - INFO - Global Model Validation Loss: 1.7012, Top1_Accuracy: 40.00%, Top5_Accuracy: 94.03%
2025-08-24 09:16:11,333 - INFO - Precision: 0.7869, Recall: 0.4000, F1-Score: 0.3535
2025-08-24 09:16:11,334 - INFO - Confusion Matrix:
[[995   0   2   3   0   0   0   0   0   0]
 [ 33 929   2  35   1   0   0   0   0   0]
 [490   1 420   3  86   0   0   0   0   0]
 [703   6   0 291   0   0   0   0   0   0]
 [427   5 205  11 352   0   0   0   0   0]
 [629   0   0   0   0  90   0 281   0   0]
 [799   2 135   3  61   0   0   0   0   0]
 [ 79   0   0   0   0   0   0 921   0   0]
 [981   2   0   0   2   0   0  13   2   0]
 [740   0   0   0   0   0   0 260   0   0]]
2025-08-24 09:16:11,334 - INFO - Starting Round 9/50 with algorithm fedentropy and model cnn
2025-08-24 09:16:11,334 - INFO - Selected clients for Round 9: [21, 17, 9, 13, 48]
2025-08-24 09:16:11,399 - INFO - Client 21 Train Loss: 0.7376
2025-08-24 09:16:11,863 - INFO - Client 17 Train Loss: 0.8354
2025-08-24 09:16:12,477 - INFO - Client 9 Train Loss: 0.1513
2025-08-24 09:16:14,497 - INFO - Client 13 Train Loss: 0.0211
2025-08-24 09:16:16,651 - INFO - Client 48 Train Loss: 0.2245
2025-08-24 09:16:16,651 - INFO - Global Average Train Loss: 0.3940
2025-08-24 09:16:17,357 - INFO - FedEntropy weights: [0.24953661 0.16284299 0.22587269 0.19937939 0.16236832]
2025-08-24 09:16:17,393 - INFO - Aggregated using FedEntropy
2025-08-24 09:16:20,997 - INFO - Global Model Validation Loss: 1.3036, Top1_Accuracy: 49.45%, Top5_Accuracy: 98.17%
2025-08-24 09:16:20,997 - INFO - Precision: 0.6271, Recall: 0.4945, F1-Score: 0.4018
2025-08-24 09:16:20,998 - INFO - Confusion Matrix:
[[671  43  87  39   0  20 139   1   0   0]
 [  0 991   6   1   1   1   0   0   0   0]
 [  3  11 965   0   1   1  19   0   0   0]
 [ 12 641  87 188   3   6  63   0   0   0]
 [  0  62 792   0  27   2 117   0   0   0]
 [  0   2   0   0   0 903   1  94   0   0]
 [132  36 608   9   2  10 203   0   0   0]
 [  0   0   0   0   0  50   0 950   0   0]
 [  0  11 155   6   0 146 514 126  36   6]
 [  0  12   4   0   0 620  11 342   0  11]]
2025-08-24 09:16:20,998 - INFO - Starting Round 10/50 with algorithm fedentropy and model cnn
2025-08-24 09:16:20,999 - INFO - Selected clients for Round 10: [21, 6, 5, 24, 22]
2025-08-24 09:16:21,058 - INFO - Client 21 Train Loss: 0.6182
2025-08-24 09:16:23,070 - INFO - Client 6 Train Loss: 0.0477
2025-08-24 09:16:26,867 - INFO - Client 5 Train Loss: 0.0421
2025-08-24 09:16:28,449 - INFO - Client 24 Train Loss: 0.0408
2025-08-24 09:16:29,547 - INFO - Client 22 Train Loss: 0.3668
2025-08-24 09:16:29,547 - INFO - Global Average Train Loss: 0.2231
2025-08-24 09:16:30,280 - INFO - FedEntropy weights: [0.24937272 0.19179681 0.13730314 0.23031188 0.19121545]
2025-08-24 09:16:30,315 - INFO - Aggregated using FedEntropy
2025-08-24 09:16:34,192 - INFO - Global Model Validation Loss: 1.6818, Top1_Accuracy: 44.29%, Top5_Accuracy: 96.80%
2025-08-24 09:16:34,193 - INFO - Precision: 0.7420, Recall: 0.4429, F1-Score: 0.3502
2025-08-24 09:16:34,194 - INFO - Confusion Matrix:
[[ 273    0   60  656    1    1    0    9    0    0]
 [   0  891    9   99    0    0    0    1    0    0]
 [   2    0  907   76   12    0    0    3    0    0]
 [   0    1   13  985    1    0    0    0    0    0]
 [   1    3  661  245   89    0    0    1    0    0]
 [   0    0    0   10    0  254    0  736    0    0]
 [  48    0  592  344    9    2    0    5    0    0]
 [   0    0    0    0    0    0    0 1000    0    0]
 [   1    0  285  179   41    4    0  460   30    0]
 [   0    0    1   43    0    5    0  951    0    0]]
2025-08-24 09:16:34,194 - INFO - Starting Round 11/50 with algorithm fedentropy and model cnn
2025-08-24 09:16:34,194 - INFO - Selected clients for Round 11: [22, 38, 16, 2, 46]
2025-08-24 09:16:35,478 - INFO - Client 22 Train Loss: 0.2273
2025-08-24 09:16:35,990 - INFO - Client 38 Train Loss: 0.1885
2025-08-24 09:16:37,120 - INFO - Client 16 Train Loss: 0.3004
2025-08-24 09:16:40,919 - INFO - Client 2 Train Loss: 0.1064
2025-08-24 09:16:42,613 - INFO - Client 46 Train Loss: 0.8155
2025-08-24 09:16:42,613 - INFO - Global Average Train Loss: 0.3276
2025-08-24 09:16:43,321 - INFO - FedEntropy weights: [0.22728407 0.24254686 0.22500775 0.13118569 0.17397563]
2025-08-24 09:16:43,361 - INFO - Aggregated using FedEntropy
2025-08-24 09:16:47,185 - INFO - Global Model Validation Loss: 1.1735, Top1_Accuracy: 55.33%, Top5_Accuracy: 98.97%
2025-08-24 09:16:47,185 - INFO - Precision: 0.7231, Recall: 0.5533, F1-Score: 0.5096
2025-08-24 09:16:47,186 - INFO - Confusion Matrix:
[[733   5  26  47  94   7  20   0  68   0]
 [  0 973   0   4  16   1   0   0   6   0]
 [  8   1 239   0 734   0   2   0  16   0]
 [ 17  68   5 581 277   1   4   0  47   0]
 [  0   3   4   1 985   0   0   0   7   0]
 [  0   0   0   0   1 684   0  46 269   0]
 [189   2  48  12 659   4  18   0  68   0]
 [  0   0   0   0   0   9   0 353 638   0]
 [  1   2   3   1  20   8   0   0 965   0]
 [  0   0   0   0   4  15   0   0 979   2]]
2025-08-24 09:16:47,186 - INFO - Starting Round 12/50 with algorithm fedentropy and model cnn
2025-08-24 09:16:47,187 - INFO - Selected clients for Round 12: [29, 34, 7, 24, 5]
2025-08-24 09:16:47,615 - INFO - Client 29 Train Loss: 0.5193
2025-08-24 09:16:48,645 - INFO - Client 34 Train Loss: 0.1458
2025-08-24 09:16:49,564 - INFO - Client 7 Train Loss: 0.3240
2025-08-24 09:16:51,275 - INFO - Client 24 Train Loss: 0.0799
2025-08-24 09:16:55,307 - INFO - Client 5 Train Loss: 0.0560
2025-08-24 09:16:55,307 - INFO - Global Average Train Loss: 0.2250
2025-08-24 09:16:56,043 - INFO - FedEntropy weights: [0.23792386 0.22715826 0.21712481 0.18371717 0.1340759 ]
2025-08-24 09:16:56,078 - INFO - Aggregated using FedEntropy
2025-08-24 09:16:59,841 - INFO - Global Model Validation Loss: 1.6118, Top1_Accuracy: 46.20%, Top5_Accuracy: 96.42%
2025-08-24 09:16:59,841 - INFO - Precision: 0.7248, Recall: 0.4620, F1-Score: 0.3884
2025-08-24 09:16:59,842 - INFO - Confusion Matrix:
[[ 674    8   44   14    0    2  245   13    0    0]
 [   0  987    6    0    0    0    6    1    0    0]
 [   4    4  956    1    0    0   32    3    0    0]
 [  34  212   45  477    0    1  216   15    0    0]
 [   1   12  840    9    0    0  138    0    0    0]
 [   0    0    0    0    0  311    6  683    0    0]
 [ 170   12  593    4    0    2  215    4    0    0]
 [   0    0    0    0    0    0    0 1000    0    0]
 [   0    7  251    0    0   10  177  555    0    0]
 [   0    1    4    0    0   26   26  943    0    0]]
2025-08-24 09:16:59,843 - INFO - Starting Round 13/50 with algorithm fedentropy and model cnn
2025-08-24 09:16:59,843 - INFO - Selected clients for Round 13: [35, 18, 40, 39, 23]
2025-08-24 09:17:02,208 - INFO - Client 35 Train Loss: 0.1535
2025-08-24 09:17:03,682 - INFO - Client 18 Train Loss: 0.2797
2025-08-24 09:17:04,197 - INFO - Client 40 Train Loss: 0.7059
2025-08-24 09:17:04,615 - INFO - Client 39 Train Loss: 0.3206
2025-08-24 09:17:08,578 - INFO - Client 23 Train Loss: 0.1729
2025-08-24 09:17:08,578 - INFO - Global Average Train Loss: 0.3265
2025-08-24 09:17:09,291 - INFO - FedEntropy weights: [0.17646115 0.21384294 0.20742015 0.24317618 0.15909958]
2025-08-24 09:17:09,326 - INFO - Aggregated using FedEntropy
2025-08-24 09:17:13,025 - INFO - Global Model Validation Loss: 1.5229, Top1_Accuracy: 47.85%, Top5_Accuracy: 98.01%
2025-08-24 09:17:13,026 - INFO - Precision: 0.7244, Recall: 0.4785, F1-Score: 0.3896
2025-08-24 09:17:13,027 - INFO - Confusion Matrix:
[[268   4   0 500 124   3  97   0   0   4]
 [  0 973   0  12  14   0   0   0   0   1]
 [  0   2   0   7 985   1   5   0   0   0]
 [  0  47   0 785 168   0   0   0   0   0]
 [  0   7   0  17 975   0   1   0   0   0]
 [  0   0   0   8   5 733   0   0   0 254]
 [ 27   5   0 199 710   1  56   0   0   2]
 [  0   0   0   0   0  29   0   0   0 971]
 [  0   3   0  35 321   8  21   0  15 597]
 [  0   0   0   2  18   0   0   0   0 980]]
2025-08-24 09:17:13,027 - INFO - Starting Round 14/50 with algorithm fedentropy and model cnn
2025-08-24 09:17:13,027 - INFO - Selected clients for Round 14: [36, 12, 45, 4, 2]
2025-08-24 09:17:15,588 - INFO - Client 36 Train Loss: 0.4490
2025-08-24 09:17:18,484 - INFO - Client 12 Train Loss: 0.4473
2025-08-24 09:17:19,105 - INFO - Client 45 Train Loss: 0.5024
2025-08-24 09:17:21,759 - INFO - Client 4 Train Loss: 0.1006
2025-08-24 09:17:25,298 - INFO - Client 2 Train Loss: 0.1147
2025-08-24 09:17:25,298 - INFO - Global Average Train Loss: 0.3228
2025-08-24 09:17:26,056 - INFO - FedEntropy weights: [0.21790343 0.17203546 0.21639426 0.2128642  0.18080265]
2025-08-24 09:17:26,088 - INFO - Aggregated using FedEntropy
2025-08-24 09:17:29,880 - INFO - Global Model Validation Loss: 1.6762, Top1_Accuracy: 50.71%, Top5_Accuracy: 98.88%
2025-08-24 09:17:29,881 - INFO - Precision: 0.8024, Recall: 0.5071, F1-Score: 0.4186
2025-08-24 09:17:29,882 - INFO - Confusion Matrix:
[[639   5 208 122   0   4   0   0  22   0]
 [  0 971  12  15   0   0   0   0   2   0]
 [  2   1 991   3   0   0   0   0   3   0]
 [ 11  33 155 794   0   2   0   0   5   0]
 [  0   6 959  33   0   0   0   0   2   0]
 [  0   0   4   3   0 733   0   0 260   0]
 [160   0 731  83   0   0   0   0  26   0]
 [  0   0   0   0   0  52   0   0 948   0]
 [  0   2  49   1   0   5   0   0 943   0]
 [  0   0  10   3   0   1   0   0 986   0]]
2025-08-24 09:17:29,883 - INFO - Starting Round 15/50 with algorithm fedentropy and model cnn
2025-08-24 09:17:29,883 - INFO - Selected clients for Round 15: [42, 14, 49, 18, 5]
2025-08-24 09:17:33,642 - INFO - Client 42 Train Loss: 0.0123
2025-08-24 09:17:34,215 - INFO - Client 14 Train Loss: 0.3611
2025-08-24 09:17:35,555 - INFO - Client 49 Train Loss: 0.1792
2025-08-24 09:17:36,910 - INFO - Client 18 Train Loss: 0.1777
2025-08-24 09:17:41,004 - INFO - Client 5 Train Loss: 0.0809
2025-08-24 09:17:41,004 - INFO - Global Average Train Loss: 0.1622
2025-08-24 09:17:41,708 - INFO - FedEntropy weights: [0.18607535 0.21123913 0.2336815  0.21664208 0.15236194]
2025-08-24 09:17:41,750 - INFO - Aggregated using FedEntropy
2025-08-24 09:17:45,708 - INFO - Global Model Validation Loss: 1.4515, Top1_Accuracy: 48.10%, Top5_Accuracy: 98.87%
2025-08-24 09:17:45,708 - INFO - Precision: 0.7745, Recall: 0.4810, F1-Score: 0.3768
2025-08-24 09:17:45,709 - INFO - Confusion Matrix:
[[ 788    7   43  145    0    1    0   14    2    0]
 [   0  984    0   13    0    0    0    3    0    0]
 [  17    3  956   16    0    0    0    7    1    0]
 [  19   54   34  891    0    0    0    2    0    0]
 [   1   13  866  117    0    0    0    3    0    0]
 [   0    0    0    5    0  158    0  837    0    0]
 [ 252    7  593  122    0    1    0   20    5    0]
 [   0    0    0    0    0    0    0 1000    0    0]
 [   9    2   15   13    0    1    0  927   33    0]
 [   0    2    0    5    0    0    0  993    0    0]]
2025-08-24 09:17:45,710 - INFO - Starting Round 16/50 with algorithm fedentropy and model cnn
2025-08-24 09:17:45,710 - INFO - Selected clients for Round 16: [14, 6, 24, 17, 29]
2025-08-24 09:17:46,486 - INFO - Client 14 Train Loss: 0.0546
2025-08-24 09:17:48,544 - INFO - Client 6 Train Loss: 0.0154
2025-08-24 09:17:50,203 - INFO - Client 24 Train Loss: 0.0420
2025-08-24 09:17:50,699 - INFO - Client 17 Train Loss: 0.4878
2025-08-24 09:17:51,053 - INFO - Client 29 Train Loss: 0.2430
2025-08-24 09:17:51,053 - INFO - Global Average Train Loss: 0.1685
2025-08-24 09:17:51,789 - INFO - FedEntropy weights: [0.24123823 0.19237593 0.17934867 0.15664496 0.23039221]
2025-08-24 09:17:51,827 - INFO - Aggregated using FedEntropy
2025-08-24 09:17:55,539 - INFO - Global Model Validation Loss: 1.3600, Top1_Accuracy: 52.52%, Top5_Accuracy: 99.13%
2025-08-24 09:17:55,539 - INFO - Precision: 0.7548, Recall: 0.5252, F1-Score: 0.4604
2025-08-24 09:17:55,540 - INFO - Confusion Matrix:
[[ 659    0   17  182    0    1  132    7    2    0]
 [   0  938    4   55    0    0    1    2    0    0]
 [   8    0  921   21    0    0   48    2    0    0]
 [   6    2   15  948    0    0   29    0    0    0]
 [   0    3  707  109    0    0  181    0    0    0]
 [   0    0    0    8    0  279    0  713    0    0]
 [ 131    0  388  146    0    1  331    3    0    0]
 [   0    0    0    0    0    0    0 1000    0    0]
 [   1    0    7   29    0    5  102  681  175    0]
 [   0    0    0   16    0    0    0  983    0    1]]
2025-08-24 09:17:55,540 - INFO - Starting Round 17/50 with algorithm fedentropy and model cnn
2025-08-24 09:17:55,540 - INFO - Selected clients for Round 17: [40, 23, 10, 22, 13]
2025-08-24 09:17:56,087 - INFO - Client 40 Train Loss: 0.3900
2025-08-24 09:18:00,225 - INFO - Client 23 Train Loss: 0.1281
2025-08-24 09:18:02,280 - INFO - Client 10 Train Loss: 0.0324
2025-08-24 09:18:03,437 - INFO - Client 22 Train Loss: 0.2387
2025-08-24 09:18:05,474 - INFO - Client 13 Train Loss: 0.0471
2025-08-24 09:18:05,474 - INFO - Global Average Train Loss: 0.1673
2025-08-24 09:18:06,185 - INFO - FedEntropy weights: [0.2108566  0.15977955 0.20623583 0.22400239 0.19912563]
2025-08-24 09:18:06,226 - INFO - Aggregated using FedEntropy
2025-08-24 09:18:09,831 - INFO - Global Model Validation Loss: 1.3041, Top1_Accuracy: 55.56%, Top5_Accuracy: 99.25%
2025-08-24 09:18:09,832 - INFO - Precision: 0.7294, Recall: 0.5556, F1-Score: 0.4846
2025-08-24 09:18:09,834 - INFO - Confusion Matrix:
[[991   1   0   0   1   3   0   0   4   0]
 [ 20 977   0   1   0   0   0   0   1   1]
 [580   4 177   0 219   1  18   0   1   0]
 [927  68   0   4   1   0   0   0   0   0]
 [292  11  10   0 640   0  45   0   2   0]
 [ 17   0   0   0   0 898   0   0   1  84]
 [780   4   8   0 139   2  55   0  12   0]
 [  0   0   0   0   0 202   0  10   0 788]
 [157   2   0   0   1  10   0   0 820  10]
 [ 10   0   0   0   0   6   0   0   0 984]]
2025-08-24 09:18:09,835 - INFO - Starting Round 18/50 with algorithm fedentropy and model cnn
2025-08-24 09:18:09,835 - INFO - Selected clients for Round 18: [42, 17, 44, 43, 41]
2025-08-24 09:18:13,704 - INFO - Client 42 Train Loss: 0.0108
2025-08-24 09:18:14,192 - INFO - Client 17 Train Loss: 0.3398
2025-08-24 09:18:17,460 - INFO - Client 44 Train Loss: 0.1531
2025-08-24 09:18:21,902 - INFO - Client 43 Train Loss: 0.2132
2025-08-24 09:18:24,000 - INFO - Client 41 Train Loss: 0.3444
2025-08-24 09:18:24,000 - INFO - Global Average Train Loss: 0.2122
2025-08-24 09:18:24,710 - INFO - FedEntropy weights: [0.20002916 0.20783313 0.20021018 0.17866836 0.21325917]
2025-08-24 09:18:24,752 - INFO - Aggregated using FedEntropy
2025-08-24 09:18:28,680 - INFO - Global Model Validation Loss: 0.9471, Top1_Accuracy: 70.38%, Top5_Accuracy: 98.41%
2025-08-24 09:18:28,681 - INFO - Precision: 0.7955, Recall: 0.7038, F1-Score: 0.6784
2025-08-24 09:18:28,682 - INFO - Confusion Matrix:
[[  0  22  29  14  30   7 892   1   4   1]
 [  0 984   0   1  11   0   3   0   1   0]
 [  0   2 617   0 297   0  84   0   0   0]
 [  0 253  11 457 201   1  77   0   0   0]
 [  0   9  37   1 906   0  47   0   0   0]
 [  0   1   0   0   0 893   1  64   0  41]
 [  0  16 101   2 296   6 578   0   1   0]
 [  0   0   0   0   0  56   0 826   1 117]
 [  0   5   2   0   8  24 120   7 831   3]
 [  0   4   0   0   0  10   1  33   6 946]]
2025-08-24 09:18:28,682 - INFO - Starting Round 19/50 with algorithm fedentropy and model cnn
2025-08-24 09:18:28,682 - INFO - Selected clients for Round 19: [4, 38, 40, 10, 34]
2025-08-24 09:18:31,473 - INFO - Client 4 Train Loss: 0.0899
2025-08-24 09:18:31,955 - INFO - Client 38 Train Loss: 0.3225
2025-08-24 09:18:32,458 - INFO - Client 40 Train Loss: 0.1851
2025-08-24 09:18:34,599 - INFO - Client 10 Train Loss: 0.0873
2025-08-24 09:18:35,585 - INFO - Client 34 Train Loss: 0.1356
2025-08-24 09:18:35,585 - INFO - Global Average Train Loss: 0.1641
2025-08-24 09:18:36,282 - INFO - FedEntropy weights: [0.18032931 0.21786696 0.22264482 0.14951361 0.2296453 ]
2025-08-24 09:18:36,318 - INFO - Aggregated using FedEntropy
2025-08-24 09:18:40,113 - INFO - Global Model Validation Loss: 0.9524, Top1_Accuracy: 64.10%, Top5_Accuracy: 99.23%
2025-08-24 09:18:40,113 - INFO - Precision: 0.6978, Recall: 0.6410, F1-Score: 0.5814
2025-08-24 09:18:40,114 - INFO - Confusion Matrix:
[[839   2  49 101   0   1   3   1   1   3]
 [  0 954   2  42   0   0   0   0   0   2]
 [ 13   1 963  20   2   0   0   0   0   1]
 [ 35   6  28 931   0   0   0   0   0   0]
 [  2   8 743 151  96   0   0   0   0   0]
 [  3   0   0   3   0 354   0 432   0 208]
 [294   4 593  84  17   1   4   0   0   3]
 [  0   0   0   0   0   0   0 902   0  98]
 [ 37   5  50  34   5   1   9  43 420 396]
 [  0   0   0   3   0   0   0  50   0 947]]
2025-08-24 09:18:40,114 - INFO - Starting Round 20/50 with algorithm fedentropy and model cnn
2025-08-24 09:18:40,115 - INFO - Selected clients for Round 20: [46, 15, 10, 29, 24]
2025-08-24 09:18:41,811 - INFO - Client 46 Train Loss: 0.7153
2025-08-24 09:18:42,574 - INFO - Client 15 Train Loss: 0.4055
2025-08-24 09:18:44,750 - INFO - Client 10 Train Loss: 0.0216
2025-08-24 09:18:45,096 - INFO - Client 29 Train Loss: 0.2383
2025-08-24 09:18:46,710 - INFO - Client 24 Train Loss: 0.0315
2025-08-24 09:18:46,710 - INFO - Global Average Train Loss: 0.2824
2025-08-24 09:18:47,412 - INFO - FedEntropy weights: [0.15706853 0.21688591 0.18306429 0.2271361  0.21584517]
2025-08-24 09:18:47,451 - INFO - Aggregated using FedEntropy
2025-08-24 09:18:51,109 - INFO - Global Model Validation Loss: 0.9824, Top1_Accuracy: 65.37%, Top5_Accuracy: 99.42%
2025-08-24 09:18:51,109 - INFO - Precision: 0.7238, Recall: 0.6537, F1-Score: 0.6100
2025-08-24 09:18:51,110 - INFO - Confusion Matrix:
[[927   0  63   0   2   1   3   1   3   0]
 [ 23 945   7  20   5   0   0   0   0   0]
 [ 19   0 962   0  18   0   0   0   1   0]
 [759   4  77 111  49   0   0   0   0   0]
 [ 27   3 672   0 298   0   0   0   0   0]
 [ 13   0   0   0   0 654   0 288   0  45]
 [350   0 590   1  48   2   8   0   1   0]
 [  0   0   0   0   0   3   0 953   0  44]
 [ 70   0  80   0   9   4  14  28 790   5]
 [  8   0   0   0   0   2   0 101   0 889]]
2025-08-24 09:18:51,110 - INFO - Starting Round 21/50 with algorithm fedentropy and model cnn
2025-08-24 09:18:51,110 - INFO - Selected clients for Round 21: [17, 40, 44, 35, 14]
2025-08-24 09:18:51,630 - INFO - Client 17 Train Loss: 0.3371
2025-08-24 09:18:52,179 - INFO - Client 40 Train Loss: 0.2440
2025-08-24 09:18:55,240 - INFO - Client 44 Train Loss: 0.1202
2025-08-24 09:18:57,686 - INFO - Client 35 Train Loss: 0.0274
2025-08-24 09:18:58,249 - INFO - Client 14 Train Loss: 0.0916
2025-08-24 09:18:58,249 - INFO - Global Average Train Loss: 0.1640
2025-08-24 09:18:58,993 - INFO - FedEntropy weights: [0.17970535 0.2251314  0.16860897 0.19335103 0.23320324]
2025-08-24 09:18:59,032 - INFO - Aggregated using FedEntropy
2025-08-24 09:19:02,782 - INFO - Global Model Validation Loss: 1.2427, Top1_Accuracy: 62.88%, Top5_Accuracy: 97.80%
2025-08-24 09:19:02,782 - INFO - Precision: 0.7990, Recall: 0.6288, F1-Score: 0.5837
2025-08-24 09:19:02,783 - INFO - Confusion Matrix:
[[  0   1   0  21  21   4 946   1   2   4]
 [  0 963   0  11  18   0   6   0   0   2]
 [  0   0   0   1 713   0 284   0   1   1]
 [  0   9   0 700 175   0 108   0   0   8]
 [  0   0   0   3 974   0  22   0   1   0]
 [  0   0   0   0   0 510   0 316   0 174]
 [  0   0   0  10 409   3 576   1   1   0]
 [  0   0   0   0   0   0   0 873   0 127]
 [  0   1   0   0  21   8 131  46 729  64]
 [  0   0   0   0   0   0   0  37   0 963]]
2025-08-24 09:19:02,783 - INFO - Starting Round 22/50 with algorithm fedentropy and model cnn
2025-08-24 09:19:02,784 - INFO - Selected clients for Round 22: [43, 20, 49, 3, 14]
2025-08-24 09:19:06,796 - INFO - Client 43 Train Loss: 0.1631
2025-08-24 09:19:08,150 - INFO - Client 20 Train Loss: 0.4648
2025-08-24 09:19:09,462 - INFO - Client 49 Train Loss: 0.1381
2025-08-24 09:19:12,061 - INFO - Client 3 Train Loss: 0.2735
2025-08-24 09:19:12,611 - INFO - Client 14 Train Loss: 0.0873
2025-08-24 09:19:12,611 - INFO - Global Average Train Loss: 0.2254
2025-08-24 09:19:13,337 - INFO - FedEntropy weights: [0.15942757 0.18695711 0.21633982 0.20019545 0.23708005]
2025-08-24 09:19:13,375 - INFO - Aggregated using FedEntropy
2025-08-24 09:19:17,145 - INFO - Global Model Validation Loss: 1.0643, Top1_Accuracy: 64.33%, Top5_Accuracy: 99.52%
2025-08-24 09:19:17,147 - INFO - Precision: 0.7619, Recall: 0.6433, F1-Score: 0.6248
2025-08-24 09:19:17,148 - INFO - Confusion Matrix:
[[ 707    3    4  206    0    1   70    5    4    0]
 [   0  957    0   41    0    0    0    1    1    0]
 [  12    1  470   56  308    0  150    0    3    0]
 [   5    3    0  979    1    0   11    0    1    0]
 [   0    9   31  203  711    0   45    0    1    0]
 [   0    0    0   10    0  370    0  619    0    1]
 [ 170    5   54  200  184    2  367    0   18    0]
 [   0    0    0    0    0    0    0 1000    0    0]
 [   1    3    1   32    2    5   21  175  760    0]
 [   0    0    0    9    0    0    0  879    0  112]]
2025-08-24 09:19:17,148 - INFO - Starting Round 23/50 with algorithm fedentropy and model cnn
2025-08-24 09:19:17,148 - INFO - Selected clients for Round 23: [2, 20, 25, 17, 4]
2025-08-24 09:19:20,880 - INFO - Client 2 Train Loss: 0.0633
2025-08-24 09:19:22,218 - INFO - Client 20 Train Loss: 0.2942
2025-08-24 09:19:23,180 - INFO - Client 25 Train Loss: 0.3189
2025-08-24 09:19:23,701 - INFO - Client 17 Train Loss: 0.1984
2025-08-24 09:19:26,479 - INFO - Client 4 Train Loss: 0.0509
2025-08-24 09:19:26,479 - INFO - Global Average Train Loss: 0.1851
2025-08-24 09:19:27,191 - INFO - FedEntropy weights: [0.16423303 0.21646444 0.22557824 0.20900721 0.18471708]
2025-08-24 09:19:27,228 - INFO - Aggregated using FedEntropy
2025-08-24 09:19:30,932 - INFO - Global Model Validation Loss: 0.9040, Top1_Accuracy: 70.09%, Top5_Accuracy: 99.02%
2025-08-24 09:19:30,932 - INFO - Precision: 0.7791, Recall: 0.7009, F1-Score: 0.6618
2025-08-24 09:19:30,933 - INFO - Confusion Matrix:
[[816   2  62  31   0   1  73   1  13   1]
 [  1 974   6  17   0   0   0   0   2   0]
 [ 11   2 968   4   0   0  12   0   3   0]
 [ 33  14  69 855   0   0  27   0   2   0]
 [  0   9 823  57   5   0 104   0   2   0]
 [  2   0   2  12   0 627   0 304  35  18]
 [247   1 535  25   0   0 168   0  24   0]
 [  0   0   0   0   0   1   0 982  12   5]
 [  2   3  20   4   0   6   8   3 954   0]
 [  2   0   0  10   0   0   1 222 105 660]]
2025-08-24 09:19:30,933 - INFO - Starting Round 24/50 with algorithm fedentropy and model cnn
2025-08-24 09:19:30,933 - INFO - Selected clients for Round 24: [13, 36, 45, 20, 41]
2025-08-24 09:19:33,144 - INFO - Client 13 Train Loss: 0.0261
2025-08-24 09:19:35,460 - INFO - Client 36 Train Loss: 0.3838
2025-08-24 09:19:36,072 - INFO - Client 45 Train Loss: 0.1093
2025-08-24 09:19:37,416 - INFO - Client 20 Train Loss: 0.2079
2025-08-24 09:19:39,364 - INFO - Client 41 Train Loss: 0.2554
2025-08-24 09:19:39,365 - INFO - Global Average Train Loss: 0.1965
2025-08-24 09:19:40,077 - INFO - FedEntropy weights: [0.20078839 0.15008624 0.23194238 0.22033393 0.19684906]
2025-08-24 09:19:40,112 - INFO - Aggregated using FedEntropy
2025-08-24 09:19:43,759 - INFO - Global Model Validation Loss: 1.0118, Top1_Accuracy: 70.52%, Top5_Accuracy: 99.29%
2025-08-24 09:19:43,759 - INFO - Precision: 0.8111, Recall: 0.7052, F1-Score: 0.6717
2025-08-24 09:19:43,760 - INFO - Confusion Matrix:
[[944   1  43   5   2   1   0   1   3   0]
 [  5 977   6   8   2   0   0   0   2   0]
 [ 24   1 953   1  19   0   0   0   2   0]
 [182  16  61 703  37   0   0   0   1   0]
 [  8   7 555  25 404   0   0   0   1   0]
 [ 19   0   0   1   0 529   0 404  32  15]
 [380   3 517   8  80   0   0   0  12   0]
 [  0   0   0   0   0   0   0 993   3   4]
 [ 41   2  24   0   2   2   0   5 924   0]
 [  8   0   0   1   0   1   0 316  49 625]]
2025-08-24 09:19:43,760 - INFO - Starting Round 25/50 with algorithm fedentropy and model cnn
2025-08-24 09:19:43,760 - INFO - Selected clients for Round 25: [31, 25, 41, 29, 9]
2025-08-24 09:19:48,208 - INFO - Client 31 Train Loss: 0.0276
2025-08-24 09:19:49,199 - INFO - Client 25 Train Loss: 0.2149
2025-08-24 09:19:51,161 - INFO - Client 41 Train Loss: 0.1987
2025-08-24 09:19:51,524 - INFO - Client 29 Train Loss: 0.1238
2025-08-24 09:19:52,143 - INFO - Client 9 Train Loss: 0.0682
2025-08-24 09:19:52,144 - INFO - Global Average Train Loss: 0.1267
2025-08-24 09:19:52,863 - INFO - FedEntropy weights: [0.0903415  0.2285432  0.20870345 0.23465793 0.23775392]
2025-08-24 09:19:52,898 - INFO - Aggregated using FedEntropy
2025-08-24 09:19:56,653 - INFO - Global Model Validation Loss: 1.0282, Top1_Accuracy: 73.01%, Top5_Accuracy: 98.75%
2025-08-24 09:19:56,653 - INFO - Precision: 0.8293, Recall: 0.7301, F1-Score: 0.6968
2025-08-24 09:19:56,654 - INFO - Confusion Matrix:
[[885   1  94   6   1   4   0   0   8   1]
 [  3 983   6   5   1   0   0   0   1   1]
 [ 10   2 982   1   4   0   0   0   1   0]
 [109  34 179 646  30   0   0   0   1   1]
 [  3   9 738  11 238   0   0   0   1   0]
 [  1   0   1   0   0 902   0  45   3  48]
 [308   2 622   6  43   2   0   0  17   0]
 [  0   0   0   0   0  93   0 770   0 137]
 [  7   2  42   0   1   9   0   2 927  10]
 [  1   0   1   0   0   6   0  24   0 968]]
2025-08-24 09:19:56,654 - INFO - Starting Round 26/50 with algorithm fedentropy and model cnn
2025-08-24 09:19:56,655 - INFO - Selected clients for Round 26: [16, 8, 15, 47, 35]
2025-08-24 09:19:57,726 - INFO - Client 16 Train Loss: 0.0911
2025-08-24 09:19:58,316 - INFO - Client 8 Train Loss: 0.1555
2025-08-24 09:19:59,151 - INFO - Client 15 Train Loss: 0.4002
2025-08-24 09:20:02,122 - INFO - Client 47 Train Loss: 0.3920
2025-08-24 09:20:04,582 - INFO - Client 35 Train Loss: 0.0396
2025-08-24 09:20:04,582 - INFO - Global Average Train Loss: 0.2157
2025-08-24 09:20:05,280 - INFO - FedEntropy weights: [0.23002901 0.23270215 0.23143194 0.09792412 0.20791279]
2025-08-24 09:20:05,318 - INFO - Aggregated using FedEntropy
2025-08-24 09:20:09,206 - INFO - Global Model Validation Loss: 1.3067, Top1_Accuracy: 66.08%, Top5_Accuracy: 99.41%
2025-08-24 09:20:09,207 - INFO - Precision: 0.8300, Recall: 0.6608, F1-Score: 0.6198
2025-08-24 09:20:09,208 - INFO - Confusion Matrix:
[[680   0   0  67 197   4   0   0  52   0]
 [  0 949   0  22  27   0   0   0   2   0]
 [ 16   0   0   2 971   0   0   0  11   0]
 [ 11   3   0 726 256   0   0   1   3   0]
 [  0   0   0   1 992   0   0   0   7   0]
 [  0   0   0   3   0 710   0  70 166  51]
 [150   0   0  37 757   0   0   0  56   0]
 [  0   0   0   0   0  13   0 762 176  49]
 [  0   0   0   1  32   3   0   1 959   4]
 [  0   0   0   1   1   1   0  21 146 830]]
2025-08-24 09:20:09,210 - INFO - Starting Round 27/50 with algorithm fedentropy and model cnn
2025-08-24 09:20:09,210 - INFO - Selected clients for Round 27: [34, 16, 47, 37, 27]
2025-08-24 09:20:10,176 - INFO - Client 34 Train Loss: 0.1137
2025-08-24 09:20:11,226 - INFO - Client 16 Train Loss: 0.0551
2025-08-24 09:20:14,032 - INFO - Client 47 Train Loss: 0.3882
2025-08-24 09:20:16,520 - INFO - Client 37 Train Loss: 0.0669
2025-08-24 09:20:19,263 - INFO - Client 27 Train Loss: 0.2319
2025-08-24 09:20:19,263 - INFO - Global Average Train Loss: 0.1712
2025-08-24 09:20:19,991 - INFO - FedEntropy weights: [0.22678488 0.23664631 0.13663107 0.20588437 0.19405338]
2025-08-24 09:20:20,031 - INFO - Aggregated using FedEntropy
2025-08-24 09:20:23,805 - INFO - Global Model Validation Loss: 0.8828, Top1_Accuracy: 64.61%, Top5_Accuracy: 99.64%
2025-08-24 09:20:23,805 - INFO - Precision: 0.7655, Recall: 0.6461, F1-Score: 0.6208
2025-08-24 09:20:23,806 - INFO - Confusion Matrix:
[[880   3   4  26   5  15  64   0   3   0]
 [  1 991   0   5   0   2   1   0   0   0]
 [ 27   5 375   7 448   5 132   0   1   0]
 [ 45  90   1 800  21   8  35   0   0   0]
 [  2  15   9  49 823   5  96   0   1   0]
 [  0   0   0   1   0 999   0   0   0   0]
 [309  10  37  15 149   9 470   0   1   0]
 [  0   0   0   0   0 909   0  90   0   1]
 [ 22   4   0   1   3 125  53   3 789   0]
 [  1   0   0   1   0 742   0  12   0 244]]
2025-08-24 09:20:23,806 - INFO - Starting Round 28/50 with algorithm fedentropy and model cnn
2025-08-24 09:20:23,806 - INFO - Selected clients for Round 28: [37, 25, 23, 14, 8]
2025-08-24 09:20:25,841 - INFO - Client 37 Train Loss: 0.0197
2025-08-24 09:20:26,853 - INFO - Client 25 Train Loss: 0.2659
2025-08-24 09:20:31,566 - INFO - Client 23 Train Loss: 0.0697
2025-08-24 09:20:32,155 - INFO - Client 14 Train Loss: 0.1427
2025-08-24 09:20:32,692 - INFO - Client 8 Train Loss: 0.1805
2025-08-24 09:20:32,693 - INFO - Global Average Train Loss: 0.1357
2025-08-24 09:20:33,416 - INFO - FedEntropy weights: [0.21911954 0.22184253 0.14333422 0.19071488 0.22498883]
2025-08-24 09:20:33,452 - INFO - Aggregated using FedEntropy
2025-08-24 09:20:37,224 - INFO - Global Model Validation Loss: 0.8742, Top1_Accuracy: 69.75%, Top5_Accuracy: 99.15%
2025-08-24 09:20:37,224 - INFO - Precision: 0.7657, Recall: 0.6975, F1-Score: 0.6614
2025-08-24 09:20:37,225 - INFO - Confusion Matrix:
[[831   0  26 103   0   1   0   0  39   0]
 [  1 940   1  54   0   0   0   0   4   0]
 [ 20   0 834  35  79   0   2   0  30   0]
 [ 17   1   6 969   1   0   0   0   6   0]
 [  0   7 266 216 441   0  21   0  49   0]
 [  1   0   0  22   0 298   0 454 209  16]
 [283   1 341 113  57   0 109   0  96   0]
 [  0   0   0   0   0   0   0 959  37   4]
 [  1   0   0  12   0   0   0   3 984   0]
 [  0   0   0  30   0   0   0 206 154 610]]
2025-08-24 09:20:37,225 - INFO - Starting Round 29/50 with algorithm fedentropy and model cnn
2025-08-24 09:20:37,226 - INFO - Selected clients for Round 29: [32, 31, 5, 48, 3]
2025-08-24 09:20:38,513 - INFO - Client 32 Train Loss: 0.2087
2025-08-24 09:20:42,876 - INFO - Client 31 Train Loss: 0.0330
2025-08-24 09:20:46,711 - INFO - Client 5 Train Loss: 0.0365
2025-08-24 09:20:48,874 - INFO - Client 48 Train Loss: 0.1625
2025-08-24 09:20:51,674 - INFO - Client 3 Train Loss: 0.2920
2025-08-24 09:20:51,674 - INFO - Global Average Train Loss: 0.1466
2025-08-24 09:20:52,366 - INFO - FedEntropy weights: [0.2223463  0.17002131 0.19264997 0.21381951 0.20116291]
2025-08-24 09:20:52,402 - INFO - Aggregated using FedEntropy
2025-08-24 09:20:56,154 - INFO - Global Model Validation Loss: 0.9084, Top1_Accuracy: 67.63%, Top5_Accuracy: 99.01%
2025-08-24 09:20:56,154 - INFO - Precision: 0.7516, Recall: 0.6763, F1-Score: 0.6501
2025-08-24 09:20:56,155 - INFO - Confusion Matrix:
[[729   3 101  64   1   1  95   3   0   3]
 [  0 980   4  13   0   0   1   0   0   2]
 [  6   1 974   6  11   0   2   0   0   0]
 [ 15  16  62 893  10   0   4   0   0   0]
 [  0   6 646  63 275   0  10   0   0   0]
 [  0   0   1   1   0 555   0 380   0  63]
 [177   1 591  49  37   2 141   0   0   2]
 [  0   0   0   0   0   0   0 980   0  20]
 [  0   5  74  12   2  10  29 116 345 407]
 [  0   0   0   1   0   1   0 107   0 891]]
2025-08-24 09:20:56,155 - INFO - Starting Round 30/50 with algorithm fedentropy and model cnn
2025-08-24 09:20:56,155 - INFO - Selected clients for Round 30: [7, 9, 40, 10, 43]
2025-08-24 09:20:57,099 - INFO - Client 7 Train Loss: 0.2039
2025-08-24 09:20:57,723 - INFO - Client 9 Train Loss: 0.0714
2025-08-24 09:20:58,241 - INFO - Client 40 Train Loss: 0.1753
2025-08-24 09:21:00,328 - INFO - Client 10 Train Loss: 0.0314
2025-08-24 09:21:04,387 - INFO - Client 43 Train Loss: 0.1305
2025-08-24 09:21:04,388 - INFO - Global Average Train Loss: 0.1225
2025-08-24 09:21:05,104 - INFO - FedEntropy weights: [0.20247934 0.23466123 0.20847043 0.19824392 0.15614509]
2025-08-24 09:21:05,138 - INFO - Aggregated using FedEntropy
2025-08-24 09:21:08,910 - INFO - Global Model Validation Loss: 0.7864, Top1_Accuracy: 68.05%, Top5_Accuracy: 99.33%
2025-08-24 09:21:08,910 - INFO - Precision: 0.8017, Recall: 0.6805, F1-Score: 0.6808
2025-08-24 09:21:08,911 - INFO - Confusion Matrix:
[[728   3   0   5   0   5 255   0   0   4]
 [  1 989   0   2   0   0   6   0   0   2]
 [  7   5 273   1  99   0 615   0   0   0]
 [ 65  63   0 698  12   0 158   0   0   4]
 [  1  14  15  20 393   1 556   0   0   0]
 [  0   0   0   0   0 916   1  28   0  55]
 [155   7   9   6  11   4 808   0   0   0]
 [  0   0   0   0   0  66   0 649   0 285]
 [  4   4   0   0   1  46 191   4 357 393]
 [  0   0   0   0   0   4   0   2   0 994]]
2025-08-24 09:21:08,911 - INFO - Starting Round 31/50 with algorithm fedentropy and model cnn
2025-08-24 09:21:08,912 - INFO - Selected clients for Round 31: [27, 38, 4, 24, 29]
2025-08-24 09:21:11,724 - INFO - Client 27 Train Loss: 0.1611
2025-08-24 09:21:12,185 - INFO - Client 38 Train Loss: 0.3490
2025-08-24 09:21:15,030 - INFO - Client 4 Train Loss: 0.0732
2025-08-24 09:21:16,796 - INFO - Client 24 Train Loss: 0.0948
2025-08-24 09:21:17,173 - INFO - Client 29 Train Loss: 0.2096
2025-08-24 09:21:17,173 - INFO - Global Average Train Loss: 0.1775
2025-08-24 09:21:17,886 - INFO - FedEntropy weights: [0.18438311 0.21362222 0.19693721 0.17262706 0.23243041]
2025-08-24 09:21:17,920 - INFO - Aggregated using FedEntropy
2025-08-24 09:21:21,695 - INFO - Global Model Validation Loss: 1.5518, Top1_Accuracy: 63.15%, Top5_Accuracy: 97.86%
2025-08-24 09:21:21,695 - INFO - Precision: 0.8146, Recall: 0.6315, F1-Score: 0.5631
2025-08-24 09:21:21,696 - INFO - Confusion Matrix:
[[656   1 108 232   0   1   0   2   0   0]
 [  0 953   9  37   0   0   0   0   0   1]
 [  5   0 976  19   0   0   0   0   0   0]
 [  2   2  37 959   0   0   0   0   0   0]
 [  1   5 846 148   0   0   0   0   0   0]
 [  0   0   3  18   0 769   0 181   0  29]
 [132   0 665 203   0   0   0   0   0   0]
 [  0   0   0   0   0   1   0 959   0  40]
 [  4   2 423  86   0   7   0  56 132 290]
 [  0   0   8   5   0   1   0  75   0 911]]
2025-08-24 09:21:21,696 - INFO - Starting Round 32/50 with algorithm fedentropy and model cnn
2025-08-24 09:21:21,696 - INFO - Selected clients for Round 32: [33, 16, 35, 0, 43]
2025-08-24 09:21:24,145 - INFO - Client 33 Train Loss: 0.0716
2025-08-24 09:21:25,245 - INFO - Client 16 Train Loss: 0.2175
2025-08-24 09:21:27,707 - INFO - Client 35 Train Loss: 0.1105
2025-08-24 09:21:28,910 - INFO - Client 0 Train Loss: 0.5634
2025-08-24 09:21:33,022 - INFO - Client 43 Train Loss: 0.1432
2025-08-24 09:21:33,022 - INFO - Global Average Train Loss: 0.2212
2025-08-24 09:21:33,728 - INFO - FedEntropy weights: [0.22574274 0.21822504 0.15283639 0.19571118 0.20748465]
2025-08-24 09:21:33,765 - INFO - Aggregated using FedEntropy
2025-08-24 09:21:37,605 - INFO - Global Model Validation Loss: 0.7286, Top1_Accuracy: 74.12%, Top5_Accuracy: 99.72%
2025-08-24 09:21:37,605 - INFO - Precision: 0.8048, Recall: 0.7412, F1-Score: 0.7083
2025-08-24 09:21:37,606 - INFO - Confusion Matrix:
[[852   1   2  37  41   7  45   2  13   0]
 [  0 977   0   7  14   0   0   0   2   0]
 [ 21   1  50   0 893   2  27   0   6   0]
 [ 21  18   0 739 207   2  11   1   1   0]
 [  1   2   0   2 987   0   3   0   5   0]
 [  0   0   0   0   1 955   0  36   0   8]
 [264   1  10  13 544   5 134   0  29   0]
 [  0   0   0   0   0  81   0 898   0  21]
 [  2   2   0   1  14  22   1  11 945   2]
 [  0   0   0   0   0  36   0  89   0 875]]
2025-08-24 09:21:37,606 - INFO - Starting Round 33/50 with algorithm fedentropy and model cnn
2025-08-24 09:21:37,606 - INFO - Selected clients for Round 33: [46, 7, 43, 34, 48]
2025-08-24 09:21:39,376 - INFO - Client 46 Train Loss: 0.5794
2025-08-24 09:21:40,313 - INFO - Client 7 Train Loss: 0.2827
2025-08-24 09:21:44,271 - INFO - Client 43 Train Loss: 0.1254
2025-08-24 09:21:45,283 - INFO - Client 34 Train Loss: 0.0938
2025-08-24 09:21:47,456 - INFO - Client 48 Train Loss: 0.1437
2025-08-24 09:21:47,456 - INFO - Global Average Train Loss: 0.2450
2025-08-24 09:21:48,169 - INFO - FedEntropy weights: [0.20606478 0.2164036  0.17041626 0.21683821 0.19027715]
2025-08-24 09:21:48,202 - INFO - Aggregated using FedEntropy
2025-08-24 09:21:51,890 - INFO - Global Model Validation Loss: 0.9181, Top1_Accuracy: 62.94%, Top5_Accuracy: 99.60%
2025-08-24 09:21:51,890 - INFO - Precision: 0.8182, Recall: 0.6294, F1-Score: 0.6098
2025-08-24 09:21:51,891 - INFO - Confusion Matrix:
[[  0   1   1  13   0   2 979   3   1   0]
 [  0 978   0   6   3   0  13   0   0   0]
 [  0   1 411   1 151   0 436   0   0   0]
 [  0  31   0 751  19   0 199   0   0   0]
 [  0   5  18  14 356   0 607   0   0   0]
 [  0   0   0   1   0 824   4 171   0   0]
 [  0   2  31   9   9   1 948   0   0   0]
 [  0   0   0   0   0   1   0 999   0   0]
 [  0   3   1   3   0  16 147  56 774   0]
 [  0   0   0   1   0  40   5 701   0 253]]
2025-08-24 09:21:51,891 - INFO - Starting Round 34/50 with algorithm fedentropy and model cnn
2025-08-24 09:21:51,891 - INFO - Selected clients for Round 34: [17, 49, 41, 21, 7]
2025-08-24 09:21:52,400 - INFO - Client 17 Train Loss: 0.0540
2025-08-24 09:21:53,749 - INFO - Client 49 Train Loss: 0.1064
2025-08-24 09:21:55,679 - INFO - Client 41 Train Loss: 0.2499
2025-08-24 09:21:55,735 - INFO - Client 21 Train Loss: 0.4951
2025-08-24 09:21:56,588 - INFO - Client 7 Train Loss: 0.0927
2025-08-24 09:21:56,588 - INFO - Global Average Train Loss: 0.1996
2025-08-24 09:21:57,295 - INFO - FedEntropy weights: [0.2257061  0.1908696  0.14401876 0.23349709 0.20590844]
2025-08-24 09:21:57,330 - INFO - Aggregated using FedEntropy
2025-08-24 09:22:01,037 - INFO - Global Model Validation Loss: 0.8058, Top1_Accuracy: 69.18%, Top5_Accuracy: 99.61%
2025-08-24 09:22:01,037 - INFO - Precision: 0.8338, Recall: 0.6918, F1-Score: 0.6748
2025-08-24 09:22:01,038 - INFO - Confusion Matrix:
[[  0   1   2  10   2   3 974   3   5   0]
 [  0 977   0   5   4   0  12   0   2   0]
 [  0   1 484   0 202   0 311   0   2   0]
 [  0  28   0 716  42   0 214   0   0   0]
 [  0   5  21   6 605   0 360   0   3   0]
 [  0   0   0   1   0 834   3 159   0   3]
 [  0   1  36   5  24   1 919   0  14   0]
 [  0   0   0   0   0   2   0 998   0   0]
 [  0   2   1   0   1  11  34  24 927   0]
 [  0   0   0   0   0  18   4 518   2 458]]
2025-08-24 09:22:01,038 - INFO - Starting Round 35/50 with algorithm fedentropy and model cnn
2025-08-24 09:22:01,038 - INFO - Selected clients for Round 35: [18, 27, 10, 29, 0]
2025-08-24 09:22:02,449 - INFO - Client 18 Train Loss: 0.1262
2025-08-24 09:22:05,205 - INFO - Client 27 Train Loss: 0.1862
2025-08-24 09:22:07,318 - INFO - Client 10 Train Loss: 0.0581
2025-08-24 09:22:07,657 - INFO - Client 29 Train Loss: 0.2088
2025-08-24 09:22:08,747 - INFO - Client 0 Train Loss: 0.3103
2025-08-24 09:22:08,748 - INFO - Global Average Train Loss: 0.1779
2025-08-24 09:22:09,466 - INFO - FedEntropy weights: [0.18606335 0.1720616  0.16995306 0.24014672 0.23177527]
2025-08-24 09:22:09,501 - INFO - Aggregated using FedEntropy
2025-08-24 09:22:13,269 - INFO - Global Model Validation Loss: 0.9768, Top1_Accuracy: 73.24%, Top5_Accuracy: 99.62%
2025-08-24 09:22:13,270 - INFO - Precision: 0.8275, Recall: 0.7324, F1-Score: 0.7172
2025-08-24 09:22:13,270 - INFO - Confusion Matrix:
[[990   1   2   3   0   2   0   0   2   0]
 [ 22 969   0   8   0   0   0   0   1   0]
 [288   2 610   1  99   0   0   0   0   0]
 [434  16   1 542   6   0   0   0   1   0]
 [219  10 146  23 592   0   3   0   7   0]
 [ 16   0   0   0   0 903   0  43   5  33]
 [806   1 104   5  54   2  14   0  14   0]
 [  4   0   0   0   0  18   0 829   0 149]
 [ 94   2   0   0   1   3   0   1 895   4]
 [  4   0   0   0   0   4   0  12   0 980]]
2025-08-24 09:22:13,271 - INFO - Starting Round 36/50 with algorithm fedentropy and model cnn
2025-08-24 09:22:13,271 - INFO - Selected clients for Round 36: [46, 16, 32, 48, 11]
2025-08-24 09:22:15,103 - INFO - Client 46 Train Loss: 0.7418
2025-08-24 09:22:16,317 - INFO - Client 16 Train Loss: 0.0771
2025-08-24 09:22:17,639 - INFO - Client 32 Train Loss: 0.2036
2025-08-24 09:22:19,854 - INFO - Client 48 Train Loss: 0.1129
2025-08-24 09:22:22,574 - INFO - Client 11 Train Loss: 0.0872
2025-08-24 09:22:22,574 - INFO - Global Average Train Loss: 0.2445
2025-08-24 09:22:23,365 - INFO - FedEntropy weights: [0.17883541 0.22179751 0.22205891 0.19604661 0.18126156]
2025-08-24 09:22:23,399 - INFO - Aggregated using FedEntropy
2025-08-24 09:22:27,042 - INFO - Global Model Validation Loss: 0.5408, Top1_Accuracy: 79.91%, Top5_Accuracy: 99.69%
2025-08-24 09:22:27,042 - INFO - Precision: 0.8260, Recall: 0.7991, F1-Score: 0.7724
2025-08-24 09:22:27,043 - INFO - Confusion Matrix:
[[804   2  44  65  46   8   8   0  21   2]
 [  0 976   0  10  12   0   0   0   1   1]
 [  9   1 610   2 369   0   4   0   5   0]
 [ 15  12  12 823 135   0   2   0   0   1]
 [  1   2  26   6 962   0   1   0   2   0]
 [  0   0   0   1   0 940   0  43   0  16]
 [260   0 110  38 519   4  38   0  31   0]
 [  0   0   0   0   0  16   0 944   0  40]
 [  1   1   3   1  13   8   0   4 964   5]
 [  0   0   0   0   0   5   0  65   0 930]]
2025-08-24 09:22:27,043 - INFO - Starting Round 37/50 with algorithm fedentropy and model cnn
2025-08-24 09:22:27,043 - INFO - Selected clients for Round 37: [32, 6, 40, 19, 38]
2025-08-24 09:22:28,341 - INFO - Client 32 Train Loss: 0.1261
2025-08-24 09:22:30,285 - INFO - Client 6 Train Loss: 0.0217
2025-08-24 09:22:30,800 - INFO - Client 40 Train Loss: 0.1680
2025-08-24 09:22:32,113 - INFO - Client 19 Train Loss: 0.1372
2025-08-24 09:22:32,626 - INFO - Client 38 Train Loss: 0.2723
2025-08-24 09:22:32,626 - INFO - Global Average Train Loss: 0.1451
2025-08-24 09:22:33,370 - INFO - FedEntropy weights: [0.20470985 0.16349977 0.22425337 0.21532863 0.19220839]
2025-08-24 09:22:33,408 - INFO - Aggregated using FedEntropy
2025-08-24 09:22:37,108 - INFO - Global Model Validation Loss: 0.6925, Top1_Accuracy: 74.55%, Top5_Accuracy: 99.68%
2025-08-24 09:22:37,108 - INFO - Precision: 0.8163, Recall: 0.7455, F1-Score: 0.7113
2025-08-24 09:22:37,109 - INFO - Confusion Matrix:
[[695   0  48 229   0   3   2   2  20   1]
 [  0 889   1 107   0   0   0   0   2   1]
 [  7   0 944  37   5   0   1   0   6   0]
 [  5   0   7 986   0   0   1   0   1   0]
 [  1   5 607 236 120   0  27   0   4   0]
 [  0   0   0   9   0 834   0 129   0  28]
 [162   0 426 224  11   2 143   0  32   0]
 [  0   0   0   0   0   0   0 968   0  32]
 [  0   0   9  16   0   2   1  12 950  10]
 [  0   0   0   5   0   3   0  66   0 926]]
2025-08-24 09:22:37,109 - INFO - Starting Round 38/50 with algorithm fedentropy and model cnn
2025-08-24 09:22:37,109 - INFO - Selected clients for Round 38: [12, 9, 23, 48, 10]
2025-08-24 09:22:40,090 - INFO - Client 12 Train Loss: 0.3543
2025-08-24 09:22:40,721 - INFO - Client 9 Train Loss: 0.0652
2025-08-24 09:22:44,746 - INFO - Client 23 Train Loss: 0.0581
2025-08-24 09:22:46,972 - INFO - Client 48 Train Loss: 0.0743
2025-08-24 09:22:49,156 - INFO - Client 10 Train Loss: 0.0311
2025-08-24 09:22:49,156 - INFO - Global Average Train Loss: 0.1166
2025-08-24 09:22:49,855 - INFO - FedEntropy weights: [0.17739041 0.23626569 0.17963507 0.19108112 0.2156277 ]
2025-08-24 09:22:49,894 - INFO - Aggregated using FedEntropy
2025-08-24 09:22:53,724 - INFO - Global Model Validation Loss: 0.6979, Top1_Accuracy: 74.68%, Top5_Accuracy: 99.56%
2025-08-24 09:22:53,724 - INFO - Precision: 0.8005, Recall: 0.7468, F1-Score: 0.7197
2025-08-24 09:22:53,725 - INFO - Confusion Matrix:
[[887   2  65   4   0   7  28   1   6   0]
 [  5 984   2   3   1   0   3   0   2   0]
 [ 11   1 970   0   1   0  17   0   0   0]
 [144  47  66 642   6   4  90   0   0   1]
 [  3   9 727   9  70   1 180   0   1   0]
 [  0   0   0   0   0 988   0  10   0   2]
 [303   1 390   5   1   4 279   0  17   0]
 [  0   0   0   0   0 128   0 861   0  11]
 [  1   2  19   0   0  28   8   1 941   0]
 [  1   0   0   0   0  71   0  82   0 846]]
2025-08-24 09:22:53,725 - INFO - Starting Round 39/50 with algorithm fedentropy and model cnn
2025-08-24 09:22:53,725 - INFO - Selected clients for Round 39: [34, 49, 33, 0, 38]
2025-08-24 09:22:54,737 - INFO - Client 34 Train Loss: 0.1775
2025-08-24 09:22:56,103 - INFO - Client 49 Train Loss: 0.0877
2025-08-24 09:22:58,578 - INFO - Client 33 Train Loss: 0.0577
2025-08-24 09:22:59,820 - INFO - Client 0 Train Loss: 0.2860
2025-08-24 09:23:00,379 - INFO - Client 38 Train Loss: 0.2106
2025-08-24 09:23:00,379 - INFO - Global Average Train Loss: 0.1639
2025-08-24 09:23:01,111 - INFO - FedEntropy weights: [0.17242957 0.2194927  0.18963486 0.20385886 0.21458401]
2025-08-24 09:23:01,150 - INFO - Aggregated using FedEntropy
2025-08-24 09:23:04,922 - INFO - Global Model Validation Loss: 0.5894, Top1_Accuracy: 79.08%, Top5_Accuracy: 99.74%
2025-08-24 09:23:04,922 - INFO - Precision: 0.8197, Recall: 0.7908, F1-Score: 0.7892
2025-08-24 09:23:04,923 - INFO - Confusion Matrix:
[[651   0  15 254   2   1  58   3  16   0]
 [  0 945   0  52   1   0   0   0   2   0]
 [  7   1 756  39 145   0  49   0   3   0]
 [  2   1   3 976   6   0  11   0   1   0]
 [  1   4  66 108 724   0  93   0   4   0]
 [  0   0   0   6   0 716   1 259   5  13]
 [121   0 110 206  79   0 454   0  30   0]
 [  0   0   0   0   0   0   0 997   0   3]
 [  0   1   1  10   2   1   8   8 968   1]
 [  0   0   0   3   0   2   0 273   1 721]]
2025-08-24 09:23:04,923 - INFO - Starting Round 40/50 with algorithm fedentropy and model cnn
2025-08-24 09:23:04,923 - INFO - Selected clients for Round 40: [20, 31, 1, 7, 23]
2025-08-24 09:23:06,279 - INFO - Client 20 Train Loss: 0.2179
2025-08-24 09:23:10,728 - INFO - Client 31 Train Loss: 0.0270
2025-08-24 09:23:12,605 - INFO - Client 1 Train Loss: 0.0751
2025-08-24 09:23:13,465 - INFO - Client 7 Train Loss: 0.1833
2025-08-24 09:23:17,599 - INFO - Client 23 Train Loss: 0.0453
2025-08-24 09:23:17,599 - INFO - Global Average Train Loss: 0.1097
2025-08-24 09:23:18,311 - INFO - FedEntropy weights: [0.2192458  0.16379859 0.20990194 0.21923506 0.18781861]
2025-08-24 09:23:18,345 - INFO - Aggregated using FedEntropy
2025-08-24 09:23:22,164 - INFO - Global Model Validation Loss: 0.7479, Top1_Accuracy: 69.36%, Top5_Accuracy: 99.62%
2025-08-24 09:23:22,165 - INFO - Precision: 0.8513, Recall: 0.6936, F1-Score: 0.6771
2025-08-24 09:23:22,165 - INFO - Confusion Matrix:
[[  4   6   2   2   1   1 977   1   5   1]
 [  0 991   0   0   0   0   7   0   2   0]
 [  0   2 577   0  56   0 365   0   0   0]
 [  0 211   1 430   5   0 349   0   0   4]
 [  0  11  42   2 296   0 649   0   0   0]
 [  0   0   0   0   0 885   4  81   2  28]
 [  0   7  34   0   3   0 948   0   8   0]
 [  0   0   0   0   0   4   0 901   0  95]
 [  0   4   1   0   0   4  48   3 935   5]
 [  0   0   0   0   0   7   1  23   0 969]]
2025-08-24 09:23:22,167 - INFO - Starting Round 41/50 with algorithm fedentropy and model cnn
2025-08-24 09:23:22,167 - INFO - Selected clients for Round 41: [19, 15, 3, 36, 5]
2025-08-24 09:23:23,575 - INFO - Client 19 Train Loss: 0.1093
2025-08-24 09:23:24,357 - INFO - Client 15 Train Loss: 0.2756
2025-08-24 09:23:26,979 - INFO - Client 3 Train Loss: 0.1954
2025-08-24 09:23:29,371 - INFO - Client 36 Train Loss: 0.2863
2025-08-24 09:23:33,161 - INFO - Client 5 Train Loss: 0.0405
2025-08-24 09:23:33,161 - INFO - Global Average Train Loss: 0.1814
2025-08-24 09:23:33,877 - INFO - FedEntropy weights: [0.20955332 0.2151241  0.20915817 0.19355032 0.17261409]
2025-08-24 09:23:33,914 - INFO - Aggregated using FedEntropy
2025-08-24 09:23:37,601 - INFO - Global Model Validation Loss: 1.0646, Top1_Accuracy: 67.58%, Top5_Accuracy: 99.36%
2025-08-24 09:23:37,601 - INFO - Precision: 0.7742, Recall: 0.6758, F1-Score: 0.6501
2025-08-24 09:23:37,602 - INFO - Confusion Matrix:
[[169   4 703   4  89   1  20   2   8   0]
 [  0 981   4   2  11   0   0   0   2   0]
 [  0   1 964   0  35   0   0   0   0   0]
 [  1  98 177 515 203   0   4   0   0   2]
 [  0   3 377   1 619   0   0   0   0   0]
 [  0   0   3   0   0 768   0 212   1  16]
 [ 30   1 650   1 276   1  30   0  11   0]
 [  0   0   0   0   0   0   0 996   0   4]
 [  0   2  34   0  11   3   0  12 934   4]
 [  0   0   0   0   0   2   0 216   0 782]]
2025-08-24 09:23:37,602 - INFO - Starting Round 42/50 with algorithm fedentropy and model cnn
2025-08-24 09:23:37,602 - INFO - Selected clients for Round 42: [5, 46, 31, 4, 48]
2025-08-24 09:23:41,612 - INFO - Client 5 Train Loss: 0.0317
2025-08-24 09:23:43,300 - INFO - Client 46 Train Loss: 0.6712
2025-08-24 09:23:47,869 - INFO - Client 31 Train Loss: 0.0199
2025-08-24 09:23:50,626 - INFO - Client 4 Train Loss: 0.0816
2025-08-24 09:23:52,844 - INFO - Client 48 Train Loss: 0.0799
2025-08-24 09:23:52,844 - INFO - Global Average Train Loss: 0.1769
2025-08-24 09:23:53,558 - INFO - FedEntropy weights: [0.2063595  0.19681726 0.18616879 0.18994971 0.22070474]
2025-08-24 09:23:53,592 - INFO - Aggregated using FedEntropy
2025-08-24 09:23:57,369 - INFO - Global Model Validation Loss: 0.7214, Top1_Accuracy: 75.47%, Top5_Accuracy: 99.70%
2025-08-24 09:23:57,369 - INFO - Precision: 0.8176, Recall: 0.7547, F1-Score: 0.7288
2025-08-24 09:23:57,370 - INFO - Confusion Matrix:
[[712   4 139  79   0   1  59   1   4   1]
 [  0 980   3  16   0   0   0   0   1   0]
 [  4   1 983  10   1   0   1   0   0   0]
 [  5  18  45 925   1   0   6   0   0   0]
 [  0   8 742  89 161   0   0   0   0   0]
 [  0   0   2   6   0 844   0 124   2  22]
 [131   1 654  69  26   0 114   0   5   0]
 [  0   0   0   0   0   0   0 966   0  34]
 [  0   3  44   6   1   3   0   4 930   9]
 [  0   0   1   3   0   1   0  63   0 932]]
2025-08-24 09:23:57,370 - INFO - Starting Round 43/50 with algorithm fedentropy and model cnn
2025-08-24 09:23:57,370 - INFO - Selected clients for Round 43: [34, 49, 8, 42, 30]
2025-08-24 09:23:58,371 - INFO - Client 34 Train Loss: 0.1206
2025-08-24 09:23:59,729 - INFO - Client 49 Train Loss: 0.0596
2025-08-24 09:24:00,285 - INFO - Client 8 Train Loss: 0.0914
2025-08-24 09:24:04,093 - INFO - Client 42 Train Loss: 0.0098
2025-08-24 09:24:06,360 - INFO - Client 30 Train Loss: 0.0304
2025-08-24 09:24:06,360 - INFO - Global Average Train Loss: 0.0623
2025-08-24 09:24:07,081 - INFO - FedEntropy weights: [0.19726914 0.22250186 0.2233056  0.16137196 0.19555143]
2025-08-24 09:24:07,119 - INFO - Aggregated using FedEntropy
2025-08-24 09:24:10,817 - INFO - Global Model Validation Loss: 0.5637, Top1_Accuracy: 81.23%, Top5_Accuracy: 99.60%
2025-08-24 09:24:10,817 - INFO - Precision: 0.8364, Recall: 0.8123, F1-Score: 0.7915
2025-08-24 09:24:10,818 - INFO - Confusion Matrix:
[[936   3   4  33   2   1   2   1  18   0]
 [  1 986   0  11   0   0   0   0   2   0]
 [ 82   4 747  22 128   0   2   0  15   0]
 [ 52  22   1 907  11   0   5   0   2   0]
 [  2  14  73  83 800   0   9   0  19   0]
 [  3   0   0   5   0 777   0 152  46  17]
 [387   5 131  42 221   0 166   0  48   0]
 [  0   0   0   0   0   0   0 991   3   6]
 [  2   3   0   4   2   1   0   3 985   0]
 [  0   0   0   3   0   1   0 156  12 828]]
2025-08-24 09:24:10,818 - INFO - Starting Round 44/50 with algorithm fedentropy and model cnn
2025-08-24 09:24:10,819 - INFO - Selected clients for Round 44: [35, 10, 16, 33, 38]
2025-08-24 09:24:13,161 - INFO - Client 35 Train Loss: 0.0198
2025-08-24 09:24:15,286 - INFO - Client 10 Train Loss: 0.0144
2025-08-24 09:24:16,317 - INFO - Client 16 Train Loss: 0.0588
2025-08-24 09:24:18,726 - INFO - Client 33 Train Loss: 0.0571
2025-08-24 09:24:19,219 - INFO - Client 38 Train Loss: 0.2025
2025-08-24 09:24:19,219 - INFO - Global Average Train Loss: 0.0705
2025-08-24 09:24:19,929 - INFO - FedEntropy weights: [0.18296974 0.19339079 0.21203423 0.19745455 0.21415069]
2025-08-24 09:24:19,963 - INFO - Aggregated using FedEntropy
2025-08-24 09:24:23,722 - INFO - Global Model Validation Loss: 0.5666, Top1_Accuracy: 81.51%, Top5_Accuracy: 99.74%
2025-08-24 09:24:23,722 - INFO - Precision: 0.8252, Recall: 0.8151, F1-Score: 0.7814
2025-08-24 09:24:23,723 - INFO - Confusion Matrix:
[[860   0  19  89  17   3   2   0   9   1]
 [  0 958   0  33   7   0   0   0   2   0]
 [ 20   0 722  15 239   0   2   0   2   0]
 [ 14   1  11 902  70   0   2   0   0   0]
 [  2   2  37  25 931   0   0   0   3   0]
 [  1   0   0   4   0 971   0  17   2   5]
 [287   0 151  75 453   0  13   0  21   0]
 [  0   0   0   0   0  62   0 910   0  28]
 [  3   1   5   6  13   5   0   2 965   0]
 [  0   0   0   3   0  19   0  57   2 919]]
2025-08-24 09:24:23,723 - INFO - Starting Round 45/50 with algorithm fedentropy and model cnn
2025-08-24 09:24:23,723 - INFO - Selected clients for Round 45: [27, 13, 34, 48, 46]
2025-08-24 09:24:26,399 - INFO - Client 27 Train Loss: 0.1479
2025-08-24 09:24:28,521 - INFO - Client 13 Train Loss: 0.0274
2025-08-24 09:24:29,538 - INFO - Client 34 Train Loss: 0.0938
2025-08-24 09:24:31,771 - INFO - Client 48 Train Loss: 0.0675
2025-08-24 09:24:33,507 - INFO - Client 46 Train Loss: 0.5142
2025-08-24 09:24:33,508 - INFO - Global Average Train Loss: 0.1702
2025-08-24 09:24:34,250 - INFO - FedEntropy weights: [0.18922788 0.20725822 0.20935964 0.18806669 0.20608758]
2025-08-24 09:24:34,284 - INFO - Aggregated using FedEntropy
2025-08-24 09:24:38,062 - INFO - Global Model Validation Loss: 0.5318, Top1_Accuracy: 80.99%, Top5_Accuracy: 99.80%
2025-08-24 09:24:38,062 - INFO - Precision: 0.8348, Recall: 0.8099, F1-Score: 0.7965
2025-08-24 09:24:38,063 - INFO - Confusion Matrix:
[[960   3   9  10   5   1   8   2   2   0]
 [  5 987   0   6   2   0   0   0   0   0]
 [ 43   2 826   5 107   0  17   0   0   0]
 [ 74  48   9 795  49   0  25   0   0   0]
 [  3   7  88  25 855   0  22   0   0   0]
 [  1   0   0   0   0 932   0  66   0   1]
 [374   4 154  14 186   1 262   0   5   0]
 [  0   0   0   0   0   6   0 994   0   0]
 [ 48   3   0   2   5   4  10   9 919   0]
 [  3   0   0   1   0  38   0 389   0 569]]
2025-08-24 09:24:38,063 - INFO - Starting Round 46/50 with algorithm fedentropy and model cnn
2025-08-24 09:24:38,064 - INFO - Selected clients for Round 46: [44, 12, 45, 19, 25]
2025-08-24 09:24:41,102 - INFO - Client 44 Train Loss: 0.0934
2025-08-24 09:24:44,063 - INFO - Client 12 Train Loss: 0.2896
2025-08-24 09:24:44,695 - INFO - Client 45 Train Loss: 0.1005
2025-08-24 09:24:46,051 - INFO - Client 19 Train Loss: 0.0770
2025-08-24 09:24:47,003 - INFO - Client 25 Train Loss: 0.1896
2025-08-24 09:24:47,003 - INFO - Global Average Train Loss: 0.1500
2025-08-24 09:24:47,726 - INFO - FedEntropy weights: [0.19333342 0.13995479 0.23157965 0.21220509 0.22292705]
2025-08-24 09:24:47,766 - INFO - Aggregated using FedEntropy
2025-08-24 09:24:51,429 - INFO - Global Model Validation Loss: 0.6106, Top1_Accuracy: 79.09%, Top5_Accuracy: 99.72%
2025-08-24 09:24:51,429 - INFO - Precision: 0.8442, Recall: 0.7909, F1-Score: 0.7648
2025-08-24 09:24:51,430 - INFO - Confusion Matrix:
[[947   1  35   8   0   1   0   2   6   0]
 [  5 977   2  13   1   0   0   0   2   0]
 [ 23   1 963   4   6   0   1   0   2   0]
 [ 86   9  34 855   8   0   6   0   2   0]
 [  8   7 571  56 345   1  10   0   2   0]
 [  3   0   0   2   0 931   0  57   2   5]
 [363   1 446  15  43   0 107   0  25   0]
 [  0   0   0   0   0   5   0 989   1   5]
 [  8   2  10   1   2   4   1   3 969   0]
 [  1   0   0   1   0  16   0 151   5 826]]
2025-08-24 09:24:51,430 - INFO - Starting Round 47/50 with algorithm fedentropy and model cnn
2025-08-24 09:24:51,430 - INFO - Selected clients for Round 47: [42, 41, 23, 28, 33]
2025-08-24 09:24:55,217 - INFO - Client 42 Train Loss: 0.0052
2025-08-24 09:24:57,140 - INFO - Client 41 Train Loss: 0.1700
2025-08-24 09:25:01,203 - INFO - Client 23 Train Loss: 0.0458
2025-08-24 09:25:05,148 - INFO - Client 28 Train Loss: 0.0300
2025-08-24 09:25:07,510 - INFO - Client 33 Train Loss: 0.0371
2025-08-24 09:25:07,510 - INFO - Global Average Train Loss: 0.0576
2025-08-24 09:25:08,218 - INFO - FedEntropy weights: [0.20097594 0.20759351 0.20184724 0.18665632 0.20292698]
2025-08-24 09:25:08,251 - INFO - Aggregated using FedEntropy
2025-08-24 09:25:11,992 - INFO - Global Model Validation Loss: 0.5874, Top1_Accuracy: 78.49%, Top5_Accuracy: 99.73%
2025-08-24 09:25:11,992 - INFO - Precision: 0.8126, Recall: 0.7849, F1-Score: 0.7534
2025-08-24 09:25:11,993 - INFO - Confusion Matrix:
[[845   1  87  17   9   4  20   0  15   2]
 [  1 983   2   8   4   0   0   0   2   0]
 [  9   1 915   2  70   0   1   0   2   0]
 [ 24  22  64 806  76   0   7   0   1   0]
 [  1   3 153   7 833   0   0   0   3   0]
 [  0   0   0   0   0 987   0   1   0  12]
 [258   3 336  15 276   2  83   0  27   0]
 [  0   0   0   0   0 386   0 450   1 163]
 [  0   1  10   1   7   2   0   1 971   7]
 [  0   0   0   0   0  23   0   1   0 976]]
2025-08-24 09:25:11,993 - INFO - Starting Round 48/50 with algorithm fedentropy and model cnn
2025-08-24 09:25:11,993 - INFO - Selected clients for Round 48: [28, 7, 15, 14, 4]
2025-08-24 09:25:15,963 - INFO - Client 28 Train Loss: 0.0201
2025-08-24 09:25:16,865 - INFO - Client 7 Train Loss: 0.2376
2025-08-24 09:25:17,657 - INFO - Client 15 Train Loss: 0.1887
2025-08-24 09:25:18,207 - INFO - Client 14 Train Loss: 0.0926
2025-08-24 09:25:20,889 - INFO - Client 4 Train Loss: 0.0528
2025-08-24 09:25:20,889 - INFO - Global Average Train Loss: 0.1183
2025-08-24 09:25:21,624 - INFO - FedEntropy weights: [0.17456583 0.18151148 0.22889254 0.20756813 0.20746203]
2025-08-24 09:25:21,657 - INFO - Aggregated using FedEntropy
2025-08-24 09:25:25,424 - INFO - Global Model Validation Loss: 0.5474, Top1_Accuracy: 80.06%, Top5_Accuracy: 99.63%
2025-08-24 09:25:25,424 - INFO - Precision: 0.8213, Recall: 0.8006, F1-Score: 0.7949
2025-08-24 09:25:25,425 - INFO - Confusion Matrix:
[[514   8  38 159   6   1 266   1   6   1]
 [  0 986   0  11   1   0   0   0   2   0]
 [  0   2 887  15  59   0  36   0   1   0]
 [  1  21  14 942   7   0  15   0   0   0]
 [  0  10 178  70 717   0  25   0   0   0]
 [  0   0   0   8   0 624   1 309   3  55]
 [ 49   6 187 115 119   0 510   0  14   0]
 [  0   0   0   0   0   0   0 990   0  10]
 [  0   6   4   6   4   1   9   5 958   7]
 [  0   0   0   3   0   0   0 118   1 878]]
2025-08-24 09:25:25,426 - INFO - Starting Round 49/50 with algorithm fedentropy and model cnn
2025-08-24 09:25:25,427 - INFO - Selected clients for Round 49: [21, 1, 37, 35, 14]
2025-08-24 09:25:25,485 - INFO - Client 21 Train Loss: 0.1438
2025-08-24 09:25:27,462 - INFO - Client 1 Train Loss: 0.0642
2025-08-24 09:25:29,424 - INFO - Client 37 Train Loss: 0.0324
2025-08-24 09:25:31,844 - INFO - Client 35 Train Loss: 0.0174
2025-08-24 09:25:32,415 - INFO - Client 14 Train Loss: 0.0319
2025-08-24 09:25:32,415 - INFO - Global Average Train Loss: 0.0579
2025-08-24 09:25:33,145 - INFO - FedEntropy weights: [0.23875573 0.18163024 0.14718173 0.19719629 0.23523601]
2025-08-24 09:25:33,176 - INFO - Aggregated using FedEntropy
2025-08-24 09:25:36,989 - INFO - Global Model Validation Loss: 0.5623, Top1_Accuracy: 77.64%, Top5_Accuracy: 99.70%
2025-08-24 09:25:36,990 - INFO - Precision: 0.8425, Recall: 0.7764, F1-Score: 0.7693
2025-08-24 09:25:36,991 - INFO - Confusion Matrix:
[[269   7   2  46  10   3 657   2   4   0]
 [  0 989   0   6   3   0   0   0   2   0]
 [  0   2 475   3 303   0 217   0   0   0]
 [  1  41   1 830  63   0  64   0   0   0]
 [  0   7  10  17 904   0  62   0   0   0]
 [  0   0   0   3   0 934   0  60   0   3]
 [ 13   8  25  24 134   0 792   0   4   0]
 [  0   0   0   0   0   9   0 990   0   1]
 [  0   5   0   5   7   7  35   8 933   0]
 [  0   0   0   2   0  12   1 337   0 648]]
2025-08-24 09:25:36,991 - INFO - Starting Round 50/50 with algorithm fedentropy and model cnn
2025-08-24 09:25:36,991 - INFO - Selected clients for Round 50: [37, 14, 0, 4, 45]
2025-08-24 09:25:39,080 - INFO - Client 37 Train Loss: 0.0112
2025-08-24 09:25:39,629 - INFO - Client 14 Train Loss: 0.0291
2025-08-24 09:25:40,794 - INFO - Client 0 Train Loss: 0.2530
2025-08-24 09:25:43,490 - INFO - Client 4 Train Loss: 0.0516
2025-08-24 09:25:44,103 - INFO - Client 45 Train Loss: 0.1149
2025-08-24 09:25:44,103 - INFO - Global Average Train Loss: 0.0920
2025-08-24 09:25:44,845 - INFO - FedEntropy weights: [0.20117564 0.23657242 0.21034075 0.15129272 0.20061847]
2025-08-24 09:25:44,884 - INFO - Aggregated using FedEntropy
2025-08-24 09:25:48,678 - INFO - Global Model Validation Loss: 0.6271, Top1_Accuracy: 77.88%, Top5_Accuracy: 99.38%
2025-08-24 09:25:48,678 - INFO - Precision: 0.8302, Recall: 0.7788, F1-Score: 0.7481
2025-08-24 09:25:48,679 - INFO - Confusion Matrix:
[[914   3  39  28   0   1   2   1  12   0]
 [  1 990   0   7   0   0   0   0   2   0]
 [ 16   1 964  10   1   0   5   0   3   0]
 [ 39  29  25 899   0   0   6   0   2   0]
 [  4  21 644 118 151   1  57   0   4   0]
 [  1   0   0   5   0 937   0  52   3   2]
 [339   5 362  33   7   0 228   0  26   0]
 [  0   0   0   0   0   5   0 990   2   3]
 [  1   3   4   3   1   3   3   3 979   0]
 [  1   0   0   3   0  12   0 236  12 736]]
2025-08-24 09:25:48,731 - INFO - Metrics saved to outcomes/metrics_cnn_fedentropy_dong_clients50_rounds50_clientsperround5.csv
2025-08-24 09:25:49,151 - INFO - Loss plot saved to outcomes/Loss_cnn_fedentropy_clients50_rounds50_clientsperround5.png
2025-08-24 09:25:49,332 - INFO - Accuracy plot saved to outcomes/Accuracy_cnn_fedentropy_clients50_rounds50_clientsperround5.png
