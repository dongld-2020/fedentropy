2025-08-25 08:15:44,514 - INFO - Starting federated learning with model: cnn, algorithm: fedentropy, clients: 50, rounds: 100
2025-08-25 08:15:44,711 - INFO - Initial data proportions assigned to clients: [0.028533333333333334, 0.006733333333333333, 0.0085, 0.02745, 0.021, 0.007816666666666666, 0.006716666666666667, 0.030483333333333335, 0.01355, 0.021916666666666668, 0.013016666666666666, 0.023466666666666667, 0.020033333333333334, 0.029883333333333335, 0.0294, 0.0051333333333333335, 0.0183, 0.029066666666666668, 0.016366666666666668, 0.02036666666666667, 0.022383333333333335, 0.041716666666666666, 0.00655, 0.00775, 0.011366666666666667, 0.0341, 0.007783333333333333, 0.023133333333333332, 0.01721666666666667, 0.010583333333333333, 0.020316666666666667, 0.0444, 0.00425, 0.020183333333333334, 0.0167, 0.010183333333333334, 0.05045, 0.02351666666666667, 0.015183333333333333, 0.022066666666666665, 0.01725, 0.017516666666666666, 0.0225, 0.016783333333333334, 0.027816666666666667, 0.0108, 0.025283333333333335, 0.0233, 0.021566666666666668, 0.029616666666666666]
2025-08-25 08:15:44,961 - INFO - Starting Round 1/100 with algorithm fedentropy and model cnn
2025-08-25 08:15:44,961 - INFO - Selected clients for Round 1: [40, 7, 1, 47, 17]
2025-08-25 08:15:46,771 - INFO - Client 40 Train Loss: 0.7268
2025-08-25 08:15:49,803 - INFO - Client 7 Train Loss: 0.2772
2025-08-25 08:15:50,479 - INFO - Client 1 Train Loss: 0.7523
2025-08-25 08:15:52,787 - INFO - Client 47 Train Loss: 0.7869
2025-08-25 08:15:55,669 - INFO - Client 17 Train Loss: 0.4096
2025-08-25 08:15:55,669 - INFO - Global Average Train Loss: 0.5906
2025-08-25 08:15:56,500 - INFO - FedEntropy weights: [0.20594213 0.18112605 0.23659164 0.18742069 0.18891949]
2025-08-25 08:15:56,538 - INFO - Aggregated using FedEntropy
2025-08-25 08:16:00,428 - INFO - Global Model Validation Loss: 1.8541, Top1_Accuracy: 31.25%, Top5_Accuracy: 85.86%
2025-08-25 08:16:00,428 - INFO - Precision: 0.7269, Recall: 0.3125, F1-Score: 0.1806
2025-08-25 08:16:00,429 - INFO - Confusion Matrix:
[[  7 138  43   0   0   0 803   0   9   0]
 [  0 986  11   0   0   0   3   0   0   0]
 [  0  22 897   0   0   0  74   0   7   0]
 [  0 848  30   0   0   0 120   0   2   0]
 [  0  89 800   0   0   0 109   0   2   0]
 [  0  52   2   0   0   1 118   0 827   0]
 [  0  84 486   0   0   0 426   0   4   0]
 [  0   2   0   0   0   0   4   0 994   0]
 [  0  12 115   0   0   0  65   0 808   0]
 [  0  41  20   0   0   0 152   0 787   0]]
2025-08-25 08:16:00,429 - INFO - Starting Round 2/100 with algorithm fedentropy and model cnn
2025-08-25 08:16:00,429 - INFO - Selected clients for Round 2: [15, 14, 8, 47, 6]
2025-08-25 08:16:00,956 - INFO - Client 15 Train Loss: 1.0675
2025-08-25 08:16:03,829 - INFO - Client 14 Train Loss: 0.4777
2025-08-25 08:16:05,163 - INFO - Client 8 Train Loss: 0.6958
2025-08-25 08:16:07,461 - INFO - Client 47 Train Loss: 0.7005
2025-08-25 08:16:08,112 - INFO - Client 6 Train Loss: 0.7575
2025-08-25 08:16:08,112 - INFO - Global Average Train Loss: 0.7398
2025-08-25 08:16:08,846 - INFO - FedEntropy weights: [0.24193547 0.1494828  0.21990111 0.15207232 0.23660829]
2025-08-25 08:16:08,886 - INFO - Aggregated using FedEntropy
2025-08-25 08:16:12,787 - INFO - Global Model Validation Loss: 1.3974, Top1_Accuracy: 51.67%, Top5_Accuracy: 95.85%
2025-08-25 08:16:12,787 - INFO - Precision: 0.6856, Recall: 0.5167, F1-Score: 0.4518
2025-08-25 08:16:12,788 - INFO - Confusion Matrix:
[[  0   0   8 363  68   6 552   1   2   0]
 [  0 864   1 108  25   2   0   0   0   0]
 [  0   0 135  20 817   5  23   0   0   0]
 [  0   1   3 878 103   1  14   0   0   0]
 [  0   0   4  51 940   3   1   0   1   0]
 [  0   0   0  45   0 889   9  48   9   0]
 [  0   0  32 134 587   7 240   0   0   0]
 [  0   0   0   3   0 254   0 680  63   0]
 [  0   0   1  71 323  38   8  19 540   0]
 [  0   0   0 212  25 537   1  40 184   1]]
2025-08-25 08:16:12,788 - INFO - Starting Round 3/100 with algorithm fedentropy and model cnn
2025-08-25 08:16:12,788 - INFO - Selected clients for Round 3: [43, 47, 34, 5, 37]
2025-08-25 08:16:14,472 - INFO - Client 43 Train Loss: 0.3946
2025-08-25 08:16:16,801 - INFO - Client 47 Train Loss: 0.5205
2025-08-25 08:16:18,543 - INFO - Client 34 Train Loss: 0.2476
2025-08-25 08:16:19,312 - INFO - Client 5 Train Loss: 0.4724
2025-08-25 08:16:21,770 - INFO - Client 37 Train Loss: 0.0975
2025-08-25 08:16:21,770 - INFO - Global Average Train Loss: 0.3465
2025-08-25 08:16:22,547 - INFO - FedEntropy weights: [0.20391512 0.15322734 0.21166932 0.2407687  0.19041952]
2025-08-25 08:16:22,588 - INFO - Aggregated using FedEntropy
2025-08-25 08:16:26,483 - INFO - Global Model Validation Loss: 1.4041, Top1_Accuracy: 53.01%, Top5_Accuracy: 97.38%
2025-08-25 08:16:26,483 - INFO - Precision: 0.6631, Recall: 0.5301, F1-Score: 0.4624
2025-08-25 08:16:26,484 - INFO - Confusion Matrix:
[[946  26   0  17   0   2   1   0   8   0]
 [  9 985   0   2   0   0   2   0   2   0]
 [557 139 110   0  58   1 132   0   3   0]
 [302 444   0 252   0   0   0   0   2   0]
 [395 133  23  44 207   0 183   0  15   0]
 [ 32  25   0   1   0 863   0   0  42  37]
 [636  52   4   7  10   0 267   0  24   0]
 [  1   0   0   0   0 457   0   0 267 275]
 [ 73  14   0   1   0   6   0   0 904   2]
 [ 46  23   0   0   0   7   0   0 157 767]]
2025-08-25 08:16:26,484 - INFO - Starting Round 4/100 with algorithm fedentropy and model cnn
2025-08-25 08:16:26,484 - INFO - Selected clients for Round 4: [27, 2, 1, 5, 13]
2025-08-25 08:16:28,850 - INFO - Client 27 Train Loss: 0.2140
2025-08-25 08:16:29,699 - INFO - Client 2 Train Loss: 0.4967
2025-08-25 08:16:30,407 - INFO - Client 1 Train Loss: 0.5267
2025-08-25 08:16:31,232 - INFO - Client 5 Train Loss: 0.2792
2025-08-25 08:16:34,299 - INFO - Client 13 Train Loss: 0.1054
2025-08-25 08:16:34,300 - INFO - Global Average Train Loss: 0.3244
2025-08-25 08:16:35,100 - INFO - FedEntropy weights: [0.191071   0.21998314 0.1944648  0.23768718 0.15679388]
2025-08-25 08:16:35,141 - INFO - Aggregated using FedEntropy
2025-08-25 08:16:39,017 - INFO - Global Model Validation Loss: 1.1229, Top1_Accuracy: 55.26%, Top5_Accuracy: 99.04%
2025-08-25 08:16:39,017 - INFO - Precision: 0.7683, Recall: 0.5526, F1-Score: 0.5074
2025-08-25 08:16:39,018 - INFO - Confusion Matrix:
[[743   0   0 161   0   1  91   2   2   0]
 [  0 929   0  63   0   0   8   0   0   0]
 [ 11  11  82  58   0   0 838   0   0   0]
 [ 10   4   0 948   0   0  38   0   0   0]
 [  2  15  15 243   7   0 717   0   1   0]
 [ 10   0   0  60   0 196  16 717   0   1]
 [193   5   5 148   0   0 648   0   1   0]
 [  0   0   0   0   0   0   0 999   0   1]
 [ 15   1   0  85   0   0 118 127 654   0]
 [  0   0   0 137   0   0   2 541   0 320]]
2025-08-25 08:16:39,020 - INFO - Starting Round 5/100 with algorithm fedentropy and model cnn
2025-08-25 08:16:39,020 - INFO - Selected clients for Round 5: [14, 32, 38, 1, 35]
2025-08-25 08:16:41,947 - INFO - Client 14 Train Loss: 0.3908
2025-08-25 08:16:42,360 - INFO - Client 32 Train Loss: 0.4841
2025-08-25 08:16:43,868 - INFO - Client 38 Train Loss: 0.3157
2025-08-25 08:16:44,536 - INFO - Client 1 Train Loss: 0.2937
2025-08-25 08:16:45,700 - INFO - Client 35 Train Loss: 0.4518
2025-08-25 08:16:45,700 - INFO - Global Average Train Loss: 0.3872
2025-08-25 08:16:46,404 - INFO - FedEntropy weights: [0.09720947 0.24345575 0.20470018 0.22788853 0.22674607]
2025-08-25 08:16:46,444 - INFO - Aggregated using FedEntropy
2025-08-25 08:16:50,341 - INFO - Global Model Validation Loss: 0.9518, Top1_Accuracy: 62.98%, Top5_Accuracy: 98.93%
2025-08-25 08:16:50,341 - INFO - Precision: 0.7314, Recall: 0.6298, F1-Score: 0.6039
2025-08-25 08:16:50,342 - INFO - Confusion Matrix:
[[610  17   2  88 106  17 153   3   4   0]
 [  0 984   0   2  12   2   0   0   0   0]
 [  4   8  42   1 917   8  20   0   0   0]
 [  8 281   0 520 177   5   9   0   0   0]
 [  0  23   0  13 957   7   0   0   0   0]
 [  0   1   0   1   1 941   0  55   0   1]
 [ 86  17   6  28 687  14 161   0   1   0]
 [  0   0   0   0   0 162   0 833   0   5]
 [  1   7   0  14 140  58   4 171 589  16]
 [  0  10   0   1   0  88   0 240   0 661]]
2025-08-25 08:16:50,343 - INFO - Starting Round 6/100 with algorithm fedentropy and model cnn
2025-08-25 08:16:50,343 - INFO - Selected clients for Round 6: [12, 45, 41, 44, 34]
2025-08-25 08:16:52,360 - INFO - Client 12 Train Loss: 0.0403
2025-08-25 08:16:53,424 - INFO - Client 45 Train Loss: 0.3087
2025-08-25 08:16:55,225 - INFO - Client 41 Train Loss: 0.4824
2025-08-25 08:16:58,006 - INFO - Client 44 Train Loss: 0.1845
2025-08-25 08:16:59,679 - INFO - Client 34 Train Loss: 0.1707
2025-08-25 08:16:59,680 - INFO - Global Average Train Loss: 0.2373
2025-08-25 08:17:00,433 - INFO - FedEntropy weights: [0.21026439 0.21349467 0.19831705 0.18541181 0.19251208]
2025-08-25 08:17:00,470 - INFO - Aggregated using FedEntropy
2025-08-25 08:17:04,295 - INFO - Global Model Validation Loss: 1.6176, Top1_Accuracy: 41.99%, Top5_Accuracy: 98.50%
2025-08-25 08:17:04,295 - INFO - Precision: 0.7351, Recall: 0.4199, F1-Score: 0.3715
2025-08-25 08:17:04,296 - INFO - Confusion Matrix:
[[985   0   0   6   0   0   0   0   9   0]
 [ 54 853   0  89   1   0   1   0   2   0]
 [748   0   2   2 149   0  97   0   2   0]
 [392   0   0 607   0   0   0   0   1   0]
 [453   0   0  28 349   0 146   0  24   0]
 [378   0   0   0   0 288   0   0 334   0]
 [817   0   0   6  22   0 133   0  22   0]
 [ 22   0   0   0   0   8   0   0 970   0]
 [108   0   0   1   0   0   0   0 891   0]
 [134   0   0   1   0   0   0   0 774  91]]
2025-08-25 08:17:04,296 - INFO - Starting Round 7/100 with algorithm fedentropy and model cnn
2025-08-25 08:17:04,296 - INFO - Selected clients for Round 7: [26, 14, 28, 37, 17]
2025-08-25 08:17:05,075 - INFO - Client 26 Train Loss: 0.1804
2025-08-25 08:17:07,980 - INFO - Client 14 Train Loss: 0.4036
2025-08-25 08:17:09,607 - INFO - Client 28 Train Loss: 0.2123
2025-08-25 08:17:11,963 - INFO - Client 37 Train Loss: 0.0404
2025-08-25 08:17:14,814 - INFO - Client 17 Train Loss: 0.2513
2025-08-25 08:17:14,814 - INFO - Global Average Train Loss: 0.2176
2025-08-25 08:17:15,571 - INFO - FedEntropy weights: [0.21236493 0.16113572 0.22117217 0.21319367 0.19213351]
2025-08-25 08:17:15,608 - INFO - Aggregated using FedEntropy
2025-08-25 08:17:19,433 - INFO - Global Model Validation Loss: 0.9096, Top1_Accuracy: 68.60%, Top5_Accuracy: 99.29%
2025-08-25 08:17:19,433 - INFO - Precision: 0.7589, Recall: 0.6860, F1-Score: 0.6490
2025-08-25 08:17:19,433 - INFO - Confusion Matrix:
[[677  28  27 104  15  20 118   0  11   0]
 [  0 992   0   4   1   2   0   0   1   0]
 [  6  22 668   5 264   9  23   0   3   0]
 [  8 226   5 684  58   2  15   0   2   0]
 [  0  44  81  30 833   3   7   0   2   0]
 [  0   0   0   3   0 994   0   0   0   3]
 [114  36 143  71 294  11 305   0  26   0]
 [  0   0   0   0   0 963   0   0  10  27]
 [  0   9   7   6   9  31   4   0 934   0]
 [  0  15   0   1   0 202   0   0   9 773]]
2025-08-25 08:17:19,434 - INFO - Starting Round 8/100 with algorithm fedentropy and model cnn
2025-08-25 08:17:19,434 - INFO - Selected clients for Round 8: [0, 48, 10, 44, 27]
2025-08-25 08:17:22,228 - INFO - Client 0 Train Loss: 0.1772
2025-08-25 08:17:24,373 - INFO - Client 48 Train Loss: 0.0952
2025-08-25 08:17:25,764 - INFO - Client 10 Train Loss: 0.4058
2025-08-25 08:17:28,632 - INFO - Client 44 Train Loss: 0.1416
2025-08-25 08:17:31,048 - INFO - Client 27 Train Loss: 0.1995
2025-08-25 08:17:31,048 - INFO - Global Average Train Loss: 0.2039
2025-08-25 08:17:31,926 - INFO - FedEntropy weights: [0.19038993 0.21599683 0.22239168 0.18866058 0.18256099]
2025-08-25 08:17:31,970 - INFO - Aggregated using FedEntropy
2025-08-25 08:17:35,958 - INFO - Global Model Validation Loss: 0.8524, Top1_Accuracy: 67.35%, Top5_Accuracy: 99.65%
2025-08-25 08:17:35,958 - INFO - Precision: 0.7621, Recall: 0.6735, F1-Score: 0.6037
2025-08-25 08:17:35,960 - INFO - Confusion Matrix:
[[822   1   5 128  17   9   4   0  14   0]
 [  0 961   0  29   7   1   0   0   2   0]
 [ 37   1 290  19 638   1   8   0   6   0]
 [ 18   8   0 937  35   0   0   0   2   0]
 [  1   2   3  71 918   1   0   0   4   0]
 [  0   0   0   4   0 978   0   0  14   4]
 [278   1  34 101 537   1  25   0  23   0]
 [  0   0   0   0   0 801   0   0 153  46]
 [  6   1   0  14  15   8   0   0 956   0]
 [  0   0   0  12   0  90   0   0  50 848]]
2025-08-25 08:17:35,961 - INFO - Starting Round 9/100 with algorithm fedentropy and model cnn
2025-08-25 08:17:35,961 - INFO - Selected clients for Round 9: [21, 17, 9, 13, 48]
2025-08-25 08:17:40,225 - INFO - Client 21 Train Loss: 0.5067
2025-08-25 08:17:43,069 - INFO - Client 17 Train Loss: 0.1932
2025-08-25 08:17:45,223 - INFO - Client 9 Train Loss: 0.1152
2025-08-25 08:17:48,099 - INFO - Client 13 Train Loss: 0.0418
2025-08-25 08:17:50,249 - INFO - Client 48 Train Loss: 0.0902
2025-08-25 08:17:50,250 - INFO - Global Average Train Loss: 0.1894
2025-08-25 08:17:51,017 - INFO - FedEntropy weights: [0.14232115 0.20596272 0.22007668 0.2075217  0.22411774]
2025-08-25 08:17:51,062 - INFO - Aggregated using FedEntropy
2025-08-25 08:17:55,071 - INFO - Global Model Validation Loss: 0.7729, Top1_Accuracy: 71.89%, Top5_Accuracy: 99.72%
2025-08-25 08:17:55,071 - INFO - Precision: 0.7738, Recall: 0.7189, F1-Score: 0.6740
2025-08-25 08:17:55,072 - INFO - Confusion Matrix:
[[772   0  14 170   1   3  17   0  23   0]
 [  0 948   2  47   0   1   0   0   2   0]
 [ 16   1 804  53  74   0  39   0  13   0]
 [  9   2   2 980   1   0   3   0   3   0]
 [  1   5 210 215 507   0  57   0   5   0]
 [  0   0   0   8   0 960   0   0  26   6]
 [207   2 128 169  86   1 367   0  40   0]
 [  0   0   0   0   0 676   0   0 268  56]
 [  1   0   1  17   1   2   1   0 977   0]
 [  0   0   0  12   0  39   0   0  75 874]]
2025-08-25 08:17:55,075 - INFO - Starting Round 10/100 with algorithm fedentropy and model cnn
2025-08-25 08:17:55,075 - INFO - Selected clients for Round 10: [21, 6, 5, 24, 22]
2025-08-25 08:17:59,278 - INFO - Client 21 Train Loss: 0.4794
2025-08-25 08:17:59,969 - INFO - Client 6 Train Loss: 0.3191
2025-08-25 08:18:00,716 - INFO - Client 5 Train Loss: 0.1938
2025-08-25 08:18:01,803 - INFO - Client 24 Train Loss: 0.1811
2025-08-25 08:18:02,475 - INFO - Client 22 Train Loss: 0.4348
2025-08-25 08:18:02,475 - INFO - Global Average Train Loss: 0.3216
2025-08-25 08:18:03,217 - INFO - FedEntropy weights: [0.06310922 0.22739574 0.23730063 0.23583995 0.23635445]
2025-08-25 08:18:03,253 - INFO - Aggregated using FedEntropy
2025-08-25 08:18:07,190 - INFO - Global Model Validation Loss: 0.7739, Top1_Accuracy: 71.19%, Top5_Accuracy: 99.40%
2025-08-25 08:18:07,190 - INFO - Precision: 0.7831, Recall: 0.7119, F1-Score: 0.6842
2025-08-25 08:18:07,191 - INFO - Confusion Matrix:
[[890   2  56  17  20   4   5   1   1   4]
 [  2 974   4   7  12   0   0   0   0   1]
 [ 12   2 868   1 117   0   0   0   0   0]
 [ 66  44  50 707 124   0   0   0   0   9]
 [  2   1 218   6 773   0   0   0   0   0]
 [  0   0   0   0   0 600   0 219   0 181]
 [319   3 312   9 309   1  40   0   3   4]
 [  0   0   0   0   0   3   0 725   0 272]
 [  6   2  46   1  29   6   1  26 546 337]
 [  0   0   0   0   0   0   0   4   0 996]]
2025-08-25 08:18:07,191 - INFO - Starting Round 11/100 with algorithm fedentropy and model cnn
2025-08-25 08:18:07,192 - INFO - Selected clients for Round 11: [22, 38, 16, 2, 46]
2025-08-25 08:18:07,843 - INFO - Client 22 Train Loss: 0.2799
2025-08-25 08:18:09,366 - INFO - Client 38 Train Loss: 0.1664
2025-08-25 08:18:11,222 - INFO - Client 16 Train Loss: 0.1014
2025-08-25 08:18:12,053 - INFO - Client 2 Train Loss: 0.2763
2025-08-25 08:18:14,645 - INFO - Client 46 Train Loss: 0.2472
2025-08-25 08:18:14,645 - INFO - Global Average Train Loss: 0.2143
2025-08-25 08:18:15,371 - INFO - FedEntropy weights: [0.21531068 0.21210801 0.20516156 0.20630353 0.16111621]
2025-08-25 08:18:15,409 - INFO - Aggregated using FedEntropy
2025-08-25 08:18:19,438 - INFO - Global Model Validation Loss: 0.5618, Top1_Accuracy: 79.25%, Top5_Accuracy: 99.61%
2025-08-25 08:18:19,438 - INFO - Precision: 0.8111, Recall: 0.7925, F1-Score: 0.7915
2025-08-25 08:18:19,439 - INFO - Confusion Matrix:
[[798   2  24  35   6   4 116   3  11   1]
 [  1 971   4  13   7   0   2   0   1   1]
 [  7   1 775   3 108   0 104   0   2   0]
 [ 28  37  10 784  68   0  69   1   2   1]
 [  1   3 136  22 574   0 262   0   2   0]
 [  0   0   0   0   0 550   1 409   0  40]
 [184   1 101  15  40   0 636   0  23   0]
 [  0   0   0   0   0   2   0 937   0  61]
 [  0   2   8   3   3   1  12  15 948   8]
 [  0   0   0   0   0   0   0  47   1 952]]
2025-08-25 08:18:19,439 - INFO - Starting Round 12/100 with algorithm fedentropy and model cnn
2025-08-25 08:18:19,439 - INFO - Selected clients for Round 12: [29, 34, 7, 24, 5]
2025-08-25 08:18:20,488 - INFO - Client 29 Train Loss: 0.4007
2025-08-25 08:18:22,118 - INFO - Client 34 Train Loss: 0.0781
2025-08-25 08:18:25,109 - INFO - Client 7 Train Loss: 0.1236
2025-08-25 08:18:26,185 - INFO - Client 24 Train Loss: 0.1485
2025-08-25 08:18:26,956 - INFO - Client 5 Train Loss: 0.1512
2025-08-25 08:18:26,956 - INFO - Global Average Train Loss: 0.1804
2025-08-25 08:18:27,684 - INFO - FedEntropy weights: [0.2185541  0.20393915 0.13150809 0.22614336 0.2198553 ]
2025-08-25 08:18:27,719 - INFO - Aggregated using FedEntropy
2025-08-25 08:18:31,687 - INFO - Global Model Validation Loss: 0.7503, Top1_Accuracy: 69.84%, Top5_Accuracy: 99.65%
2025-08-25 08:18:31,687 - INFO - Precision: 0.7796, Recall: 0.6984, F1-Score: 0.6415
2025-08-25 08:18:31,688 - INFO - Confusion Matrix:
[[919   1  44  12   0   7   4   0  13   0]
 [  4 977   5  11   1   0   0   0   1   1]
 [ 13   2 958   6  11   0   4   0   6   0]
 [113  34  40 774  21   0  12   0   4   2]
 [  4   7 703  38 215   1  29   0   3   0]
 [  0   0   0   0   0 949   0   0   2  49]
 [337   1 399  12  24   1 194   0  32   0]
 [  0   0   0   0   0 626   0  39   1 334]
 [  3   1  10   1   1   7   1   0 968   8]
 [  0   0   0   0   0   9   0   0   0 991]]
2025-08-25 08:18:31,688 - INFO - Starting Round 13/100 with algorithm fedentropy and model cnn
2025-08-25 08:18:31,688 - INFO - Selected clients for Round 13: [35, 18, 40, 39, 23]
2025-08-25 08:18:32,692 - INFO - Client 35 Train Loss: 0.2930
2025-08-25 08:18:34,304 - INFO - Client 18 Train Loss: 0.1861
2025-08-25 08:18:36,019 - INFO - Client 40 Train Loss: 0.3143
2025-08-25 08:18:38,171 - INFO - Client 39 Train Loss: 0.1671
2025-08-25 08:18:38,963 - INFO - Client 23 Train Loss: 0.0332
2025-08-25 08:18:38,963 - INFO - Global Average Train Loss: 0.1987
2025-08-25 08:18:39,678 - INFO - FedEntropy weights: [0.2095499  0.21956966 0.15653317 0.17419611 0.24015117]
2025-08-25 08:18:39,715 - INFO - Aggregated using FedEntropy
2025-08-25 08:18:43,513 - INFO - Global Model Validation Loss: 0.7062, Top1_Accuracy: 69.17%, Top5_Accuracy: 99.51%
2025-08-25 08:18:43,513 - INFO - Precision: 0.8036, Recall: 0.6917, F1-Score: 0.6534
2025-08-25 08:18:43,513 - INFO - Confusion Matrix:
[[  3   4   0  51   2   9 919   0  11   1]
 [  0 990   0   7   0   0   1   0   1   1]
 [  0   5  82   6 220   0 682   0   5   0]
 [  0  76   0 800  21   0  99   0   1   3]
 [  0   9   0  40 565   0 384   0   2   0]
 [  0   0   0   0   0 943   1  31   0  25]
 [  1   8   2  22  26   1 913   0  27   0]
 [  0   0   0   0   0 138   0 674   0 188]
 [  0   3   0   3   1   6  16   2 963   6]
 [  0   0   0   0   0  10   0   6   0 984]]
2025-08-25 08:18:43,513 - INFO - Starting Round 14/100 with algorithm fedentropy and model cnn
2025-08-25 08:18:43,513 - INFO - Selected clients for Round 14: [36, 12, 45, 4, 2]
2025-08-25 08:18:48,456 - INFO - Client 36 Train Loss: 0.1431
2025-08-25 08:18:50,509 - INFO - Client 12 Train Loss: 0.0493
2025-08-25 08:18:51,686 - INFO - Client 45 Train Loss: 0.1614
2025-08-25 08:18:53,776 - INFO - Client 4 Train Loss: 0.2547
2025-08-25 08:18:54,611 - INFO - Client 2 Train Loss: 0.1571
2025-08-25 08:18:54,611 - INFO - Global Average Train Loss: 0.1531
2025-08-25 08:18:55,313 - INFO - FedEntropy weights: [0.12083945 0.20509741 0.22309925 0.22131847 0.22964542]
2025-08-25 08:18:55,355 - INFO - Aggregated using FedEntropy
2025-08-25 08:18:59,161 - INFO - Global Model Validation Loss: 1.1206, Top1_Accuracy: 63.61%, Top5_Accuracy: 99.48%
2025-08-25 08:18:59,161 - INFO - Precision: 0.7731, Recall: 0.6361, F1-Score: 0.6263
2025-08-25 08:18:59,162 - INFO - Confusion Matrix:
[[992   1   0   3   0   1   0   2   1   0]
 [ 18 972   0   7   0   0   0   1   2   0]
 [438   4 403   3  13   0 139   0   0   0]
 [421  21   1 557   0   0   0   0   0   0]
 [262  10 109  43 118   0 458   0   0   0]
 [ 15   0   0   1   0 422   0 559   0   3]
 [628   1  10   3   2   0 348   0   8   0]
 [  0   0   0   0   0   0   0 999   0   1]
 [ 60   1   0   0   0   1   1  17 920   0]
 [  3   0   0   0   0   0   0 367   0 630]]
2025-08-25 08:18:59,162 - INFO - Starting Round 15/100 with algorithm fedentropy and model cnn
2025-08-25 08:18:59,162 - INFO - Selected clients for Round 15: [42, 14, 49, 18, 5]
2025-08-25 08:19:01,393 - INFO - Client 42 Train Loss: 0.1487
2025-08-25 08:19:04,351 - INFO - Client 14 Train Loss: 0.3140
2025-08-25 08:19:07,295 - INFO - Client 49 Train Loss: 0.1318
2025-08-25 08:19:08,869 - INFO - Client 18 Train Loss: 0.1696
2025-08-25 08:19:09,680 - INFO - Client 5 Train Loss: 0.1670
2025-08-25 08:19:09,680 - INFO - Global Average Train Loss: 0.1862
2025-08-25 08:19:10,426 - INFO - FedEntropy weights: [0.2111686  0.16011948 0.16523848 0.22421565 0.2392578 ]
2025-08-25 08:19:10,462 - INFO - Aggregated using FedEntropy
2025-08-25 08:19:14,320 - INFO - Global Model Validation Loss: 0.7054, Top1_Accuracy: 74.88%, Top5_Accuracy: 99.41%
2025-08-25 08:19:14,320 - INFO - Precision: 0.7947, Recall: 0.7488, F1-Score: 0.7344
2025-08-25 08:19:14,321 - INFO - Confusion Matrix:
[[567   2  38 313   2   1  67   0   9   1]
 [  0 965   0  33   0   0   0   0   1   1]
 [  5   1 908  36  27   0  22   0   1   0]
 [  1   3   7 981   0   0   8   0   0   0]
 [  0   5 371 181 343   0 100   0   0   0]
 [  0   0   0   8   0 897   0  10   0  85]
 [ 83   2 194 224  55   0 422   0  19   1]
 [  0   0   0   0   0 124   0 464   0 412]
 [  0   2  12  21   2   2   6   0 942  13]
 [  0   0   0   0   0   1   0   0   0 999]]
2025-08-25 08:19:14,321 - INFO - Starting Round 16/100 with algorithm fedentropy and model cnn
2025-08-25 08:19:14,321 - INFO - Selected clients for Round 16: [14, 6, 24, 17, 29]
2025-08-25 08:19:17,188 - INFO - Client 14 Train Loss: 0.2664
2025-08-25 08:19:17,894 - INFO - Client 6 Train Loss: 0.3039
2025-08-25 08:19:19,017 - INFO - Client 24 Train Loss: 0.1022
2025-08-25 08:19:22,084 - INFO - Client 17 Train Loss: 0.1609
2025-08-25 08:19:23,117 - INFO - Client 29 Train Loss: 0.3098
2025-08-25 08:19:23,117 - INFO - Global Average Train Loss: 0.2286
2025-08-25 08:19:23,865 - INFO - FedEntropy weights: [0.16261735 0.21514777 0.2332909  0.17342157 0.2155224 ]
2025-08-25 08:19:23,903 - INFO - Aggregated using FedEntropy
2025-08-25 08:19:27,667 - INFO - Global Model Validation Loss: 0.5254, Top1_Accuracy: 79.45%, Top5_Accuracy: 99.67%
2025-08-25 08:19:27,667 - INFO - Precision: 0.8247, Recall: 0.7945, F1-Score: 0.7899
2025-08-25 08:19:27,668 - INFO - Confusion Matrix:
[[626   3  79  23   0   6 254   0   9   0]
 [  1 984   5   5   3   0   1   0   1   0]
 [  4   2 955   1  16   0  21   0   1   0]
 [ 17  51  51 750  52   1  74   0   2   2]
 [  0   3 552  12 306   0 125   0   2   0]
 [  0   0   0   0   0 940   0  51   0   9]
 [ 66   3 250  13  31   3 615   0  19   0]
 [  0   0   0   0   0  59   0 847   0  94]
 [  0   1  17   2   3   6   5   4 961   1]
 [  0   0   0   0   0  16   0  23   0 961]]
2025-08-25 08:19:27,668 - INFO - Starting Round 17/100 with algorithm fedentropy and model cnn
2025-08-25 08:19:27,668 - INFO - Selected clients for Round 17: [40, 23, 10, 22, 13]
2025-08-25 08:19:29,714 - INFO - Client 40 Train Loss: 0.2328
2025-08-25 08:19:30,498 - INFO - Client 23 Train Loss: 0.0225
2025-08-25 08:19:31,867 - INFO - Client 10 Train Loss: 0.2440
2025-08-25 08:19:32,670 - INFO - Client 22 Train Loss: 0.2626
2025-08-25 08:19:36,204 - INFO - Client 13 Train Loss: 0.0729
2025-08-25 08:19:36,204 - INFO - Global Average Train Loss: 0.1670
2025-08-25 08:19:36,938 - INFO - FedEntropy weights: [0.18552562 0.23615942 0.21038293 0.22361879 0.14431325]
2025-08-25 08:19:36,975 - INFO - Aggregated using FedEntropy
2025-08-25 08:19:41,129 - INFO - Global Model Validation Loss: 0.5012, Top1_Accuracy: 80.95%, Top5_Accuracy: 99.69%
2025-08-25 08:19:41,129 - INFO - Precision: 0.8334, Recall: 0.8095, F1-Score: 0.7975
2025-08-25 08:19:41,130 - INFO - Confusion Matrix:
[[717   2  24 118   1   3 124   0  10   1]
 [  0 980   0  18   0   0   0   0   1   1]
 [  6   2 907  22   7   0  54   0   2   0]
 [  6  12   5 954   0   0  23   0   0   0]
 [  0   4 403 122 271   0 197   0   3   0]
 [  0   0   0   5   0 846   0 106   0  43]
 [101   0 145  87  17   1 624   0  25   0]
 [  0   0   0   0   0  10   0 839   0 151]
 [  0   1   7   8   1   1   6   2 967   7]
 [  0   0   0   0   0   1   0   9   0 990]]
2025-08-25 08:19:41,130 - INFO - Starting Round 18/100 with algorithm fedentropy and model cnn
2025-08-25 08:19:41,130 - INFO - Selected clients for Round 18: [42, 17, 44, 43, 41]
2025-08-25 08:19:43,760 - INFO - Client 42 Train Loss: 0.1122
2025-08-25 08:19:46,833 - INFO - Client 17 Train Loss: 0.1434
2025-08-25 08:19:49,587 - INFO - Client 44 Train Loss: 0.1223
2025-08-25 08:19:51,209 - INFO - Client 43 Train Loss: 0.1445
2025-08-25 08:19:52,982 - INFO - Client 41 Train Loss: 0.2984
2025-08-25 08:19:52,983 - INFO - Global Average Train Loss: 0.1641
2025-08-25 08:19:53,709 - INFO - FedEntropy weights: [0.20109259 0.18300874 0.18946512 0.21854871 0.20788484]
2025-08-25 08:19:53,743 - INFO - Aggregated using FedEntropy
2025-08-25 08:19:57,500 - INFO - Global Model Validation Loss: 0.5061, Top1_Accuracy: 81.03%, Top5_Accuracy: 99.66%
2025-08-25 08:19:57,500 - INFO - Precision: 0.8176, Recall: 0.8103, F1-Score: 0.8008
2025-08-25 08:19:57,501 - INFO - Confusion Matrix:
[[901   0  10  42   2   1  23   0  21   0]
 [  1 979   0  17   1   0   0   0   2   0]
 [ 28   4 813  21  54   0  65   0  15   0]
 [ 31   6   2 939   1   0  15   0   6   0]
 [  2   3 164  95 460   0 262   0  14   0]
 [  0   0   0   3   0 930   0  10  40  17]
 [306   1  89  35  28   0 497   0  44   0]
 [  0   0   0   0   0 124   0 624 119 133]
 [  0   1   0   5   1   0   2   0 990   1]
 [  0   0   0   0   0   6   0   4  20 970]]
2025-08-25 08:19:57,501 - INFO - Starting Round 19/100 with algorithm fedentropy and model cnn
2025-08-25 08:19:57,501 - INFO - Selected clients for Round 19: [4, 38, 40, 10, 34]
2025-08-25 08:19:59,611 - INFO - Client 4 Train Loss: 0.2038
2025-08-25 08:20:01,147 - INFO - Client 38 Train Loss: 0.1311
2025-08-25 08:20:02,907 - INFO - Client 40 Train Loss: 0.1884
2025-08-25 08:20:04,227 - INFO - Client 10 Train Loss: 0.2568
2025-08-25 08:20:05,861 - INFO - Client 34 Train Loss: 0.0503
2025-08-25 08:20:05,861 - INFO - Global Average Train Loss: 0.1661
2025-08-25 08:20:06,584 - INFO - FedEntropy weights: [0.18642457 0.21403695 0.19164292 0.19862635 0.20926921]
2025-08-25 08:20:06,625 - INFO - Aggregated using FedEntropy
2025-08-25 08:20:10,481 - INFO - Global Model Validation Loss: 0.5402, Top1_Accuracy: 78.54%, Top5_Accuracy: 99.74%
2025-08-25 08:20:10,481 - INFO - Precision: 0.8532, Recall: 0.7854, F1-Score: 0.7839
2025-08-25 08:20:10,482 - INFO - Confusion Matrix:
[[278   1   6  37   3   5 657   0  13   0]
 [  0 974   0  13   5   0   6   0   2   0]
 [  0   1 576   7 169   0 240   0   7   0]
 [  1   9   1 843  41   0 103   0   2   0]
 [  0   2  22  34 596   0 341   0   5   0]
 [  0   0   0   2   0 944   1  32   3  18]
 [  2   0  18  21  26   0 906   0  27   0]
 [  0   0   0   0   0 120   0 776   1 103]
 [  0   1   1   3   2   1   3   2 985   2]
 [  0   0   0   0   0   9   0  14   1 976]]
2025-08-25 08:20:10,482 - INFO - Starting Round 20/100 with algorithm fedentropy and model cnn
2025-08-25 08:20:10,482 - INFO - Selected clients for Round 20: [46, 15, 10, 29, 24]
2025-08-25 08:20:13,114 - INFO - Client 46 Train Loss: 0.1599
2025-08-25 08:20:13,626 - INFO - Client 15 Train Loss: 0.3905
2025-08-25 08:20:14,943 - INFO - Client 10 Train Loss: 0.1717
2025-08-25 08:20:15,986 - INFO - Client 29 Train Loss: 0.2762
2025-08-25 08:20:17,100 - INFO - Client 24 Train Loss: 0.1055
2025-08-25 08:20:17,100 - INFO - Global Average Train Loss: 0.2208
2025-08-25 08:20:17,845 - INFO - FedEntropy weights: [0.15303385 0.21842727 0.20766763 0.20559858 0.21527266]
2025-08-25 08:20:17,880 - INFO - Aggregated using FedEntropy
2025-08-25 08:20:21,686 - INFO - Global Model Validation Loss: 0.4724, Top1_Accuracy: 81.18%, Top5_Accuracy: 99.73%
2025-08-25 08:20:21,686 - INFO - Precision: 0.8392, Recall: 0.8118, F1-Score: 0.8094
2025-08-25 08:20:21,687 - INFO - Confusion Matrix:
[[499   0  48  47   3   7 389   0   7   0]
 [  0 972   5  18   3   0   1   0   1   0]
 [  2   1 934   4  26   0  33   0   0   0]
 [  2  12  19 855  40   0  69   0   1   2]
 [  0   1 406  23 483   0  85   0   2   0]
 [  0   0   0   0   0 947   0  36   0  17]
 [ 26   0 190  21  62   0 684   0  17   0]
 [  0   0   0   0   0  90   0 804   0 106]
 [  0   1   8   3   4   4   7   3 969   1]
 [  0   0   0   0   0  13   0  16   0 971]]
2025-08-25 08:20:21,687 - INFO - Starting Round 21/100 with algorithm fedentropy and model cnn
2025-08-25 08:20:21,687 - INFO - Selected clients for Round 21: [17, 40, 44, 35, 14]
2025-08-25 08:20:24,612 - INFO - Client 17 Train Loss: 0.1349
2025-08-25 08:20:26,311 - INFO - Client 40 Train Loss: 0.1891
2025-08-25 08:20:29,101 - INFO - Client 44 Train Loss: 0.1151
2025-08-25 08:20:30,194 - INFO - Client 35 Train Loss: 0.2317
2025-08-25 08:20:33,157 - INFO - Client 14 Train Loss: 0.2542
2025-08-25 08:20:33,157 - INFO - Global Average Train Loss: 0.1850
2025-08-25 08:20:33,884 - INFO - FedEntropy weights: [0.19347612 0.22668599 0.19374405 0.22295233 0.16314151]
2025-08-25 08:20:33,928 - INFO - Aggregated using FedEntropy
2025-08-25 08:20:37,723 - INFO - Global Model Validation Loss: 0.4858, Top1_Accuracy: 81.07%, Top5_Accuracy: 99.78%
2025-08-25 08:20:37,723 - INFO - Precision: 0.8549, Recall: 0.8107, F1-Score: 0.8096
2025-08-25 08:20:37,724 - INFO - Confusion Matrix:
[[457   0   8  80   1   1 442   0  11   0]
 [  0 978   0  20   0   0   0   0   2   0]
 [  2   3 727  15  56   0 195   0   2   0]
 [  2   5   3 929   6   0  54   0   1   0]
 [  0   4 108  74 445   0 367   0   2   0]
 [  0   0   0   7   0 920   2  36  19  16]
 [ 21   1  34  41  13   0 871   0  19   0]
 [  0   0   0   0   0  56   0 834  23  87]
 [  0   2   0   6   1   1  10   0 979   1]
 [  0   0   0   2   0   5   1  18   7 967]]
2025-08-25 08:20:37,724 - INFO - Starting Round 22/100 with algorithm fedentropy and model cnn
2025-08-25 08:20:37,724 - INFO - Selected clients for Round 22: [43, 20, 49, 3, 14]
2025-08-25 08:20:39,383 - INFO - Client 43 Train Loss: 0.1188
2025-08-25 08:20:41,563 - INFO - Client 20 Train Loss: 0.2128
2025-08-25 08:20:44,379 - INFO - Client 49 Train Loss: 0.0845
2025-08-25 08:20:47,343 - INFO - Client 3 Train Loss: 0.1652
2025-08-25 08:20:50,298 - INFO - Client 14 Train Loss: 0.2436
2025-08-25 08:20:50,298 - INFO - Global Average Train Loss: 0.1650
2025-08-25 08:20:51,032 - INFO - FedEntropy weights: [0.21601986 0.20620352 0.19807117 0.20533989 0.17436556]
2025-08-25 08:20:51,078 - INFO - Aggregated using FedEntropy
2025-08-25 08:20:54,969 - INFO - Global Model Validation Loss: 0.6844, Top1_Accuracy: 73.92%, Top5_Accuracy: 99.72%
2025-08-25 08:20:54,969 - INFO - Precision: 0.8249, Recall: 0.7392, F1-Score: 0.7146
2025-08-25 08:20:54,969 - INFO - Confusion Matrix:
[[879   2  76  37   0   1   2   3   0   0]
 [  1 974   8  16   1   0   0   0   0   0]
 [ 14   1 979   4   1   0   1   0   0   0]
 [ 31  10  49 896  10   0   4   0   0   0]
 [  3   3 788  58 134   0  14   0   0   0]
 [  0   0   0   3   0 802   0 193   0   2]
 [309   0 434  29  22   0 203   0   3   0]
 [  0   0   0   0   0   1   0 998   0   1]
 [  1   1  59   7   0   3   2  32 895   0]
 [  0   0   0   0   0  17   0 351   0 632]]
2025-08-25 08:20:54,970 - INFO - Starting Round 23/100 with algorithm fedentropy and model cnn
2025-08-25 08:20:54,970 - INFO - Selected clients for Round 23: [2, 20, 25, 17, 4]
2025-08-25 08:20:55,863 - INFO - Client 2 Train Loss: 0.2017
2025-08-25 08:20:58,074 - INFO - Client 20 Train Loss: 0.1863
2025-08-25 08:21:01,483 - INFO - Client 25 Train Loss: 0.1517
2025-08-25 08:21:04,373 - INFO - Client 17 Train Loss: 0.1238
2025-08-25 08:21:06,384 - INFO - Client 4 Train Loss: 0.2189
2025-08-25 08:21:06,384 - INFO - Global Average Train Loss: 0.1765
2025-08-25 08:21:07,113 - INFO - FedEntropy weights: [0.23003937 0.20944975 0.16318291 0.1946093  0.20271867]
2025-08-25 08:21:07,145 - INFO - Aggregated using FedEntropy
2025-08-25 08:21:10,995 - INFO - Global Model Validation Loss: 1.0904, Top1_Accuracy: 64.18%, Top5_Accuracy: 99.78%
2025-08-25 08:21:10,995 - INFO - Precision: 0.8100, Recall: 0.6418, F1-Score: 0.6183
2025-08-25 08:21:10,996 - INFO - Confusion Matrix:
[[420   3   0   3   0   1 566   1   6   0]
 [  0 982   0   1   0   0  16   0   1   0]
 [  1   1  49   0   1   0 948   0   0   0]
 [  4 100   0 588   2   0 305   0   1   0]
 [  0   2   0   5   2   0 990   0   1   0]
 [  0   0   0   1   0 702   5 284   1   7]
 [ 13   2   0   3   0   0 977   0   5   0]
 [  0   0   0   0   0   0   0 996   1   3]
 [  0   1   0   0   0   1  27   5 966   0]
 [  0   0   0   0   0   3   3 258   0 736]]
2025-08-25 08:21:10,997 - INFO - Starting Round 24/100 with algorithm fedentropy and model cnn
2025-08-25 08:21:10,997 - INFO - Selected clients for Round 24: [13, 36, 45, 20, 41]
2025-08-25 08:21:13,934 - INFO - Client 13 Train Loss: 0.0767
2025-08-25 08:21:19,205 - INFO - Client 36 Train Loss: 0.1124
2025-08-25 08:21:20,247 - INFO - Client 45 Train Loss: 0.1925
2025-08-25 08:21:22,393 - INFO - Client 20 Train Loss: 0.1883
2025-08-25 08:21:24,133 - INFO - Client 41 Train Loss: 0.2955
2025-08-25 08:21:24,133 - INFO - Global Average Train Loss: 0.1731
2025-08-25 08:21:24,845 - INFO - FedEntropy weights: [0.19264524 0.15763548 0.21974358 0.20697776 0.22299794]
2025-08-25 08:21:24,882 - INFO - Aggregated using FedEntropy
2025-08-25 08:21:28,642 - INFO - Global Model Validation Loss: 0.5387, Top1_Accuracy: 80.69%, Top5_Accuracy: 99.76%
2025-08-25 08:21:28,642 - INFO - Precision: 0.8319, Recall: 0.8069, F1-Score: 0.8040
2025-08-25 08:21:28,642 - INFO - Confusion Matrix:
[[761   0   8 196   1   1  27   2   4   0]
 [  0 946   0  50   2   0   0   0   2   0]
 [ 10   1 786  42  45   0 116   0   0   0]
 [  5   1   1 983   1   0   9   0   0   0]
 [  2   3 130 200 427   0 237   0   1   0]
 [  0   0   0  15   0 817   0 155   0  13]
 [185   0  62 183  16   0 545   0   9   0]
 [  0   0   0   0   0   4   0 990   0   6]
 [  1   1   0  17   2   1  11   8 958   1]
 [  0   0   0   6   0   2   0 136   0 856]]
2025-08-25 08:21:28,643 - INFO - Starting Round 25/100 with algorithm fedentropy and model cnn
2025-08-25 08:21:28,643 - INFO - Selected clients for Round 25: [31, 25, 41, 29, 9]
2025-08-25 08:21:33,093 - INFO - Client 31 Train Loss: 0.0766
2025-08-25 08:21:36,463 - INFO - Client 25 Train Loss: 0.1140
2025-08-25 08:21:38,366 - INFO - Client 41 Train Loss: 0.2460
2025-08-25 08:21:39,407 - INFO - Client 29 Train Loss: 0.2569
2025-08-25 08:21:41,686 - INFO - Client 9 Train Loss: 0.0616
2025-08-25 08:21:41,686 - INFO - Global Average Train Loss: 0.1510
2025-08-25 08:21:42,447 - INFO - FedEntropy weights: [0.16596028 0.17747245 0.2183972  0.22593584 0.21223423]
2025-08-25 08:21:42,483 - INFO - Aggregated using FedEntropy
2025-08-25 08:21:46,273 - INFO - Global Model Validation Loss: 0.5041, Top1_Accuracy: 80.75%, Top5_Accuracy: 99.83%
2025-08-25 08:21:46,273 - INFO - Precision: 0.8359, Recall: 0.8075, F1-Score: 0.7997
2025-08-25 08:21:46,274 - INFO - Confusion Matrix:
[[864   0  12  24   0   7  85   0   7   1]
 [  1 958   0  30   5   1   3   0   2   0]
 [  8   0 802  11  32   0 145   0   2   0]
 [ 32   1   6 904   3   0  53   0   1   0]
 [  1   0 145  65 413   2 370   0   4   0]
 [  0   0   0   0   0 995   0   2   0   3]
 [176   0  57  24  11   2 711   0  19   0]
 [  0   0   0   0   0 365   0 483   0 152]
 [  0   1   1   2   1  13   4   1 975   2]
 [  0   0   0   0   0  28   0   2   0 970]]
2025-08-25 08:21:46,276 - INFO - Starting Round 26/100 with algorithm fedentropy and model cnn
2025-08-25 08:21:46,276 - INFO - Selected clients for Round 26: [16, 8, 15, 47, 35]
2025-08-25 08:21:48,115 - INFO - Client 16 Train Loss: 0.1058
2025-08-25 08:21:49,416 - INFO - Client 8 Train Loss: 0.2202
2025-08-25 08:21:49,950 - INFO - Client 15 Train Loss: 0.4484
2025-08-25 08:21:52,198 - INFO - Client 47 Train Loss: 0.3939
2025-08-25 08:21:53,177 - INFO - Client 35 Train Loss: 0.2164
2025-08-25 08:21:53,177 - INFO - Global Average Train Loss: 0.2769
2025-08-25 08:21:53,878 - INFO - FedEntropy weights: [0.19459964 0.20667802 0.21169097 0.17173845 0.21529292]
2025-08-25 08:21:53,912 - INFO - Aggregated using FedEntropy
2025-08-25 08:21:58,537 - INFO - Global Model Validation Loss: 0.4745, Top1_Accuracy: 81.34%, Top5_Accuracy: 99.64%
2025-08-25 08:21:58,537 - INFO - Precision: 0.8433, Recall: 0.8134, F1-Score: 0.8035
2025-08-25 08:21:58,538 - INFO - Confusion Matrix:
[[264   1  49  79  15   4 584   0   3   1]
 [  0 961   2  26  10   0   1   0   0   0]
 [  0   0 851   8 107   0  34   0   0   0]
 [  0   2  15 884  63   0  36   0   0   0]
 [  0   0 104  19 864   0  13   0   0   0]
 [  0   0   0   3   0 956   0  26   0  15]
 [  1   0 128  34 197   0 631   0   9   0]
 [  0   0   0   0   0 114   0 788   0  98]
 [  0   1  10   5  11   6   2   1 960   4]
 [  0   0   0   0   0   5   0  20   0 975]]
2025-08-25 08:21:58,538 - INFO - Starting Round 27/100 with algorithm fedentropy and model cnn
2025-08-25 08:21:58,538 - INFO - Selected clients for Round 27: [34, 16, 47, 37, 27]
2025-08-25 08:22:01,304 - INFO - Client 34 Train Loss: 0.0473
2025-08-25 08:22:04,352 - INFO - Client 16 Train Loss: 0.0740
2025-08-25 08:22:07,967 - INFO - Client 47 Train Loss: 0.3536
2025-08-25 08:22:11,440 - INFO - Client 37 Train Loss: 0.0502
2025-08-25 08:22:15,441 - INFO - Client 27 Train Loss: 0.1771
2025-08-25 08:22:15,441 - INFO - Global Average Train Loss: 0.1404
2025-08-25 08:22:16,507 - INFO - FedEntropy weights: [0.2116669  0.21519215 0.19430618 0.19128071 0.18755406]
2025-08-25 08:22:16,556 - INFO - Aggregated using FedEntropy
2025-08-25 08:22:21,356 - INFO - Global Model Validation Loss: 0.5809, Top1_Accuracy: 80.24%, Top5_Accuracy: 99.42%
2025-08-25 08:22:21,356 - INFO - Precision: 0.8435, Recall: 0.8024, F1-Score: 0.7797
2025-08-25 08:22:21,357 - INFO - Confusion Matrix:
[[963   4  16  12   0   2   0   0   3   0]
 [  2 988   0   8   0   0   0   0   2   0]
 [ 47   2 928   8  15   0   0   0   0   0]
 [ 82  33  14 854  16   0   0   0   1   0]
 [  8  12 427  53 493   0   5   0   2   0]
 [  1   0   0   1   0 970   0  16   0  12]
 [415   6 295  13 111   1 149   0  10   0]
 [  0   0   0   0   0 154   0 745   0 101]
 [ 13   3   2   2   4   5   0   1 968   2]
 [  0   0   0   0   0  15   0  19   0 966]]
2025-08-25 08:22:21,358 - INFO - Starting Round 28/100 with algorithm fedentropy and model cnn
2025-08-25 08:22:21,358 - INFO - Selected clients for Round 28: [37, 25, 23, 14, 8]
2025-08-25 08:22:24,570 - INFO - Client 37 Train Loss: 0.0167
2025-08-25 08:22:29,184 - INFO - Client 25 Train Loss: 0.1367
2025-08-25 08:22:30,417 - INFO - Client 23 Train Loss: 0.0351
2025-08-25 08:22:34,153 - INFO - Client 14 Train Loss: 0.2335
2025-08-25 08:22:35,896 - INFO - Client 8 Train Loss: 0.2371
2025-08-25 08:22:35,896 - INFO - Global Average Train Loss: 0.1318
2025-08-25 08:22:36,678 - INFO - FedEntropy weights: [0.20389067 0.16293424 0.23991749 0.16888367 0.22437393]
2025-08-25 08:22:36,722 - INFO - Aggregated using FedEntropy
2025-08-25 08:22:40,671 - INFO - Global Model Validation Loss: 0.4996, Top1_Accuracy: 78.93%, Top5_Accuracy: 99.70%
2025-08-25 08:22:40,671 - INFO - Precision: 0.8476, Recall: 0.7893, F1-Score: 0.7820
2025-08-25 08:22:40,672 - INFO - Confusion Matrix:
[[294  21  13  21   1   1 646   0   2   1]
 [  0 995   0   3   0   0   1   0   1   0]
 [  0   9 837   7  24   0 123   0   0   0]
 [  1 127   7 763  17   0  85   0   0   0]
 [  0  31 218  33 443   0 275   0   0   0]
 [  0   1   0   1   0 960   1  19   0  18]
 [  4  15  64  13  16   0 884   0   4   0]
 [  0   0   0   0   0 101   0 780   0 119]
 [  1   6   4   4   2   3  16   1 958   5]
 [  0   0   0   0   0   5   1  15   0 979]]
2025-08-25 08:22:40,672 - INFO - Starting Round 29/100 with algorithm fedentropy and model cnn
2025-08-25 08:22:40,672 - INFO - Selected clients for Round 29: [32, 31, 5, 48, 3]
2025-08-25 08:22:41,180 - INFO - Client 32 Train Loss: 0.3434
2025-08-25 08:22:46,494 - INFO - Client 31 Train Loss: 0.0675
2025-08-25 08:22:47,458 - INFO - Client 5 Train Loss: 0.1638
2025-08-25 08:22:50,436 - INFO - Client 48 Train Loss: 0.0899
2025-08-25 08:22:53,797 - INFO - Client 3 Train Loss: 0.1535
2025-08-25 08:22:53,798 - INFO - Global Average Train Loss: 0.1636
2025-08-25 08:22:54,632 - INFO - FedEntropy weights: [0.21748309 0.16618465 0.22457392 0.19450038 0.19725796]
2025-08-25 08:22:54,675 - INFO - Aggregated using FedEntropy
2025-08-25 08:23:00,133 - INFO - Global Model Validation Loss: 0.5843, Top1_Accuracy: 79.75%, Top5_Accuracy: 99.78%
2025-08-25 08:23:00,133 - INFO - Precision: 0.8362, Recall: 0.7975, F1-Score: 0.7658
2025-08-25 08:23:00,135 - INFO - Confusion Matrix:
[[932   0  10  44   8   1   1   0   1   3]
 [  1 944   0  44   9   0   0   0   1   1]
 [ 42   0 615  12 329   0   2   0   0   0]
 [ 39   1   6 912  39   0   1   0   0   2]
 [  2   0  19  41 937   0   0   0   0   1]
 [  0   0   0   3   0 819   0 112   0  66]
 [365   0  85  40 482   0  22   0   5   1]
 [  0   0   0   0   0   2   0 860   0 138]
 [ 11   0   1   8  13   1   0   8 945  13]
 [  0   0   0   0   0   0   0  11   0 989]]
2025-08-25 08:23:00,136 - INFO - Starting Round 30/100 with algorithm fedentropy and model cnn
2025-08-25 08:23:00,136 - INFO - Selected clients for Round 30: [7, 9, 40, 10, 43]
2025-08-25 08:23:03,502 - INFO - Client 7 Train Loss: 0.1106
2025-08-25 08:23:06,323 - INFO - Client 9 Train Loss: 0.0579
2025-08-25 08:23:08,236 - INFO - Client 40 Train Loss: 0.2081
2025-08-25 08:23:09,581 - INFO - Client 10 Train Loss: 0.3288
2025-08-25 08:23:11,285 - INFO - Client 43 Train Loss: 0.1073
2025-08-25 08:23:11,285 - INFO - Global Average Train Loss: 0.1625
2025-08-25 08:23:12,014 - INFO - FedEntropy weights: [0.19143168 0.20363116 0.19347707 0.19385813 0.21760195]
2025-08-25 08:23:12,055 - INFO - Aggregated using FedEntropy
2025-08-25 08:23:16,210 - INFO - Global Model Validation Loss: 0.6715, Top1_Accuracy: 77.75%, Top5_Accuracy: 99.54%
2025-08-25 08:23:16,210 - INFO - Precision: 0.8337, Recall: 0.7775, F1-Score: 0.7409
2025-08-25 08:23:16,210 - INFO - Confusion Matrix:
[[575   1  51  65   0   3 279   0  26   0]
 [  0 970   2  23   0   0   1   0   4   0]
 [  3   1 950  14   0   0  27   0   5   0]
 [  2   3  17 944   0   0  28   0   6   0]
 [  0   1 619 127   0   0 199   0  54   0]
 [  0   0   0   2   0 975   0  10   7   6]
 [ 38   0 188  41   0   0 681   0  52   0]
 [  0   0   0   0   0 162   0 728  10 100]
 [  0   1   1   3   0   1   0   1 993   0]
 [  0   0   0   0   0  18   0  15   8 959]]
2025-08-25 08:23:16,211 - INFO - Starting Round 31/100 with algorithm fedentropy and model cnn
2025-08-25 08:23:16,211 - INFO - Selected clients for Round 31: [27, 38, 4, 24, 29]
2025-08-25 08:23:18,603 - INFO - Client 27 Train Loss: 0.1474
2025-08-25 08:23:20,159 - INFO - Client 38 Train Loss: 0.1936
2025-08-25 08:23:22,247 - INFO - Client 4 Train Loss: 0.1785
2025-08-25 08:23:23,389 - INFO - Client 24 Train Loss: 0.0936
2025-08-25 08:23:24,527 - INFO - Client 29 Train Loss: 0.2003
2025-08-25 08:23:24,527 - INFO - Global Average Train Loss: 0.1627
2025-08-25 08:23:25,307 - INFO - FedEntropy weights: [0.16795369 0.17998502 0.20852626 0.21949116 0.22404386]
2025-08-25 08:23:25,344 - INFO - Aggregated using FedEntropy
2025-08-25 08:23:29,419 - INFO - Global Model Validation Loss: 0.4323, Top1_Accuracy: 84.68%, Top5_Accuracy: 99.74%
2025-08-25 08:23:29,419 - INFO - Precision: 0.8510, Recall: 0.8468, F1-Score: 0.8429
2025-08-25 08:23:29,420 - INFO - Confusion Matrix:
[[931   4   9  10   4   4  35   0   2   1]
 [  0 994   0   4   0   0   0   0   2   0]
 [ 25   3 828   8  76   0  60   0   0   0]
 [ 50  79   9 811  19   0  27   0   1   4]
 [  2   7 120  35 729   0 104   0   2   1]
 [  0   0   0   0   0 957   0  18   0  25]
 [250   7  66  15  80   1 566   0  15   0]
 [  0   0   0   0   0  98   0 691   0 211]
 [  4   1   1   3   4   6   3   2 971   5]
 [  0   0   0   0   0   5   0   5   0 990]]
2025-08-25 08:23:29,421 - INFO - Starting Round 32/100 with algorithm fedentropy and model cnn
2025-08-25 08:23:29,421 - INFO - Selected clients for Round 32: [33, 16, 35, 0, 43]
2025-08-25 08:23:31,720 - INFO - Client 33 Train Loss: 0.1365
2025-08-25 08:23:33,559 - INFO - Client 16 Train Loss: 0.0841
2025-08-25 08:23:34,582 - INFO - Client 35 Train Loss: 0.1937
2025-08-25 08:23:37,530 - INFO - Client 0 Train Loss: 0.1168
2025-08-25 08:23:39,214 - INFO - Client 43 Train Loss: 0.0784
2025-08-25 08:23:39,214 - INFO - Global Average Train Loss: 0.1219
2025-08-25 08:23:39,973 - INFO - FedEntropy weights: [0.20398582 0.2156164  0.21036756 0.17662921 0.19340102]
2025-08-25 08:23:40,008 - INFO - Aggregated using FedEntropy
2025-08-25 08:23:44,097 - INFO - Global Model Validation Loss: 0.4960, Top1_Accuracy: 81.88%, Top5_Accuracy: 99.70%
2025-08-25 08:23:44,098 - INFO - Precision: 0.8369, Recall: 0.8188, F1-Score: 0.8020
2025-08-25 08:23:44,098 - INFO - Confusion Matrix:
[[776   2  64  82  26   3  42   0   4   1]
 [  0 971   0  20   7   0   0   0   2   0]
 [  7   1 870  10 107   0   4   0   1   0]
 [  5   7  20 908  51   0   9   0   0   0]
 [  1   0  89  22 886   0   0   0   2   0]
 [  0   0   0   2   0 991   0   2   0   5]
 [151   0 163  61 410   0 206   0   9   0]
 [  0   0   0   0   0 250   0 653   0  97]
 [  1   1  12   7  11   6   0   1 959   2]
 [  0   0   0   0   0  23   0   9   0 968]]
2025-08-25 08:23:44,099 - INFO - Starting Round 33/100 with algorithm fedentropy and model cnn
2025-08-25 08:23:44,099 - INFO - Selected clients for Round 33: [46, 7, 43, 34, 48]
2025-08-25 08:23:47,689 - INFO - Client 46 Train Loss: 0.1555
2025-08-25 08:23:51,580 - INFO - Client 7 Train Loss: 0.0901
2025-08-25 08:23:53,607 - INFO - Client 43 Train Loss: 0.0874
2025-08-25 08:23:55,571 - INFO - Client 34 Train Loss: 0.0333
2025-08-25 08:23:58,048 - INFO - Client 48 Train Loss: 0.0582
2025-08-25 08:23:58,048 - INFO - Global Average Train Loss: 0.0849
2025-08-25 08:23:58,841 - INFO - FedEntropy weights: [0.183438   0.16628648 0.22461939 0.22213217 0.20352395]
2025-08-25 08:23:58,891 - INFO - Aggregated using FedEntropy
2025-08-25 08:24:03,744 - INFO - Global Model Validation Loss: 0.4161, Top1_Accuracy: 84.43%, Top5_Accuracy: 99.70%
2025-08-25 08:24:03,744 - INFO - Precision: 0.8566, Recall: 0.8443, F1-Score: 0.8308
2025-08-25 08:24:03,745 - INFO - Confusion Matrix:
[[879   2  31  40   8   3  21   0  16   0]
 [  1 969   0  23   5   0   0   0   2   0]
 [  9   1 852  11 117   0   7   0   3   0]
 [ 26   3  16 911  30   0  10   0   4   0]
 [  1   1  76  35 878   0   4   0   5   0]
 [  0   0   0   2   0 981   0  10   1   6]
 [215   0 131  43 297   0 282   0  32   0]
 [  0   0   0   0   0 164   0 735   0 101]
 [  0   1   1   3   4   3   0   1 986   1]
 [  0   0   0   0   0  18   0  12   0 970]]
2025-08-25 08:24:03,745 - INFO - Starting Round 34/100 with algorithm fedentropy and model cnn
2025-08-25 08:24:03,745 - INFO - Selected clients for Round 34: [17, 49, 41, 21, 7]
2025-08-25 08:24:06,820 - INFO - Client 17 Train Loss: 0.1178
2025-08-25 08:24:09,836 - INFO - Client 49 Train Loss: 0.0736
2025-08-25 08:24:11,686 - INFO - Client 41 Train Loss: 0.2405
2025-08-25 08:24:16,015 - INFO - Client 21 Train Loss: 0.3928
2025-08-25 08:24:19,105 - INFO - Client 7 Train Loss: 0.0872
2025-08-25 08:24:19,106 - INFO - Global Average Train Loss: 0.1824
2025-08-25 08:24:19,838 - INFO - FedEntropy weights: [0.20234478 0.19536138 0.22431293 0.17282308 0.20515783]
2025-08-25 08:24:19,876 - INFO - Aggregated using FedEntropy
2025-08-25 08:24:24,312 - INFO - Global Model Validation Loss: 0.6552, Top1_Accuracy: 75.58%, Top5_Accuracy: 99.80%
2025-08-25 08:24:24,313 - INFO - Precision: 0.8239, Recall: 0.7558, F1-Score: 0.7197
2025-08-25 08:24:24,313 - INFO - Confusion Matrix:
[[920   1  49  13   0   2  13   0   2   0]
 [  1 978   3  17   0   0   0   0   1   0]
 [ 15   1 973   6   0   0   5   0   0   0]
 [ 51   6  36 898   1   0   8   0   0   0]
 [  2   3 787  81  43   0  83   0   1   0]
 [  0   0   0   0   0 997   0   1   0   2]
 [292   0 278  23   4   0 396   0   7   0]
 [  0   0   0   0   0 469   0 436   0  95]
 [  3   1  14   2   0   8   2   1 968   1]
 [  0   0   0   0   0  49   0   2   0 949]]
2025-08-25 08:24:24,316 - INFO - Starting Round 35/100 with algorithm fedentropy and model cnn
2025-08-25 08:24:24,316 - INFO - Selected clients for Round 35: [18, 27, 10, 29, 0]
2025-08-25 08:24:26,069 - INFO - Client 18 Train Loss: 0.1273
2025-08-25 08:24:28,515 - INFO - Client 27 Train Loss: 0.1101
2025-08-25 08:24:29,947 - INFO - Client 10 Train Loss: 0.2450
2025-08-25 08:24:31,001 - INFO - Client 29 Train Loss: 0.1966
2025-08-25 08:24:33,975 - INFO - Client 0 Train Loss: 0.1453
2025-08-25 08:24:33,975 - INFO - Global Average Train Loss: 0.1649
2025-08-25 08:24:34,698 - INFO - FedEntropy weights: [0.19741531 0.19352392 0.20756259 0.21681472 0.18468346]
2025-08-25 08:24:34,735 - INFO - Aggregated using FedEntropy
2025-08-25 08:24:38,622 - INFO - Global Model Validation Loss: 0.3828, Top1_Accuracy: 85.77%, Top5_Accuracy: 99.77%
2025-08-25 08:24:38,622 - INFO - Precision: 0.8625, Recall: 0.8577, F1-Score: 0.8549
2025-08-25 08:24:38,623 - INFO - Confusion Matrix:
[[857   2  11  41   3   5  78   0   3   0]
 [  0 980   0  15   3   0   0   0   2   0]
 [ 15   1 868  14  56   0  46   0   0   0]
 [ 17   8   7 932  11   0  24   0   1   0]
 [  1   1 144  67 716   0  69   0   2   0]
 [  0   0   0   0   0 996   0   2   0   2]
 [167   1  88  35  82   0 617   0  10   0]
 [  0   0   0   0   0 243   0 694   0  63]
 [  2   1   2   5   1   8   3   1 976   1]
 [  0   0   0   0   0  39   0  20   0 941]]
2025-08-25 08:24:38,624 - INFO - Starting Round 36/100 with algorithm fedentropy and model cnn
2025-08-25 08:24:38,624 - INFO - Selected clients for Round 36: [46, 16, 32, 48, 11]
2025-08-25 08:24:41,160 - INFO - Client 46 Train Loss: 0.1465
2025-08-25 08:24:43,081 - INFO - Client 16 Train Loss: 0.0733
2025-08-25 08:24:43,511 - INFO - Client 32 Train Loss: 0.2329
2025-08-25 08:24:45,734 - INFO - Client 48 Train Loss: 0.0689
2025-08-25 08:24:48,123 - INFO - Client 11 Train Loss: 0.1728
2025-08-25 08:24:48,123 - INFO - Global Average Train Loss: 0.1389
2025-08-25 08:24:48,839 - INFO - FedEntropy weights: [0.179761   0.20618668 0.22525055 0.19829406 0.19050772]
2025-08-25 08:24:48,873 - INFO - Aggregated using FedEntropy
2025-08-25 08:24:53,194 - INFO - Global Model Validation Loss: 0.5562, Top1_Accuracy: 82.15%, Top5_Accuracy: 99.61%
2025-08-25 08:24:53,194 - INFO - Precision: 0.8560, Recall: 0.8215, F1-Score: 0.7919
2025-08-25 08:24:53,194 - INFO - Confusion Matrix:
[[836   1  54  70  27   2   2   2   5   1]
 [  0 962   0  29   7   0   0   0   1   1]
 [  9   0 806  11 174   0   0   0   0   0]
 [  8   1  20 907  61   0   1   0   2   0]
 [  1   0  31  21 946   0   0   0   1   0]
 [  0   0   0   2   0 862   0 106   0  30]
 [221   0 143  71 505   0  48   0  12   0]
 [  0   0   0   0   0   4   0 903   0  93]
 [  0   1   7   8  11   1   0   3 965   4]
 [  0   0   1   0   0   2   0  17   0 980]]
2025-08-25 08:24:53,195 - INFO - Starting Round 37/100 with algorithm fedentropy and model cnn
2025-08-25 08:24:53,195 - INFO - Selected clients for Round 37: [32, 6, 40, 19, 38]
2025-08-25 08:24:53,623 - INFO - Client 32 Train Loss: 0.2194
2025-08-25 08:24:54,364 - INFO - Client 6 Train Loss: 0.1228
2025-08-25 08:24:56,142 - INFO - Client 40 Train Loss: 0.2243
2025-08-25 08:24:58,472 - INFO - Client 19 Train Loss: 0.1235
2025-08-25 08:25:00,110 - INFO - Client 38 Train Loss: 0.0925
2025-08-25 08:25:00,110 - INFO - Global Average Train Loss: 0.1565
2025-08-25 08:25:00,856 - INFO - FedEntropy weights: [0.21148922 0.20315263 0.18334364 0.20207675 0.19993776]
2025-08-25 08:25:00,932 - INFO - Aggregated using FedEntropy
2025-08-25 08:25:04,978 - INFO - Global Model Validation Loss: 0.3596, Top1_Accuracy: 86.91%, Top5_Accuracy: 99.74%
2025-08-25 08:25:04,978 - INFO - Precision: 0.8760, Recall: 0.8691, F1-Score: 0.8620
2025-08-25 08:25:04,979 - INFO - Confusion Matrix:
[[883   2  22  54   8   2  20   3   6   0]
 [  0 979   0  16   3   0   0   0   2   0]
 [ 14   1 899  12  62   0  11   0   1   0]
 [ 18   6  10 938  19   0   8   0   1   0]
 [  2   1 141  51 788   0  16   0   1   0]
 [  0   0   0   1   0 918   0  69   0  12]
 [227   1 145  51 155   0 408   0  13   0]
 [  0   0   0   0   0   9   0 966   0  25]
 [  2   1   6   6   3   3   0   8 970   1]
 [  0   0   0   0   0   5   0  53   0 942]]
2025-08-25 08:25:04,979 - INFO - Starting Round 38/100 with algorithm fedentropy and model cnn
2025-08-25 08:25:04,979 - INFO - Selected clients for Round 38: [12, 9, 23, 48, 10]
2025-08-25 08:25:07,043 - INFO - Client 12 Train Loss: 0.0188
2025-08-25 08:25:09,307 - INFO - Client 9 Train Loss: 0.0402
2025-08-25 08:25:10,150 - INFO - Client 23 Train Loss: 0.0347
2025-08-25 08:25:12,302 - INFO - Client 48 Train Loss: 0.0613
2025-08-25 08:25:14,080 - INFO - Client 10 Train Loss: 0.2076
2025-08-25 08:25:14,081 - INFO - Global Average Train Loss: 0.0725
2025-08-25 08:25:15,095 - INFO - FedEntropy weights: [0.18717212 0.19519289 0.2142544  0.19491217 0.20846843]
2025-08-25 08:25:15,146 - INFO - Aggregated using FedEntropy
2025-08-25 08:25:20,226 - INFO - Global Model Validation Loss: 0.3819, Top1_Accuracy: 86.30%, Top5_Accuracy: 99.75%
2025-08-25 08:25:20,226 - INFO - Precision: 0.8674, Recall: 0.8630, F1-Score: 0.8584
2025-08-25 08:25:20,227 - INFO - Confusion Matrix:
[[938   2   8  10   1   4  28   0   9   0]
 [  0 986   0   9   3   0   0   0   2   0]
 [ 39   1 798   9 109   0  37   0   7   0]
 [ 50  17   7 895  11   1  13   0   4   2]
 [  2   1  60  57 823   0  52   0   5   0]
 [  0   0   0   0   0 968   0  17   1  14]
 [272   2  66  19 100   0 515   0  26   0]
 [  0   0   0   0   0  93   0 741   0 166]
 [  3   1   0   3   1   6   0   2 982   2]
 [  0   0   0   0   0   9   0   7   0 984]]
2025-08-25 08:25:20,227 - INFO - Starting Round 39/100 with algorithm fedentropy and model cnn
2025-08-25 08:25:20,228 - INFO - Selected clients for Round 39: [34, 49, 33, 0, 38]
2025-08-25 08:25:23,139 - INFO - Client 34 Train Loss: 0.0312
2025-08-25 08:25:26,448 - INFO - Client 49 Train Loss: 0.0740
2025-08-25 08:25:28,986 - INFO - Client 33 Train Loss: 0.0924
2025-08-25 08:25:32,615 - INFO - Client 0 Train Loss: 0.0952
2025-08-25 08:25:34,262 - INFO - Client 38 Train Loss: 0.0819
2025-08-25 08:25:34,262 - INFO - Global Average Train Loss: 0.0749
2025-08-25 08:25:35,003 - INFO - FedEntropy weights: [0.21726798 0.18524944 0.20424936 0.18063533 0.21259788]
2025-08-25 08:25:35,044 - INFO - Aggregated using FedEntropy
2025-08-25 08:25:39,029 - INFO - Global Model Validation Loss: 0.7295, Top1_Accuracy: 75.73%, Top5_Accuracy: 99.63%
2025-08-25 08:25:39,029 - INFO - Precision: 0.8238, Recall: 0.7573, F1-Score: 0.7238
2025-08-25 08:25:39,030 - INFO - Confusion Matrix:
[[810   2  46  72  46   5  14   0   5   0]
 [  0 975   0  16   7   0   0   0   2   0]
 [  8   1 674   7 310   0   0   0   0   0]
 [  6   5   9 891  88   0   1   0   0   0]
 [  1   0  15   9 974   0   0   0   1   0]
 [  0   0   0   0   0 998   0   0   0   2]
 [165   0 100  76 555   0  86   0  18   0]
 [  0   0   0   0   0 658   0 265   0  77]
 [  0   1   1   5  16  16   0   0 961   0]
 [  0   0   0   0   0  59   0   2   0 939]]
2025-08-25 08:25:39,030 - INFO - Starting Round 40/100 with algorithm fedentropy and model cnn
2025-08-25 08:25:39,030 - INFO - Selected clients for Round 40: [20, 31, 1, 7, 23]
2025-08-25 08:25:41,453 - INFO - Client 20 Train Loss: 0.2216
2025-08-25 08:25:46,021 - INFO - Client 31 Train Loss: 0.0592
2025-08-25 08:25:46,726 - INFO - Client 1 Train Loss: 0.2278
2025-08-25 08:25:49,797 - INFO - Client 7 Train Loss: 0.1032
2025-08-25 08:25:50,576 - INFO - Client 23 Train Loss: 0.0303
2025-08-25 08:25:50,576 - INFO - Global Average Train Loss: 0.1284
2025-08-25 08:25:51,354 - INFO - FedEntropy weights: [0.18758721 0.17190753 0.21511538 0.20019865 0.22519124]
2025-08-25 08:25:51,394 - INFO - Aggregated using FedEntropy
2025-08-25 08:25:55,304 - INFO - Global Model Validation Loss: 0.7838, Top1_Accuracy: 72.48%, Top5_Accuracy: 99.70%
2025-08-25 08:25:55,305 - INFO - Precision: 0.7929, Recall: 0.7248, F1-Score: 0.6876
2025-08-25 08:25:55,305 - INFO - Confusion Matrix:
[[923   6  58   4   0   1   5   1   2   0]
 [  2 997   1   0   0   0   0   0   0   0]
 [ 14   2 982   1   1   0   0   0   0   0]
 [ 89 213  98 587   4   0   8   0   0   1]
 [  4  34 891  24  15   0  31   0   1   0]
 [  0   1   0   0   0 687   0 302   0  10]
 [310  14 428   4   4   0 235   0   5   0]
 [  0   0   0   0   0   0   0 986   0  14]
 [  6   4  25   1   0   1   1  17 944   1]
 [  0   0   1   0   0   3   0 104   0 892]]
2025-08-25 08:25:55,305 - INFO - Starting Round 41/100 with algorithm fedentropy and model cnn
2025-08-25 08:25:55,305 - INFO - Selected clients for Round 41: [19, 15, 3, 36, 5]
2025-08-25 08:25:57,428 - INFO - Client 19 Train Loss: 0.0958
2025-08-25 08:25:57,985 - INFO - Client 15 Train Loss: 0.6167
2025-08-25 08:26:01,009 - INFO - Client 3 Train Loss: 0.1263
2025-08-25 08:26:06,221 - INFO - Client 36 Train Loss: 0.0775
2025-08-25 08:26:06,988 - INFO - Client 5 Train Loss: 0.1271
2025-08-25 08:26:06,988 - INFO - Global Average Train Loss: 0.2087
2025-08-25 08:26:07,718 - INFO - FedEntropy weights: [0.20969594 0.20698781 0.20278753 0.15414747 0.22638126]
2025-08-25 08:26:07,752 - INFO - Aggregated using FedEntropy
2025-08-25 08:26:11,750 - INFO - Global Model Validation Loss: 0.4163, Top1_Accuracy: 85.32%, Top5_Accuracy: 99.88%
2025-08-25 08:26:11,750 - INFO - Precision: 0.8616, Recall: 0.8532, F1-Score: 0.8488
2025-08-25 08:26:11,751 - INFO - Confusion Matrix:
[[921   0   5  49   6   1  14   1   2   1]
 [  1 968   0  28   1   0   0   0   2   0]
 [ 40   1 770  19 138   0  32   0   0   0]
 [ 25   1   3 954   9   0   8   0   0   0]
 [  2   1  52  79 810   0  56   0   0   0]
 [  0   0   0   4   0 780   0 197   0  19]
 [288   0  77  52 107   0 471   0   5   0]
 [  0   0   0   0   0   0   0 947   0  53]
 [ 14   1   1   9   2   2   7  11 950   3]
 [  0   0   0   0   0   3   0  36   0 961]]
2025-08-25 08:26:11,753 - INFO - Starting Round 42/100 with algorithm fedentropy and model cnn
2025-08-25 08:26:11,753 - INFO - Selected clients for Round 42: [5, 46, 31, 4, 48]
2025-08-25 08:26:12,561 - INFO - Client 5 Train Loss: 0.0868
2025-08-25 08:26:15,122 - INFO - Client 46 Train Loss: 0.1088
2025-08-25 08:26:19,571 - INFO - Client 31 Train Loss: 0.0572
2025-08-25 08:26:21,749 - INFO - Client 4 Train Loss: 0.1813
2025-08-25 08:26:23,902 - INFO - Client 48 Train Loss: 0.0702
2025-08-25 08:26:23,902 - INFO - Global Average Train Loss: 0.1009
2025-08-25 08:26:24,627 - INFO - FedEntropy weights: [0.22102663 0.20637489 0.1644937  0.20177007 0.20633471]
2025-08-25 08:26:24,660 - INFO - Aggregated using FedEntropy
2025-08-25 08:26:28,582 - INFO - Global Model Validation Loss: 0.3836, Top1_Accuracy: 85.99%, Top5_Accuracy: 99.82%
2025-08-25 08:26:28,582 - INFO - Precision: 0.8705, Recall: 0.8599, F1-Score: 0.8580
2025-08-25 08:26:28,582 - INFO - Confusion Matrix:
[[911   0   9  14  10   1  48   1   5   1]
 [  2 972   0  17   6   0   1   0   2   0]
 [ 16   1 730   5 210   0  38   0   0   0]
 [ 44   4   9 864  48   0  27   0   1   3]
 [  1   0  32  20 915   0  29   0   1   2]
 [  0   0   0   0   0 904   0  49   0  47]
 [196   1  69  16 150   0 554   0  14   0]
 [  0   0   0   0   0  10   0 775   0 215]
 [  3   1   1   3   5   1   1   2 977   6]
 [  0   0   0   0   0   0   0   3   0 997]]
2025-08-25 08:26:28,583 - INFO - Starting Round 43/100 with algorithm fedentropy and model cnn
2025-08-25 08:26:28,583 - INFO - Selected clients for Round 43: [34, 49, 8, 42, 30]
2025-08-25 08:26:30,373 - INFO - Client 34 Train Loss: 0.0353
2025-08-25 08:26:33,442 - INFO - Client 49 Train Loss: 0.0697
2025-08-25 08:26:34,879 - INFO - Client 8 Train Loss: 0.1642
2025-08-25 08:26:37,214 - INFO - Client 42 Train Loss: 0.0877
2025-08-25 08:26:39,365 - INFO - Client 30 Train Loss: 0.0301
2025-08-25 08:26:39,366 - INFO - Global Average Train Loss: 0.0774
2025-08-25 08:26:40,113 - INFO - FedEntropy weights: [0.21342474 0.18383363 0.21228435 0.1886948  0.20176247]
2025-08-25 08:26:40,155 - INFO - Aggregated using FedEntropy
2025-08-25 08:26:44,005 - INFO - Global Model Validation Loss: 0.5512, Top1_Accuracy: 79.85%, Top5_Accuracy: 99.76%
2025-08-25 08:26:44,006 - INFO - Precision: 0.8418, Recall: 0.7985, F1-Score: 0.7820
2025-08-25 08:26:44,006 - INFO - Confusion Matrix:
[[849   1  33  67   5   4  34   0   7   0]
 [  0 974   0  22   2   0   0   0   2   0]
 [  9   1 919  15  49   0   6   0   1   0]
 [ 10   2  12 962   7   0   7   0   0   0]
 [  2   1 143  82 759   0  11   0   2   0]
 [  0   0   0   0   0 999   0   1   0   0]
 [161   1 174  72 155   1 425   0  11   0]
 [  0   0   0   0   0 711   0 254   0  35]
 [  0   1   5   7   2  13   0   0 972   0]
 [  0   0   0   1   0 120   0   7   0 872]]
2025-08-25 08:26:44,008 - INFO - Starting Round 44/100 with algorithm fedentropy and model cnn
2025-08-25 08:26:44,008 - INFO - Selected clients for Round 44: [35, 10, 16, 33, 38]
2025-08-25 08:26:45,066 - INFO - Client 35 Train Loss: 0.1487
2025-08-25 08:26:46,382 - INFO - Client 10 Train Loss: 0.2578
2025-08-25 08:26:48,260 - INFO - Client 16 Train Loss: 0.0631
2025-08-25 08:26:50,449 - INFO - Client 33 Train Loss: 0.1047
2025-08-25 08:26:52,471 - INFO - Client 38 Train Loss: 0.1081
2025-08-25 08:26:52,472 - INFO - Global Average Train Loss: 0.1365
2025-08-25 08:26:53,314 - INFO - FedEntropy weights: [0.20892638 0.20562441 0.19229939 0.19399854 0.19915127]
2025-08-25 08:26:53,427 - INFO - Aggregated using FedEntropy
2025-08-25 08:26:59,040 - INFO - Global Model Validation Loss: 0.3785, Top1_Accuracy: 85.69%, Top5_Accuracy: 99.72%
2025-08-25 08:26:59,041 - INFO - Precision: 0.8687, Recall: 0.8569, F1-Score: 0.8553
2025-08-25 08:26:59,042 - INFO - Confusion Matrix:
[[548   3  39  59  13   3 331   0   3   1]
 [  0 983   0  10   5   0   0   0   2   0]
 [  3   2 806   7 143   0  39   0   0   0]
 [  2  20  14 877  58   0  29   0   0   0]
 [  0   0  45  13 920   0  22   0   0   0]
 [  0   0   0   0   0 960   0  24   0  16]
 [ 26   1  87  35 164   0 681   0   6   0]
 [  0   0   0   0   0  66   0 846   0  88]
 [  0   1   6   4  11   3   2   2 969   2]
 [  0   0   1   0   0   5   0  15   0 979]]
2025-08-25 08:26:59,042 - INFO - Starting Round 45/100 with algorithm fedentropy and model cnn
2025-08-25 08:26:59,043 - INFO - Selected clients for Round 45: [27, 13, 34, 48, 46]
2025-08-25 08:27:02,431 - INFO - Client 27 Train Loss: 0.1203
2025-08-25 08:27:06,335 - INFO - Client 13 Train Loss: 0.0357
2025-08-25 08:27:08,745 - INFO - Client 34 Train Loss: 0.0272
2025-08-25 08:27:11,534 - INFO - Client 48 Train Loss: 0.0492
2025-08-25 08:27:14,457 - INFO - Client 46 Train Loss: 0.1013
2025-08-25 08:27:14,458 - INFO - Global Average Train Loss: 0.0668
2025-08-25 08:27:15,248 - INFO - FedEntropy weights: [0.19800908 0.17479855 0.21306389 0.21954372 0.19458475]
2025-08-25 08:27:15,297 - INFO - Aggregated using FedEntropy
2025-08-25 08:27:19,563 - INFO - Global Model Validation Loss: 0.4756, Top1_Accuracy: 82.66%, Top5_Accuracy: 99.61%
2025-08-25 08:27:19,563 - INFO - Precision: 0.8608, Recall: 0.8266, F1-Score: 0.7968
2025-08-25 08:27:19,564 - INFO - Confusion Matrix:
[[884   1  15  81   9   2   2   0   5   1]
 [  0 971   0  23   4   0   0   0   2   0]
 [ 23   1 706  30 238   0   0   0   2   0]
 [ 10   2   4 978   6   0   0   0   0   0]
 [  2   1  19  85 892   0   0   0   1   0]
 [  0   0   0   5   0 963   0  18   1  13]
 [274   1  92 112 436   1  62   0  22   0]
 [  0   0   0   0   0  69   0 866   0  65]
 [  2   1   1   9   4   1   0   2 978   2]
 [  0   0   0   2   0   8   0  24   0 966]]
2025-08-25 08:27:19,565 - INFO - Starting Round 46/100 with algorithm fedentropy and model cnn
2025-08-25 08:27:19,565 - INFO - Selected clients for Round 46: [44, 12, 45, 19, 25]
2025-08-25 08:27:22,474 - INFO - Client 44 Train Loss: 0.0759
2025-08-25 08:27:24,852 - INFO - Client 12 Train Loss: 0.0168
2025-08-25 08:27:26,095 - INFO - Client 45 Train Loss: 0.0971
2025-08-25 08:27:28,090 - INFO - Client 19 Train Loss: 0.0932
2025-08-25 08:27:31,556 - INFO - Client 25 Train Loss: 0.1182
2025-08-25 08:27:31,556 - INFO - Global Average Train Loss: 0.0802
2025-08-25 08:27:32,283 - INFO - FedEntropy weights: [0.19638641 0.2211487  0.21371523 0.20775606 0.1609936 ]
2025-08-25 08:27:32,315 - INFO - Aggregated using FedEntropy
2025-08-25 08:27:36,258 - INFO - Global Model Validation Loss: 0.4210, Top1_Accuracy: 84.44%, Top5_Accuracy: 99.88%
2025-08-25 08:27:36,259 - INFO - Precision: 0.8636, Recall: 0.8444, F1-Score: 0.8458
2025-08-25 08:27:36,259 - INFO - Confusion Matrix:
[[972   0   1   6   0   1  18   0   2   0]
 [ 14 975   0   8   0   0   1   0   2   0]
 [ 87   1 701   7  94   0 110   0   0   0]
 [158   5   2 794   4   0  37   0   0   0]
 [ 24   3  40  42 611   0 279   0   1   0]
 [  3   0   0   0   0 946   0  45   0   6]
 [351   0  32  10  21   0 577   0   9   0]
 [  0   0   0   0   0  14   0 971   0  15]
 [ 17   1   0   1   1   3   1   4 971   1]
 [  1   0   0   0   0   9   0  64   0 926]]
2025-08-25 08:27:36,259 - INFO - Starting Round 47/100 with algorithm fedentropy and model cnn
2025-08-25 08:27:36,260 - INFO - Selected clients for Round 47: [42, 41, 23, 28, 33]
2025-08-25 08:27:38,524 - INFO - Client 42 Train Loss: 0.0696
2025-08-25 08:27:40,275 - INFO - Client 41 Train Loss: 0.1935
2025-08-25 08:27:41,028 - INFO - Client 23 Train Loss: 0.0272
2025-08-25 08:27:42,782 - INFO - Client 28 Train Loss: 0.1019
2025-08-25 08:27:44,846 - INFO - Client 33 Train Loss: 0.1114
2025-08-25 08:27:44,846 - INFO - Global Average Train Loss: 0.1007
2025-08-25 08:27:45,554 - INFO - FedEntropy weights: [0.1874406  0.1933506  0.22258916 0.20284789 0.19377174]
2025-08-25 08:27:45,588 - INFO - Aggregated using FedEntropy
2025-08-25 08:27:49,467 - INFO - Global Model Validation Loss: 0.5902, Top1_Accuracy: 79.97%, Top5_Accuracy: 99.53%
2025-08-25 08:27:49,467 - INFO - Precision: 0.8407, Recall: 0.7997, F1-Score: 0.7655
2025-08-25 08:27:49,469 - INFO - Confusion Matrix:
[[911  11  14  28  18   1   2   0  14   1]
 [  0 993   0   3   2   0   0   0   2   0]
 [ 22   9 587  11 367   0   0   0   3   1]
 [ 25  55   5 861  53   0   0   0   1   0]
 [  2   2   7  18 970   0   0   0   1   0]
 [  0   1   0   1   0 926   0  25   5  42]
 [310  14  54  37 552   0  10   0  23   0]
 [  0   0   0   0   0  33   0 757   4 206]
 [  0   2   0   3   7   1   0   0 985   2]
 [  0   0   0   0   0   1   0   2   0 997]]
2025-08-25 08:27:49,469 - INFO - Starting Round 48/100 with algorithm fedentropy and model cnn
2025-08-25 08:27:49,469 - INFO - Selected clients for Round 48: [28, 7, 15, 14, 4]
2025-08-25 08:27:51,152 - INFO - Client 28 Train Loss: 0.0626
2025-08-25 08:27:54,221 - INFO - Client 7 Train Loss: 0.0932
2025-08-25 08:27:54,756 - INFO - Client 15 Train Loss: 0.3191
2025-08-25 08:27:57,711 - INFO - Client 14 Train Loss: 0.2440
2025-08-25 08:27:59,787 - INFO - Client 4 Train Loss: 0.1800
2025-08-25 08:27:59,787 - INFO - Global Average Train Loss: 0.1798
2025-08-25 08:28:00,549 - INFO - FedEntropy weights: [0.21003922 0.20008405 0.21770916 0.16760984 0.20455773]
2025-08-25 08:28:00,587 - INFO - Aggregated using FedEntropy
2025-08-25 08:28:04,978 - INFO - Global Model Validation Loss: 0.4164, Top1_Accuracy: 83.63%, Top5_Accuracy: 99.90%
2025-08-25 08:28:04,979 - INFO - Precision: 0.8630, Recall: 0.8363, F1-Score: 0.8264
2025-08-25 08:28:04,979 - INFO - Confusion Matrix:
[[787   2  23  11   0   1 171   1   3   1]
 [  0 987   0  10   0   0   1   0   2   0]
 [ 10   1 936   5   3   0  45   0   0   0]
 [ 22  12  18 881   8   0  58   0   1   0]
 [  0   3 439  41 270   0 245   0   2   0]
 [  0   0   0   0   0 953   1  23   2  21]
 [ 84   2 121  15  14   0 756   0   8   0]
 [  0   0   0   0   0  48   0 821   0 131]
 [  0   1   5   2   0   1   3   1 985   2]
 [  0   0   0   0   0   3   1   9   0 987]]
2025-08-25 08:28:04,980 - INFO - Starting Round 49/100 with algorithm fedentropy and model cnn
2025-08-25 08:28:04,980 - INFO - Selected clients for Round 49: [21, 1, 37, 35, 14]
2025-08-25 08:28:10,423 - INFO - Client 21 Train Loss: 0.3410
2025-08-25 08:28:11,214 - INFO - Client 1 Train Loss: 0.0779
2025-08-25 08:28:13,796 - INFO - Client 37 Train Loss: 0.0227
2025-08-25 08:28:14,938 - INFO - Client 35 Train Loss: 0.1696
2025-08-25 08:28:18,066 - INFO - Client 14 Train Loss: 0.1717
2025-08-25 08:28:18,066 - INFO - Global Average Train Loss: 0.1566
2025-08-25 08:28:18,986 - INFO - FedEntropy weights: [0.17579973 0.22174097 0.21640295 0.20274639 0.18330996]
2025-08-25 08:28:19,073 - INFO - Aggregated using FedEntropy
2025-08-25 08:28:23,110 - INFO - Global Model Validation Loss: 0.4172, Top1_Accuracy: 83.77%, Top5_Accuracy: 99.79%
2025-08-25 08:28:23,110 - INFO - Precision: 0.8682, Recall: 0.8377, F1-Score: 0.8293
2025-08-25 08:28:23,112 - INFO - Confusion Matrix:
[[789   8  10  16   0   3 172   1   1   0]
 [  0 996   0   3   0   0   0   0   1   0]
 [ 12   2 866  10   4   1 105   0   0   0]
 [ 12  55   6 874   3   0  50   0   0   0]
 [  0  10 260  60 274   1 395   0   0   0]
 [  0   0   0   0   0 973   1  20   0   6]
 [ 83   8  56  22   6   0 825   0   0   0]
 [  0   0   0   0   0  60   0 914   0  26]
 [  3   5   3   7   0   7  43   5 927   0]
 [  0   0   0   0   0  18   0  43   0 939]]
2025-08-25 08:28:23,112 - INFO - Starting Round 50/100 with algorithm fedentropy and model cnn
2025-08-25 08:28:23,113 - INFO - Selected clients for Round 50: [37, 14, 0, 4, 45]
2025-08-25 08:28:25,832 - INFO - Client 37 Train Loss: 0.0182
2025-08-25 08:28:29,195 - INFO - Client 14 Train Loss: 0.1602
2025-08-25 08:28:33,657 - INFO - Client 0 Train Loss: 0.1088
2025-08-25 08:28:36,675 - INFO - Client 4 Train Loss: 0.1327
2025-08-25 08:28:38,333 - INFO - Client 45 Train Loss: 0.0742
2025-08-25 08:28:38,333 - INFO - Global Average Train Loss: 0.0988
2025-08-25 08:28:39,265 - INFO - FedEntropy weights: [0.20294965 0.1926519  0.18916879 0.19786212 0.21736754]
2025-08-25 08:28:39,317 - INFO - Aggregated using FedEntropy
2025-08-25 08:28:43,754 - INFO - Global Model Validation Loss: 0.3778, Top1_Accuracy: 85.44%, Top5_Accuracy: 99.83%
2025-08-25 08:28:43,755 - INFO - Precision: 0.8667, Recall: 0.8544, F1-Score: 0.8499
2025-08-25 08:28:43,755 - INFO - Confusion Matrix:
[[893   3   7  20   0   3  71   0   2   1]
 [  0 993   0   6   0   0   0   0   1   0]
 [ 26   3 833  12  19   1 106   0   0   0]
 [ 23  20   5 922   1   0  29   0   0   0]
 [  1   4 187  84 448   0 275   0   1   0]
 [  0   0   0   1   0 976   0  11   0  12]
 [170   4  41  27  16   0 740   0   2   0]
 [  0   0   0   0   0 109   0 808   0  83]
 [  9   2   0   8   1   8  13   1 954   4]
 [  0   0   0   0   0   9   0  14   0 977]]
2025-08-25 08:28:43,756 - INFO - Starting Round 51/100 with algorithm fedentropy and model cnn
2025-08-25 08:28:43,756 - INFO - Selected clients for Round 51: [40, 3, 14, 4, 2]
2025-08-25 08:28:45,775 - INFO - Client 40 Train Loss: 0.1333
2025-08-25 08:28:48,921 - INFO - Client 3 Train Loss: 0.1198
2025-08-25 08:28:52,144 - INFO - Client 14 Train Loss: 0.1527
2025-08-25 08:28:54,636 - INFO - Client 4 Train Loss: 0.1263
2025-08-25 08:28:55,647 - INFO - Client 2 Train Loss: 0.1095
2025-08-25 08:28:55,648 - INFO - Global Average Train Loss: 0.1283
2025-08-25 08:28:56,458 - INFO - FedEntropy weights: [0.19365436 0.19540705 0.18846136 0.20636974 0.21610749]
2025-08-25 08:28:56,528 - INFO - Aggregated using FedEntropy
2025-08-25 08:29:00,975 - INFO - Global Model Validation Loss: 0.6186, Top1_Accuracy: 77.81%, Top5_Accuracy: 99.85%
2025-08-25 08:29:00,975 - INFO - Precision: 0.8555, Recall: 0.7781, F1-Score: 0.7682
2025-08-25 08:29:00,976 - INFO - Confusion Matrix:
[[653   2  23   8   0   0 309   3   2   0]
 [  0 991   0   3   1   0   3   0   2   0]
 [  6   1 849   4   2   0 138   0   0   0]
 [ 11  27  17 803   2   0 138   0   2   0]
 [  0   2 240  27 167   0 563   0   1   0]
 [  0   0   0   0   0 589  10 382   3  16]
 [ 38   1  45   8   2   0 901   0   5   0]
 [  0   0   0   0   0   0   0 995   0   5]
 [  0   1   4   2   0   0  14   5 974   0]
 [  0   0   0   0   0   1   2 138   0 859]]
2025-08-25 08:29:00,976 - INFO - Starting Round 52/100 with algorithm fedentropy and model cnn
2025-08-25 08:29:00,976 - INFO - Selected clients for Round 52: [21, 4, 32, 15, 17]
2025-08-25 08:29:05,665 - INFO - Client 21 Train Loss: 0.3356
2025-08-25 08:29:07,856 - INFO - Client 4 Train Loss: 0.1267
2025-08-25 08:29:08,335 - INFO - Client 32 Train Loss: 0.2940
2025-08-25 08:29:08,881 - INFO - Client 15 Train Loss: 0.4416
2025-08-25 08:29:12,160 - INFO - Client 17 Train Loss: 0.0959
2025-08-25 08:29:12,162 - INFO - Global Average Train Loss: 0.2588
2025-08-25 08:29:12,906 - INFO - FedEntropy weights: [0.15407976 0.19957518 0.22977121 0.21118842 0.20538544]
2025-08-25 08:29:12,955 - INFO - Aggregated using FedEntropy
2025-08-25 08:29:16,913 - INFO - Global Model Validation Loss: 0.3398, Top1_Accuracy: 88.10%, Top5_Accuracy: 99.88%
2025-08-25 08:29:16,914 - INFO - Precision: 0.8853, Recall: 0.8810, F1-Score: 0.8779
2025-08-25 08:29:16,914 - INFO - Confusion Matrix:
[[955   0   5  11   3   1  22   1   2   0]
 [  1 983   0  12   2   0   0   0   2   0]
 [ 50   1 836   9  68   0  35   0   1   0]
 [ 44   6   6 909  19   0  15   0   1   0]
 [  5   3  94  40 805   0  51   0   2   0]
 [  0   0   0   1   0 922   0  60   1  16]
 [302   2  67  18  87   0 518   0   6   0]
 [  0   0   0   0   0  13   0 940   0  47]
 [  9   1   0   3   2   1   3   3 977   1]
 [  0   0   0   0   0   5   0  30   0 965]]
2025-08-25 08:29:16,917 - INFO - Starting Round 53/100 with algorithm fedentropy and model cnn
2025-08-25 08:29:16,918 - INFO - Selected clients for Round 53: [42, 31, 13, 34, 8]
2025-08-25 08:29:19,289 - INFO - Client 42 Train Loss: 0.0789
2025-08-25 08:29:25,163 - INFO - Client 31 Train Loss: 0.0625
2025-08-25 08:29:28,751 - INFO - Client 13 Train Loss: 0.0382
2025-08-25 08:29:31,173 - INFO - Client 34 Train Loss: 0.0325
2025-08-25 08:29:33,371 - INFO - Client 8 Train Loss: 0.1658
2025-08-25 08:29:33,371 - INFO - Global Average Train Loss: 0.0756
2025-08-25 08:29:34,186 - INFO - FedEntropy weights: [0.20723425 0.16486943 0.18787897 0.22435508 0.21566228]
2025-08-25 08:29:34,236 - INFO - Aggregated using FedEntropy
2025-08-25 08:29:38,391 - INFO - Global Model Validation Loss: 0.3839, Top1_Accuracy: 86.17%, Top5_Accuracy: 99.77%
2025-08-25 08:29:38,391 - INFO - Precision: 0.8689, Recall: 0.8617, F1-Score: 0.8583
2025-08-25 08:29:38,392 - INFO - Confusion Matrix:
[[816   2  14  91   4   1  59   0  12   1]
 [  0 978   0  20   0   0   0   0   2   0]
 [ 16   1 898  25  37   0  22   0   1   0]
 [  5   1   6 978   2   0   8   0   0   0]
 [  1   3 155 108 695   0  36   0   2   0]
 [  0   0   0   7   0 922   0  29   2  40]
 [132   2  94  80  96   0 576   0  20   0]
 [  0   0   0   0   0  28   0 773   1 198]
 [  0   1   0   9   1   1   1   2 983   2]
 [  0   0   0   0   0   0   0   2   0 998]]
2025-08-25 08:29:38,393 - INFO - Starting Round 54/100 with algorithm fedentropy and model cnn
2025-08-25 08:29:38,393 - INFO - Selected clients for Round 54: [46, 36, 30, 15, 26]
2025-08-25 08:29:41,099 - INFO - Client 46 Train Loss: 0.1033
2025-08-25 08:29:46,335 - INFO - Client 36 Train Loss: 0.0774
2025-08-25 08:29:48,333 - INFO - Client 30 Train Loss: 0.0247
2025-08-25 08:29:48,877 - INFO - Client 15 Train Loss: 0.2365
2025-08-25 08:29:49,673 - INFO - Client 26 Train Loss: 0.0525
2025-08-25 08:29:49,673 - INFO - Global Average Train Loss: 0.0989
2025-08-25 08:29:50,424 - INFO - FedEntropy weights: [0.19506115 0.15322348 0.21116335 0.22842778 0.21212424]
2025-08-25 08:29:50,459 - INFO - Aggregated using FedEntropy
2025-08-25 08:29:54,375 - INFO - Global Model Validation Loss: 0.5870, Top1_Accuracy: 77.82%, Top5_Accuracy: 99.76%
2025-08-25 08:29:54,375 - INFO - Precision: 0.8329, Recall: 0.7782, F1-Score: 0.7762
2025-08-25 08:29:54,376 - INFO - Confusion Matrix:
[[752   1  21 101  10  10 105   0   0   0]
 [  0 966   0  24   7   3   0   0   0   0]
 [ 13   1 774  14 176   1  21   0   0   0]
 [  3   1   5 943  38   0  10   0   0   0]
 [  1   1  35  35 918   0   9   0   1   0]
 [  0   0   0   0   0 999   0   1   0   0]
 [ 90   0  82  77 237   3 507   0   4   0]
 [  0   0   0   0   0 553   0 444   0   3]
 [  0   0   7   8  11  55   4   1 914   0]
 [  0   0   0   1   0 399   0  35   0 565]]
2025-08-25 08:29:54,376 - INFO - Starting Round 55/100 with algorithm fedentropy and model cnn
2025-08-25 08:29:54,376 - INFO - Selected clients for Round 55: [12, 6, 42, 27, 22]
2025-08-25 08:29:56,489 - INFO - Client 12 Train Loss: 0.0201
2025-08-25 08:29:57,200 - INFO - Client 6 Train Loss: 0.1304
2025-08-25 08:29:59,602 - INFO - Client 42 Train Loss: 0.1111
2025-08-25 08:30:02,055 - INFO - Client 27 Train Loss: 0.1120
2025-08-25 08:30:02,759 - INFO - Client 22 Train Loss: 0.2170
2025-08-25 08:30:02,759 - INFO - Global Average Train Loss: 0.1181
2025-08-25 08:30:03,612 - INFO - FedEntropy weights: [0.19472913 0.22743971 0.18764845 0.19574768 0.19443503]
2025-08-25 08:30:03,656 - INFO - Aggregated using FedEntropy
2025-08-25 08:30:08,144 - INFO - Global Model Validation Loss: 0.7583, Top1_Accuracy: 78.84%, Top5_Accuracy: 99.51%
2025-08-25 08:30:08,144 - INFO - Precision: 0.8477, Recall: 0.7884, F1-Score: 0.7630
2025-08-25 08:30:08,145 - INFO - Confusion Matrix:
[[988   0   2   5   1   1   0   1   2   0]
 [ 10 979   0   9   1   0   0   0   1   0]
 [107   1 854   5  33   0   0   0   0   0]
 [175   4   6 796  19   0   0   0   0   0]
 [ 46   3 236  34 680   0   0   0   1   0]
 [ 21   0   0   1   0 653   0 273   0  52]
 [522   1 178  10 218   0  68   0   3   0]
 [  0   0   0   0   0   0   0 980   0  20]
 [ 51   1   1   2   3   0   0   4 937   1]
 [  1   0   0   0   0   0   0  50   0 949]]
2025-08-25 08:30:08,146 - INFO - Starting Round 56/100 with algorithm fedentropy and model cnn
2025-08-25 08:30:08,147 - INFO - Selected clients for Round 56: [27, 26, 29, 46, 3]
2025-08-25 08:30:10,794 - INFO - Client 27 Train Loss: 0.0865
2025-08-25 08:30:11,660 - INFO - Client 26 Train Loss: 0.0840
2025-08-25 08:30:12,916 - INFO - Client 29 Train Loss: 0.2905
2025-08-25 08:30:16,513 - INFO - Client 46 Train Loss: 0.0949
2025-08-25 08:30:21,160 - INFO - Client 3 Train Loss: 0.1004
2025-08-25 08:30:21,160 - INFO - Global Average Train Loss: 0.1313
2025-08-25 08:30:22,182 - INFO - FedEntropy weights: [0.192174   0.20749545 0.19793732 0.1938955  0.20849773]
2025-08-25 08:30:22,215 - INFO - Aggregated using FedEntropy
2025-08-25 08:30:26,831 - INFO - Global Model Validation Loss: 0.4341, Top1_Accuracy: 84.59%, Top5_Accuracy: 99.79%
2025-08-25 08:30:26,831 - INFO - Precision: 0.8688, Recall: 0.8459, F1-Score: 0.8292
2025-08-25 08:30:26,831 - INFO - Confusion Matrix:
[[951   0  15  18   7   6   2   0   1   0]
 [  2 971   0  21   4   0   0   0   2   0]
 [ 28   1 896  10  62   1   2   0   0   0]
 [ 42   1   8 914  31   0   3   0   1   0]
 [  2   1 123  32 837   0   4   0   1   0]
 [  0   0   0   0   0 990   0   4   0   6]
 [358   1 140  29 240   2 223   0   7   0]
 [  0   0   0   0   0 202   0 767   0  31]
 [  6   1   3   4   7  14   0   1 963   1]
 [  0   0   0   0   0  24   0  29   0 947]]
2025-08-25 08:30:26,832 - INFO - Starting Round 57/100 with algorithm fedentropy and model cnn
2025-08-25 08:30:26,832 - INFO - Selected clients for Round 57: [43, 41, 6, 3, 25]
2025-08-25 08:30:29,568 - INFO - Client 43 Train Loss: 0.0788
2025-08-25 08:30:31,980 - INFO - Client 41 Train Loss: 0.1962
2025-08-25 08:30:32,789 - INFO - Client 6 Train Loss: 0.1614
2025-08-25 08:30:36,162 - INFO - Client 3 Train Loss: 0.0875
2025-08-25 08:30:40,310 - INFO - Client 25 Train Loss: 0.1079
2025-08-25 08:30:40,310 - INFO - Global Average Train Loss: 0.1263
2025-08-25 08:30:41,254 - INFO - FedEntropy weights: [0.21127885 0.21106848 0.21903837 0.19764136 0.16097293]
2025-08-25 08:30:41,300 - INFO - Aggregated using FedEntropy
2025-08-25 08:30:45,493 - INFO - Global Model Validation Loss: 0.3410, Top1_Accuracy: 87.56%, Top5_Accuracy: 99.93%
2025-08-25 08:30:45,493 - INFO - Precision: 0.8833, Recall: 0.8756, F1-Score: 0.8766
2025-08-25 08:30:45,494 - INFO - Confusion Matrix:
[[895   0  11  13   3   1  73   2   2   0]
 [  1 971   0  19   5   0   2   0   2   0]
 [ 13   1 750   7 128   0 101   0   0   0]
 [ 24   1   5 901  33   0  35   0   1   0]
 [  2   0  26  27 803   0 141   0   1   0]
 [  0   0   0   0   0 932   0  63   0   5]
 [166   0  34  20  62   0 713   0   5   0]
 [  0   0   0   0   0   3   0 995   0   2]
 [  3   1   0   5   3   5   7   7 969   0]
 [  0   0   0   0   0   9   0 164   0 827]]
2025-08-25 08:30:45,496 - INFO - Starting Round 58/100 with algorithm fedentropy and model cnn
2025-08-25 08:30:45,497 - INFO - Selected clients for Round 58: [46, 21, 6, 15, 12]
2025-08-25 08:30:48,166 - INFO - Client 46 Train Loss: 0.0884
2025-08-25 08:30:52,499 - INFO - Client 21 Train Loss: 0.3225
2025-08-25 08:30:53,211 - INFO - Client 6 Train Loss: 0.1055
2025-08-25 08:30:53,736 - INFO - Client 15 Train Loss: 0.1843
2025-08-25 08:30:55,780 - INFO - Client 12 Train Loss: 0.0161
2025-08-25 08:30:55,783 - INFO - Global Average Train Loss: 0.1434
2025-08-25 08:30:56,516 - INFO - FedEntropy weights: [0.20173897 0.16393791 0.22393683 0.2185577  0.19182859]
2025-08-25 08:30:56,549 - INFO - Aggregated using FedEntropy
2025-08-25 08:31:00,841 - INFO - Global Model Validation Loss: 0.3845, Top1_Accuracy: 85.77%, Top5_Accuracy: 99.85%
2025-08-25 08:31:00,843 - INFO - Precision: 0.8741, Recall: 0.8577, F1-Score: 0.8492
2025-08-25 08:31:00,843 - INFO - Confusion Matrix:
[[940   0  22   8   7   1  18   3   1   0]
 [  1 970   0  18   9   0   0   0   2   0]
 [ 22   1 888   3  75   0  11   0   0   0]
 [ 60   1  24 840  61   0  13   1   0   0]
 [  2   0 106   9 873   0   9   0   1   0]
 [  0   0   0   0   0 931   0  64   0   5]
 [290   0 123  11 236   0 334   0   6   0]
 [  0   0   0   0   0   6   0 991   0   3]
 [ 11   1   4   1   8   6   1  11 957   0]
 [  0   0   0   0   0  10   0 137   0 853]]
2025-08-25 08:31:00,844 - INFO - Starting Round 59/100 with algorithm fedentropy and model cnn
2025-08-25 08:31:00,844 - INFO - Selected clients for Round 59: [12, 34, 28, 8, 27]
2025-08-25 08:31:02,889 - INFO - Client 12 Train Loss: 0.0072
2025-08-25 08:31:04,622 - INFO - Client 34 Train Loss: 0.0342
2025-08-25 08:31:06,485 - INFO - Client 28 Train Loss: 0.0838
2025-08-25 08:31:08,021 - INFO - Client 8 Train Loss: 0.1616
2025-08-25 08:31:10,380 - INFO - Client 27 Train Loss: 0.0775
2025-08-25 08:31:10,380 - INFO - Global Average Train Loss: 0.0729
2025-08-25 08:31:11,132 - INFO - FedEntropy weights: [0.20831256 0.20558953 0.20324205 0.19082687 0.19202899]
2025-08-25 08:31:11,164 - INFO - Aggregated using FedEntropy
2025-08-25 08:31:15,034 - INFO - Global Model Validation Loss: 0.4708, Top1_Accuracy: 84.23%, Top5_Accuracy: 99.85%
2025-08-25 08:31:15,034 - INFO - Precision: 0.8785, Recall: 0.8423, F1-Score: 0.8314
2025-08-25 08:31:15,035 - INFO - Confusion Matrix:
[[984   0   4   5   1   1   2   0   3   0]
 [ 16 971   0   8   3   0   0   0   2   0]
 [ 90   1 747   5 147   0   6   0   4   0]
 [175   4   4 775  38   0   3   0   1   0]
 [ 19   1  44  20 908   0   3   0   5   0]
 [  6   0   0   0   0 959   0  15   6  14]
 [424   1  59   8 238   0 253   0  17   0]
 [  5   0   0   0   0  35   0 866   6  88]
 [ 10   0   0   1   1   1   0   1 985   1]
 [  3   0   0   0   0   5   0  16   1 975]]
2025-08-25 08:31:15,035 - INFO - Starting Round 60/100 with algorithm fedentropy and model cnn
2025-08-25 08:31:15,035 - INFO - Selected clients for Round 60: [11, 17, 29, 15, 4]
2025-08-25 08:31:17,647 - INFO - Client 11 Train Loss: 0.1455
2025-08-25 08:31:20,617 - INFO - Client 17 Train Loss: 0.1011
2025-08-25 08:31:21,763 - INFO - Client 29 Train Loss: 0.2063
2025-08-25 08:31:22,342 - INFO - Client 15 Train Loss: 0.2288
2025-08-25 08:31:25,364 - INFO - Client 4 Train Loss: 0.1440
2025-08-25 08:31:25,364 - INFO - Global Average Train Loss: 0.1651
2025-08-25 08:31:26,136 - INFO - FedEntropy weights: [0.19646176 0.17723659 0.20710627 0.21728843 0.20190695]
2025-08-25 08:31:26,176 - INFO - Aggregated using FedEntropy
2025-08-25 08:31:30,288 - INFO - Global Model Validation Loss: 0.3426, Top1_Accuracy: 87.15%, Top5_Accuracy: 99.84%
2025-08-25 08:31:30,288 - INFO - Precision: 0.8798, Recall: 0.8715, F1-Score: 0.8715
2025-08-25 08:31:30,290 - INFO - Confusion Matrix:
[[769   1  24  17   2   3 174   0   9   1]
 [  0 981   0  13   3   0   1   0   2   0]
 [  7   1 879   7  40   0  65   0   1   0]
 [ 12   5  16 891  35   0  37   0   4   0]
 [  0   1 130  16 705   0 147   0   1   0]
 [  0   0   0   0   0 964   0   9   5  22]
 [ 66   2  66  22  41   0 788   0  15   0]
 [  0   0   0   0   0  86   0 759   6 149]
 [  0   1   0   2   1   2   2   0 990   2]
 [  0   0   0   0   0   3   1   7   0 989]]
2025-08-25 08:31:30,291 - INFO - Starting Round 61/100 with algorithm fedentropy and model cnn
2025-08-25 08:31:30,291 - INFO - Selected clients for Round 61: [28, 35, 6, 3, 41]
2025-08-25 08:31:32,234 - INFO - Client 28 Train Loss: 0.0849
2025-08-25 08:31:33,301 - INFO - Client 35 Train Loss: 0.1600
2025-08-25 08:31:33,998 - INFO - Client 6 Train Loss: 0.1332
2025-08-25 08:31:36,732 - INFO - Client 3 Train Loss: 0.0996
2025-08-25 08:31:38,978 - INFO - Client 41 Train Loss: 0.1636
2025-08-25 08:31:38,978 - INFO - Global Average Train Loss: 0.1283
2025-08-25 08:31:39,867 - INFO - FedEntropy weights: [0.19922904 0.19788922 0.2033239  0.20243727 0.19712057]
2025-08-25 08:31:39,904 - INFO - Aggregated using FedEntropy
2025-08-25 08:31:44,353 - INFO - Global Model Validation Loss: 0.4976, Top1_Accuracy: 82.82%, Top5_Accuracy: 99.81%
2025-08-25 08:31:44,353 - INFO - Precision: 0.8646, Recall: 0.8282, F1-Score: 0.8060
2025-08-25 08:31:44,354 - INFO - Confusion Matrix:
[[926   1  14  17  22   3  12   2   3   0]
 [  0 979   0  12   8   0   0   0   1   0]
 [ 21   1 638   7 329   0   4   0   0   0]
 [ 29   7   6 877  76   0   5   0   0   0]
 [  2   0   8  10 979   0   0   0   1   0]
 [  0   0   0   0   0 949   0  45   0   6]
 [292   0  50  28 533   1  89   0   7   0]
 [  0   0   0   0   0  13   0 978   0   9]
 [  3   1   2   4  16   5   0   5 964   0]
 [  0   0   0   0   0  13   0  84   0 903]]
2025-08-25 08:31:44,354 - INFO - Starting Round 62/100 with algorithm fedentropy and model cnn
2025-08-25 08:31:44,355 - INFO - Selected clients for Round 62: [34, 0, 5, 48, 15]
2025-08-25 08:31:46,158 - INFO - Client 34 Train Loss: 0.0254
2025-08-25 08:31:49,317 - INFO - Client 0 Train Loss: 0.0905
2025-08-25 08:31:50,132 - INFO - Client 5 Train Loss: 0.1080
2025-08-25 08:31:52,393 - INFO - Client 48 Train Loss: 0.0416
2025-08-25 08:31:52,932 - INFO - Client 15 Train Loss: 0.1785
2025-08-25 08:31:52,932 - INFO - Global Average Train Loss: 0.0888
2025-08-25 08:31:53,646 - INFO - FedEntropy weights: [0.20309993 0.18031926 0.1796685  0.21279991 0.22411241]
2025-08-25 08:31:53,680 - INFO - Aggregated using FedEntropy
2025-08-25 08:31:57,583 - INFO - Global Model Validation Loss: 0.4540, Top1_Accuracy: 83.73%, Top5_Accuracy: 99.83%
2025-08-25 08:31:57,584 - INFO - Precision: 0.8610, Recall: 0.8373, F1-Score: 0.8299
2025-08-25 08:31:57,584 - INFO - Confusion Matrix:
[[803   0  11 104  14   4  59   0   4   1]
 [  0 957   0  34   7   0   0   0   2   0]
 [ 15   1 637  22 305   1  19   0   0   0]
 [  2   1   4 967  24   0   2   0   0   0]
 [  1   0   9  32 955   0   2   0   1   0]
 [  0   0   0   4   0 977   0   6   0  13]
 [128   0  44 100 367   1 351   0   9   0]
 [  0   0   0   0   0 132   0 776   0  92]
 [  1   0   0  10   9   6   0   1 971   2]
 [  0   0   0   1   0   7   0  13   0 979]]
2025-08-25 08:31:57,585 - INFO - Starting Round 63/100 with algorithm fedentropy and model cnn
2025-08-25 08:31:57,585 - INFO - Selected clients for Round 63: [10, 26, 31, 30, 13]
2025-08-25 08:31:58,986 - INFO - Client 10 Train Loss: 0.2122
2025-08-25 08:31:59,754 - INFO - Client 26 Train Loss: 0.0250
2025-08-25 08:32:04,395 - INFO - Client 31 Train Loss: 0.0482
2025-08-25 08:32:06,396 - INFO - Client 30 Train Loss: 0.0145
2025-08-25 08:32:09,460 - INFO - Client 13 Train Loss: 0.0251
2025-08-25 08:32:09,460 - INFO - Global Average Train Loss: 0.0650
2025-08-25 08:32:10,204 - INFO - FedEntropy weights: [0.20986978 0.22985047 0.16100895 0.21605247 0.18321833]
2025-08-25 08:32:10,240 - INFO - Aggregated using FedEntropy
2025-08-25 08:32:14,456 - INFO - Global Model Validation Loss: 0.5229, Top1_Accuracy: 81.06%, Top5_Accuracy: 99.80%
2025-08-25 08:32:14,457 - INFO - Precision: 0.8443, Recall: 0.8106, F1-Score: 0.8000
2025-08-25 08:32:14,457 - INFO - Confusion Matrix:
[[843   0  14  88   0   9  42   0   4   0]
 [  1 978   0  19   0   0   0   0   2   0]
 [ 17   1 916  24  17   2  23   0   0   0]
 [  9   1   6 979   0   0   4   0   1   0]
 [  2   3 251 136 524   4  78   0   2   0]
 [  0   0   0   0   0 998   0   0   0   2]
 [152   0 121  97  42   2 577   0   9   0]
 [  0   0   0   0   0 544   0 393   0  63]
 [  3   1   2   9   0  24   1   0 960   0]
 [  0   0   0   1   0  55   0   6   0 938]]
2025-08-25 08:32:14,457 - INFO - Starting Round 64/100 with algorithm fedentropy and model cnn
2025-08-25 08:32:14,458 - INFO - Selected clients for Round 64: [25, 3, 10, 24, 0]
2025-08-25 08:32:18,428 - INFO - Client 25 Train Loss: 0.1383
2025-08-25 08:32:21,639 - INFO - Client 3 Train Loss: 0.1228
2025-08-25 08:32:23,101 - INFO - Client 10 Train Loss: 0.1510
2025-08-25 08:32:24,379 - INFO - Client 24 Train Loss: 0.1031
2025-08-25 08:32:27,826 - INFO - Client 0 Train Loss: 0.0964
2025-08-25 08:32:27,826 - INFO - Global Average Train Loss: 0.1223
2025-08-25 08:32:28,616 - INFO - FedEntropy weights: [0.17614167 0.18525807 0.21712913 0.21985304 0.20161808]
2025-08-25 08:32:28,654 - INFO - Aggregated using FedEntropy
2025-08-25 08:32:33,917 - INFO - Global Model Validation Loss: 0.3927, Top1_Accuracy: 85.71%, Top5_Accuracy: 99.82%
2025-08-25 08:32:33,917 - INFO - Precision: 0.8704, Recall: 0.8571, F1-Score: 0.8576
2025-08-25 08:32:33,918 - INFO - Confusion Matrix:
[[826   2  34   8   5   1 120   2   2   0]
 [  0 990   0   5   3   0   1   0   1   0]
 [ 10   1 899   4  58   0  28   0   0   0]
 [ 17  26  23 837  54   0  43   0   0   0]
 [  0   1 124  11 826   0  37   0   1   0]
 [  0   0   0   0   0 729   0 259   0  12]
 [111   2 104  19 108   0 652   0   4   0]
 [  0   0   0   0   0   0   0 995   0   5]
 [  1   1  12   4   7   2   7   7 959   0]
 [  0   0   1   0   0   3   0 138   0 858]]
2025-08-25 08:32:33,918 - INFO - Starting Round 65/100 with algorithm fedentropy and model cnn
2025-08-25 08:32:33,918 - INFO - Selected clients for Round 65: [24, 16, 29, 18, 27]
2025-08-25 08:32:35,084 - INFO - Client 24 Train Loss: 0.0830
2025-08-25 08:32:36,970 - INFO - Client 16 Train Loss: 0.0776
2025-08-25 08:32:38,080 - INFO - Client 29 Train Loss: 0.1713
2025-08-25 08:32:40,226 - INFO - Client 18 Train Loss: 0.0929
2025-08-25 08:32:42,741 - INFO - Client 27 Train Loss: 0.1101
2025-08-25 08:32:42,741 - INFO - Global Average Train Loss: 0.1070
2025-08-25 08:32:43,516 - INFO - FedEntropy weights: [0.21205866 0.20372753 0.20931725 0.19507265 0.17982392]
2025-08-25 08:32:43,556 - INFO - Aggregated using FedEntropy
2025-08-25 08:32:47,845 - INFO - Global Model Validation Loss: 0.4678, Top1_Accuracy: 83.46%, Top5_Accuracy: 99.71%
2025-08-25 08:32:47,845 - INFO - Precision: 0.8666, Recall: 0.8346, F1-Score: 0.8173
2025-08-25 08:32:47,846 - INFO - Confusion Matrix:
[[918   3  52  15   3   4   3   0   1   1]
 [  0 994   0   3   1   0   0   0   1   1]
 [ 12   1 965   9  13   0   0   0   0   0]
 [ 30  20  30 901  16   0   1   0   1   1]
 [  2   1 350  36 605   0   4   0   2   0]
 [  0   0   0   0   0 962   0  23   0  15]
 [313   2 308  25 148   1 196   0   7   0]
 [  0   0   0   0   0  41   0 854   0 105]
 [  4   1  10   2   3   7   0   2 969   2]
 [  0   0   1   0   0   5   0  12   0 982]]
2025-08-25 08:32:47,847 - INFO - Starting Round 66/100 with algorithm fedentropy and model cnn
2025-08-25 08:32:47,847 - INFO - Selected clients for Round 66: [44, 46, 35, 42, 45]
2025-08-25 08:32:50,916 - INFO - Client 44 Train Loss: 0.0757
2025-08-25 08:32:53,532 - INFO - Client 46 Train Loss: 0.0823
2025-08-25 08:32:54,663 - INFO - Client 35 Train Loss: 0.1902
2025-08-25 08:32:57,091 - INFO - Client 42 Train Loss: 0.0625
2025-08-25 08:32:58,255 - INFO - Client 45 Train Loss: 0.0931
2025-08-25 08:32:58,255 - INFO - Global Average Train Loss: 0.1007
2025-08-25 08:32:59,011 - INFO - FedEntropy weights: [0.19811258 0.20550226 0.2059813  0.18263505 0.20776881]
2025-08-25 08:32:59,063 - INFO - Aggregated using FedEntropy
2025-08-25 08:33:03,272 - INFO - Global Model Validation Loss: 0.4020, Top1_Accuracy: 84.53%, Top5_Accuracy: 99.77%
2025-08-25 08:33:03,272 - INFO - Precision: 0.8745, Recall: 0.8453, F1-Score: 0.8422
2025-08-25 08:33:03,273 - INFO - Confusion Matrix:
[[589   0   4  78   5   4 306   1  12   1]
 [  0 969   0  24   4   0   1   0   2   0]
 [  5   1 446  25 247   0 274   0   2   0]
 [  1   1   1 966   7   0  23   0   1   0]
 [  0   1   3  64 849   1  81   0   1   0]
 [  0   0   0   0   0 944   0  41   0  15]
 [ 38   0   5  54  94   0 796   0  13   0]
 [  0   0   0   0   0  12   0 946   0  42]
 [  0   1   0   5   2   3   1   3 984   1]
 [  0   0   0   0   0   3   1  32   0 964]]
2025-08-25 08:33:03,274 - INFO - Starting Round 67/100 with algorithm fedentropy and model cnn
2025-08-25 08:33:03,274 - INFO - Selected clients for Round 67: [31, 9, 12, 18, 13]
2025-08-25 08:33:08,079 - INFO - Client 31 Train Loss: 0.0519
2025-08-25 08:33:10,431 - INFO - Client 9 Train Loss: 0.0385
2025-08-25 08:33:12,473 - INFO - Client 12 Train Loss: 0.0249
2025-08-25 08:33:14,144 - INFO - Client 18 Train Loss: 0.0745
2025-08-25 08:33:17,099 - INFO - Client 13 Train Loss: 0.0195
2025-08-25 08:33:17,099 - INFO - Global Average Train Loss: 0.0419
2025-08-25 08:33:17,829 - INFO - FedEntropy weights: [0.18663454 0.20720939 0.19550737 0.21114402 0.19950468]
2025-08-25 08:33:17,864 - INFO - Aggregated using FedEntropy
2025-08-25 08:33:21,736 - INFO - Global Model Validation Loss: 0.6205, Top1_Accuracy: 82.61%, Top5_Accuracy: 99.57%
2025-08-25 08:33:21,736 - INFO - Precision: 0.8616, Recall: 0.8261, F1-Score: 0.8132
2025-08-25 08:33:21,737 - INFO - Confusion Matrix:
[[985   0   5   6   0   1   0   0   3   0]
 [ 13 974   0  11   0   0   0   0   2   0]
 [ 97   2 861  14  25   0   0   0   1   0]
 [152   3   5 838   1   0   0   0   1   0]
 [ 37   3 243 103 602   0  10   0   2   0]
 [  2   0   0   0   0 963   0  19   0  16]
 [461   2 152  19 100   0 248   0  18   0]
 [  0   0   0   0   0  52   0 823   0 125]
 [ 12   1   0   2   0   2   0   1 980   2]
 [  0   0   0   0   0   5   0   8   0 987]]
2025-08-25 08:33:21,737 - INFO - Starting Round 68/100 with algorithm fedentropy and model cnn
2025-08-25 08:33:21,737 - INFO - Selected clients for Round 68: [3, 37, 47, 34, 20]
2025-08-25 08:33:24,616 - INFO - Client 3 Train Loss: 0.0921
2025-08-25 08:33:27,219 - INFO - Client 37 Train Loss: 0.0155
2025-08-25 08:33:29,627 - INFO - Client 47 Train Loss: 0.3620
2025-08-25 08:33:31,299 - INFO - Client 34 Train Loss: 0.0294
2025-08-25 08:33:33,656 - INFO - Client 20 Train Loss: 0.1974
2025-08-25 08:33:33,657 - INFO - Global Average Train Loss: 0.1393
2025-08-25 08:33:34,400 - INFO - FedEntropy weights: [0.21897771 0.21168886 0.17265853 0.21810029 0.17857461]
2025-08-25 08:33:34,433 - INFO - Aggregated using FedEntropy
2025-08-25 08:33:38,288 - INFO - Global Model Validation Loss: 0.3930, Top1_Accuracy: 85.71%, Top5_Accuracy: 99.83%
2025-08-25 08:33:38,288 - INFO - Precision: 0.8724, Recall: 0.8571, F1-Score: 0.8542
2025-08-25 08:33:38,289 - INFO - Confusion Matrix:
[[939   3   9   6   4   1  34   2   2   0]
 [  0 995   0   1   2   0   0   0   2   0]
 [ 19   1 828   5 106   0  41   0   0   0]
 [ 63  41  12 786  65   0  32   1   0   0]
 [  2   2  56   8 910   0  21   0   1   0]
 [  0   0   0   0   0 891   0 105   0   4]
 [248   3  62   8 175   0 497   0   7   0]
 [  0   0   0   0   0   2   0 997   0   1]
 [  9   1   3   0   4   3   1  10 969   0]
 [  1   0   0   0   0   5   0 235   0 759]]
2025-08-25 08:33:38,289 - INFO - Starting Round 69/100 with algorithm fedentropy and model cnn
2025-08-25 08:33:38,289 - INFO - Selected clients for Round 69: [3, 37, 30, 32, 33]
2025-08-25 08:33:41,071 - INFO - Client 3 Train Loss: 0.0676
2025-08-25 08:33:43,427 - INFO - Client 37 Train Loss: 0.0132
2025-08-25 08:33:45,470 - INFO - Client 30 Train Loss: 0.0199
2025-08-25 08:33:45,945 - INFO - Client 32 Train Loss: 0.2203
2025-08-25 08:33:48,016 - INFO - Client 33 Train Loss: 0.0748
2025-08-25 08:33:48,016 - INFO - Global Average Train Loss: 0.0792
2025-08-25 08:33:48,731 - INFO - FedEntropy weights: [0.19027259 0.20261756 0.19204209 0.21468775 0.20038001]
2025-08-25 08:33:48,769 - INFO - Aggregated using FedEntropy
2025-08-25 08:33:52,691 - INFO - Global Model Validation Loss: 0.6130, Top1_Accuracy: 81.83%, Top5_Accuracy: 99.72%
2025-08-25 08:33:52,691 - INFO - Precision: 0.8676, Recall: 0.8183, F1-Score: 0.7901
2025-08-25 08:33:52,692 - INFO - Confusion Matrix:
[[980   2   6   4   5   2   0   0   1   0]
 [  2 996   0   1   1   0   0   0   0   0]
 [ 50   1 863   3  83   0   0   0   0   0]
 [149  70  17 697  67   0   0   0   0   0]
 [  9   3  84   4 899   0   0   0   1   0]
 [  1   0   0   0   0 960   0  37   0   2]
 [432   3 132   7 364   0  62   0   0   0]
 [  0   0   0   0   0  21   0 976   0   3]
 [ 69   4   2   1   7   6   0   4 907   0]
 [  1   0   0   0   0  20   0 136   0 843]]
2025-08-25 08:33:52,693 - INFO - Starting Round 70/100 with algorithm fedentropy and model cnn
2025-08-25 08:33:52,693 - INFO - Selected clients for Round 70: [10, 3, 32, 5, 11]
2025-08-25 08:33:54,188 - INFO - Client 10 Train Loss: 0.2977
2025-08-25 08:33:57,184 - INFO - Client 3 Train Loss: 0.0533
2025-08-25 08:33:57,619 - INFO - Client 32 Train Loss: 0.1595
2025-08-25 08:33:58,431 - INFO - Client 5 Train Loss: 0.1282
2025-08-25 08:34:00,827 - INFO - Client 11 Train Loss: 0.1544
2025-08-25 08:34:00,827 - INFO - Global Average Train Loss: 0.1586
2025-08-25 08:34:01,549 - INFO - FedEntropy weights: [0.17434802 0.1944531  0.22788074 0.20792912 0.19538902]
2025-08-25 08:34:01,587 - INFO - Aggregated using FedEntropy
2025-08-25 08:34:05,581 - INFO - Global Model Validation Loss: 0.4266, Top1_Accuracy: 84.51%, Top5_Accuracy: 99.84%
2025-08-25 08:34:05,582 - INFO - Precision: 0.8609, Recall: 0.8451, F1-Score: 0.8417
2025-08-25 08:34:05,582 - INFO - Confusion Matrix:
[[881   0  26  29   1   1  58   1   2   1]
 [  1 963   0  31   2   0   1   0   2   0]
 [ 15   0 934  12  16   0  23   0   0   0]
 [ 21   1  13 945   3   0  15   0   1   1]
 [  1   1 289  74 540   0  92   0   3   0]
 [  0   0   0   4   0 819   0  75   1 101]
 [163   0 134  41  34   0 618   0  10   0]
 [  0   0   0   0   0   2   0 780   1 217]
 [  4   0   6   7   0   1   1   1 975   5]
 [  0   0   1   0   0   0   0   3   0 996]]
2025-08-25 08:34:05,582 - INFO - Starting Round 71/100 with algorithm fedentropy and model cnn
2025-08-25 08:34:05,582 - INFO - Selected clients for Round 71: [4, 38, 43, 15, 25]
2025-08-25 08:34:07,754 - INFO - Client 4 Train Loss: 0.1247
2025-08-25 08:34:09,320 - INFO - Client 38 Train Loss: 0.0853
2025-08-25 08:34:11,047 - INFO - Client 43 Train Loss: 0.0661
2025-08-25 08:34:11,571 - INFO - Client 15 Train Loss: 0.2277
2025-08-25 08:34:14,935 - INFO - Client 25 Train Loss: 0.0856
2025-08-25 08:34:14,935 - INFO - Global Average Train Loss: 0.1179
2025-08-25 08:34:15,655 - INFO - FedEntropy weights: [0.20302383 0.20179675 0.2021771  0.20323832 0.18976399]
2025-08-25 08:34:15,691 - INFO - Aggregated using FedEntropy
2025-08-25 08:34:19,719 - INFO - Global Model Validation Loss: 0.4267, Top1_Accuracy: 83.70%, Top5_Accuracy: 99.88%
2025-08-25 08:34:19,719 - INFO - Precision: 0.8854, Recall: 0.8370, F1-Score: 0.8411
2025-08-25 08:34:19,720 - INFO - Confusion Matrix:
[[543   1   4   8   3   4 432   1   4   0]
 [  0 980   0   9   6   0   3   0   2   0]
 [  3   1 516   4 196   0 280   0   0   0]
 [  8  11   2 822  49   0 108   0   0   0]
 [  0   1   4   8 797   1 188   0   1   0]
 [  0   0   0   0   0 978   0  18   0   4]
 [ 19   0   9  13  47   0 908   0   4   0]
 [  0   0   0   0   0  51   0 936   0  13]
 [  1   1   0   2   3   8  19   3 963   0]
 [  0   0   0   0   0  15   0  58   0 927]]
2025-08-25 08:34:19,720 - INFO - Starting Round 72/100 with algorithm fedentropy and model cnn
2025-08-25 08:34:19,720 - INFO - Selected clients for Round 72: [7, 36, 15, 37, 38]
2025-08-25 08:34:23,002 - INFO - Client 7 Train Loss: 0.1038
2025-08-25 08:34:28,072 - INFO - Client 36 Train Loss: 0.0725
2025-08-25 08:34:28,625 - INFO - Client 15 Train Loss: 0.1891
2025-08-25 08:34:31,263 - INFO - Client 37 Train Loss: 0.0275
2025-08-25 08:34:33,088 - INFO - Client 38 Train Loss: 0.0784
2025-08-25 08:34:33,088 - INFO - Global Average Train Loss: 0.0943
2025-08-25 08:34:33,844 - INFO - FedEntropy weights: [0.18451167 0.171078   0.21656561 0.21160695 0.21623777]
2025-08-25 08:34:33,880 - INFO - Aggregated using FedEntropy
2025-08-25 08:34:37,804 - INFO - Global Model Validation Loss: 0.5375, Top1_Accuracy: 83.00%, Top5_Accuracy: 99.66%
2025-08-25 08:34:37,804 - INFO - Precision: 0.8662, Recall: 0.8300, F1-Score: 0.8125
2025-08-25 08:34:37,805 - INFO - Confusion Matrix:
[[975   4   7   8   1   1   0   3   1   0]
 [  0 998   0   1   0   0   0   0   1   0]
 [ 39   1 941   7  12   0   0   0   0   0]
 [ 69  40  17 844  27   0   1   1   0   1]
 [ 11   4 351  26 599   0   8   0   1   0]
 [  0   0   0   0   0 930   0  63   0   7]
 [425   6 251  14 110   0 191   0   3   0]
 [  0   0   0   0   0   7   0 986   0   7]
 [ 23   4   3   3   0   6   0  13 948   0]
 [  0   0   0   0   0   7   0 105   0 888]]
2025-08-25 08:34:37,805 - INFO - Starting Round 73/100 with algorithm fedentropy and model cnn
2025-08-25 08:34:37,805 - INFO - Selected clients for Round 73: [2, 39, 5, 26, 42]
2025-08-25 08:34:38,951 - INFO - Client 2 Train Loss: 0.2741
2025-08-25 08:34:41,531 - INFO - Client 39 Train Loss: 0.1368
2025-08-25 08:34:42,321 - INFO - Client 5 Train Loss: 0.1059
2025-08-25 08:34:43,150 - INFO - Client 26 Train Loss: 0.0503
2025-08-25 08:34:45,433 - INFO - Client 42 Train Loss: 0.0688
2025-08-25 08:34:45,433 - INFO - Global Average Train Loss: 0.1272
2025-08-25 08:34:46,168 - INFO - FedEntropy weights: [0.17805487 0.18833677 0.21939177 0.2036582  0.21055839]
2025-08-25 08:34:46,214 - INFO - Aggregated using FedEntropy
2025-08-25 08:34:50,095 - INFO - Global Model Validation Loss: 0.5648, Top1_Accuracy: 76.87%, Top5_Accuracy: 99.81%
2025-08-25 08:34:50,095 - INFO - Precision: 0.8739, Recall: 0.7687, F1-Score: 0.7545
2025-08-25 08:34:50,095 - INFO - Confusion Matrix:
[[480   0   0  51   0   2 463   1   2   1]
 [  0 972   0  21   2   0   4   0   0   1]
 [  1   1  63  18 143   0 774   0   0   0]
 [  2   1   0 927   9   0  61   0   0   0]
 [  0   0   0  47 490   1 461   0   0   1]
 [  0   0   0   0   0 956   0  22   0  22]
 [ 10   1   0  27   9   0 949   0   4   0]
 [  0   0   0   0   0  15   0 912   0  73]
 [  0   1   0   8   1   5  20   2 957   6]
 [  0   0   0   0   0   3   1  15   0 981]]
2025-08-25 08:34:50,096 - INFO - Starting Round 74/100 with algorithm fedentropy and model cnn
2025-08-25 08:34:50,096 - INFO - Selected clients for Round 74: [37, 36, 33, 20, 16]
2025-08-25 08:34:52,447 - INFO - Client 37 Train Loss: 0.0237
2025-08-25 08:34:57,490 - INFO - Client 36 Train Loss: 0.0627
2025-08-25 08:34:59,626 - INFO - Client 33 Train Loss: 0.1026
2025-08-25 08:35:01,941 - INFO - Client 20 Train Loss: 0.1566
2025-08-25 08:35:03,747 - INFO - Client 16 Train Loss: 0.1183
2025-08-25 08:35:03,747 - INFO - Global Average Train Loss: 0.0928
2025-08-25 08:35:04,494 - INFO - FedEntropy weights: [0.21167666 0.18225378 0.21152786 0.19713076 0.19741094]
2025-08-25 08:35:04,527 - INFO - Aggregated using FedEntropy
2025-08-25 08:35:08,538 - INFO - Global Model Validation Loss: 0.6364, Top1_Accuracy: 78.22%, Top5_Accuracy: 99.58%
2025-08-25 08:35:08,538 - INFO - Precision: 0.8471, Recall: 0.7822, F1-Score: 0.7503
2025-08-25 08:35:08,539 - INFO - Confusion Matrix:
[[908   7  72   4   3   2   0   3   1   0]
 [  0 998   0   1   0   0   0   0   0   1]
 [  8   1 983   2   5   0   0   1   0   0]
 [ 54  93  72 730  49   0   0   1   0   1]
 [  4   3 429   4 560   0   0   0   0   0]
 [  0   0   1   0   0 865   0 123   0  11]
 [320   7 471   9 179   0   8   0   6   0]
 [  0   0   0   0   0   0   0 997   0   3]
 [  5   2  14   0   2   5   0  28 943   1]
 [  0   0   1   0   0   2   0 167   0 830]]
2025-08-25 08:35:08,539 - INFO - Starting Round 75/100 with algorithm fedentropy and model cnn
2025-08-25 08:35:08,539 - INFO - Selected clients for Round 75: [13, 42, 45, 20, 15]
2025-08-25 08:35:11,562 - INFO - Client 13 Train Loss: 0.0498
2025-08-25 08:35:13,835 - INFO - Client 42 Train Loss: 0.0691
2025-08-25 08:35:14,961 - INFO - Client 45 Train Loss: 0.1812
2025-08-25 08:35:17,218 - INFO - Client 20 Train Loss: 0.1677
2025-08-25 08:35:17,747 - INFO - Client 15 Train Loss: 0.3144
2025-08-25 08:35:17,747 - INFO - Global Average Train Loss: 0.1564
2025-08-25 08:35:18,494 - INFO - FedEntropy weights: [0.19368452 0.20491359 0.20344935 0.19210948 0.20584307]
2025-08-25 08:35:18,531 - INFO - Aggregated using FedEntropy
2025-08-25 08:35:22,663 - INFO - Global Model Validation Loss: 0.4569, Top1_Accuracy: 84.81%, Top5_Accuracy: 99.83%
2025-08-25 08:35:22,663 - INFO - Precision: 0.8669, Recall: 0.8481, F1-Score: 0.8495
2025-08-25 08:35:22,664 - INFO - Confusion Matrix:
[[756   0   4 159   0   2  76   2   1   0]
 [  0 955   0  42   1   0   0   0   2   0]
 [  7   1 750  80  72   0  90   0   0   0]
 [  2   1   0 994   0   0   3   0   0   0]
 [  1   1  52 162 697   1  86   0   0   0]
 [  0   0   0   7   0 870   0 110   0  13]
 [116   0  38 147  62   0 632   0   5   0]
 [  0   0   0   0   0   0   0 996   0   4]
 [  1   0   0  26   1   4   7  11 950   0]
 [  0   0   0   2   0   2   1 114   0 881]]
2025-08-25 08:35:22,665 - INFO - Starting Round 76/100 with algorithm fedentropy and model cnn
2025-08-25 08:35:22,665 - INFO - Selected clients for Round 76: [16, 25, 8, 42, 41]
2025-08-25 08:35:24,511 - INFO - Client 16 Train Loss: 0.0992
2025-08-25 08:35:27,919 - INFO - Client 25 Train Loss: 0.0761
2025-08-25 08:35:29,314 - INFO - Client 8 Train Loss: 0.1719
2025-08-25 08:35:31,824 - INFO - Client 42 Train Loss: 0.0563
2025-08-25 08:35:33,601 - INFO - Client 41 Train Loss: 0.2000
2025-08-25 08:35:33,603 - INFO - Global Average Train Loss: 0.1207
2025-08-25 08:35:34,335 - INFO - FedEntropy weights: [0.21332333 0.18330598 0.20074959 0.20843555 0.19418555]
2025-08-25 08:35:34,369 - INFO - Aggregated using FedEntropy
2025-08-25 08:35:38,333 - INFO - Global Model Validation Loss: 0.3417, Top1_Accuracy: 86.93%, Top5_Accuracy: 99.83%
2025-08-25 08:35:38,334 - INFO - Precision: 0.8815, Recall: 0.8693, F1-Score: 0.8696
2025-08-25 08:35:38,334 - INFO - Confusion Matrix:
[[679   1  59  33   2   2 215   1   7   1]
 [  0 972   1  20   4   0   1   0   2   0]
 [  4   1 925   9  26   0  35   0   0   0]
 [  5   2  26 907  18   0  39   0   1   2]
 [  0   1 185  29 662   0 122   0   1   0]
 [  0   0   0   0   0 942   0  34   0  24]
 [ 44   1 135  27  40   0 744   0   9   0]
 [  0   0   0   0   0  12   0 908   0  80]
 [  0   1   7   4   0   4   3   3 975   3]
 [  0   0   1   0   0   3   0  17   0 979]]
2025-08-25 08:35:38,334 - INFO - Starting Round 77/100 with algorithm fedentropy and model cnn
2025-08-25 08:35:38,335 - INFO - Selected clients for Round 77: [19, 29, 20, 48, 4]
2025-08-25 08:35:40,412 - INFO - Client 19 Train Loss: 0.0959
2025-08-25 08:35:41,546 - INFO - Client 29 Train Loss: 0.1554
2025-08-25 08:35:43,791 - INFO - Client 20 Train Loss: 0.1167
2025-08-25 08:35:46,014 - INFO - Client 48 Train Loss: 0.0683
2025-08-25 08:35:48,082 - INFO - Client 4 Train Loss: 0.1396
2025-08-25 08:35:48,082 - INFO - Global Average Train Loss: 0.1152
2025-08-25 08:35:48,813 - INFO - FedEntropy weights: [0.20699881 0.21535189 0.20238898 0.17521746 0.20004286]
2025-08-25 08:35:48,847 - INFO - Aggregated using FedEntropy
2025-08-25 08:35:52,910 - INFO - Global Model Validation Loss: 0.3369, Top1_Accuracy: 87.96%, Top5_Accuracy: 99.82%
2025-08-25 08:35:52,910 - INFO - Precision: 0.8876, Recall: 0.8796, F1-Score: 0.8776
2025-08-25 08:35:52,911 - INFO - Confusion Matrix:
[[905   3   7  12   8   2  55   1   6   1]
 [  0 990   0   4   4   0   0   0   2   0]
 [ 16   2 671  10 226   0  74   0   1   0]
 [ 36  18   6 876  39   0  24   0   1   0]
 [  1   1  11  17 940   0  29   0   1   0]
 [  0   0   0   1   0 924   0  60   0  15]
 [197   2  31  21 156   0 583   0  10   0]
 [  0   0   0   0   0   4   0 975   0  21]
 [  1   1   1   2   3   4   4   6 977   1]
 [  0   0   0   0   0   3   1  41   0 955]]
2025-08-25 08:35:52,913 - INFO - Starting Round 78/100 with algorithm fedentropy and model cnn
2025-08-25 08:35:52,913 - INFO - Selected clients for Round 78: [0, 29, 39, 36, 6]
2025-08-25 08:35:55,847 - INFO - Client 0 Train Loss: 0.0822
2025-08-25 08:35:56,969 - INFO - Client 29 Train Loss: 0.1367
2025-08-25 08:35:59,218 - INFO - Client 39 Train Loss: 0.0820
2025-08-25 08:36:04,509 - INFO - Client 36 Train Loss: 0.0594
2025-08-25 08:36:05,235 - INFO - Client 6 Train Loss: 0.1000
2025-08-25 08:36:05,236 - INFO - Global Average Train Loss: 0.0921
2025-08-25 08:36:05,975 - INFO - FedEntropy weights: [0.20688134 0.20303501 0.20832662 0.16542826 0.21632877]
2025-08-25 08:36:06,011 - INFO - Aggregated using FedEntropy
2025-08-25 08:36:10,005 - INFO - Global Model Validation Loss: 0.3266, Top1_Accuracy: 88.16%, Top5_Accuracy: 99.84%
2025-08-25 08:36:10,005 - INFO - Precision: 0.8860, Recall: 0.8816, F1-Score: 0.8822
2025-08-25 08:36:10,006 - INFO - Confusion Matrix:
[[806   1  30  11  12   5 130   1   4   0]
 [  0 983   1   8   5   0   1   0   2   0]
 [  8   1 833   7  95   1  55   0   0   0]
 [ 18   4  14 857  55   0  52   0   0   0]
 [  0   1  52  10 894   0  42   0   1   0]
 [  0   0   0   0   0 992   0   6   0   2]
 [ 89   0  58  18 138   0 691   0   6   0]
 [  0   0   0   0   0  93   0 899   0   8]
 [  1   1   5   3   6  17   6   3 958   0]
 [  0   0   0   0   0  29   0  68   0 903]]
2025-08-25 08:36:10,006 - INFO - Starting Round 79/100 with algorithm fedentropy and model cnn
2025-08-25 08:36:10,007 - INFO - Selected clients for Round 79: [4, 34, 13, 32, 16]
2025-08-25 08:36:12,099 - INFO - Client 4 Train Loss: 0.1231
2025-08-25 08:36:13,758 - INFO - Client 34 Train Loss: 0.0271
2025-08-25 08:36:17,039 - INFO - Client 13 Train Loss: 0.0293
2025-08-25 08:36:17,464 - INFO - Client 32 Train Loss: 0.1676
2025-08-25 08:36:19,352 - INFO - Client 16 Train Loss: 0.0659
2025-08-25 08:36:19,352 - INFO - Global Average Train Loss: 0.0826
2025-08-25 08:36:20,110 - INFO - FedEntropy weights: [0.19995749 0.19895704 0.19391807 0.21071806 0.19644934]
2025-08-25 08:36:20,154 - INFO - Aggregated using FedEntropy
2025-08-25 08:36:24,208 - INFO - Global Model Validation Loss: 0.3725, Top1_Accuracy: 86.91%, Top5_Accuracy: 99.77%
2025-08-25 08:36:24,209 - INFO - Precision: 0.8804, Recall: 0.8691, F1-Score: 0.8609
2025-08-25 08:36:24,209 - INFO - Confusion Matrix:
[[943   2  13  23   2   3   6   0   7   1]
 [  0 983   0  15   0   0   0   0   2   0]
 [ 27   1 916  20  21   1  12   0   2   0]
 [ 33   5   8 951   1   0   0   0   2   0]
 [  3   2 220  92 647   0  32   0   3   1]
 [  0   0   0   1   0 975   0  12   1  11]
 [313   2 134  45  72   2 412   0  20   0]
 [  0   0   0   0   0  38   0 909   0  53]
 [  1   1   0   6   0   2   1   1 986   2]
 [  0   0   0   0   0   6   0  25   0 969]]
2025-08-25 08:36:24,211 - INFO - Starting Round 80/100 with algorithm fedentropy and model cnn
2025-08-25 08:36:24,211 - INFO - Selected clients for Round 80: [8, 22, 4, 15, 23]
2025-08-25 08:36:25,711 - INFO - Client 8 Train Loss: 0.1727
2025-08-25 08:36:26,712 - INFO - Client 22 Train Loss: 0.1392
2025-08-25 08:36:28,834 - INFO - Client 4 Train Loss: 0.0986
2025-08-25 08:36:29,340 - INFO - Client 15 Train Loss: 0.2453
2025-08-25 08:36:30,181 - INFO - Client 23 Train Loss: 0.0211
2025-08-25 08:36:30,182 - INFO - Global Average Train Loss: 0.1354
2025-08-25 08:36:30,882 - INFO - FedEntropy weights: [0.18266991 0.18055387 0.20163566 0.20041808 0.23472248]
2025-08-25 08:36:30,920 - INFO - Aggregated using FedEntropy
2025-08-25 08:36:34,897 - INFO - Global Model Validation Loss: 0.3295, Top1_Accuracy: 87.91%, Top5_Accuracy: 99.82%
2025-08-25 08:36:34,897 - INFO - Precision: 0.8843, Recall: 0.8791, F1-Score: 0.8790
2025-08-25 08:36:34,898 - INFO - Confusion Matrix:
[[794   3  14  14   7   2 153   1  11   1]
 [  0 992   0   3   3   0   0   0   2   0]
 [ 11   1 847   6  83   0  49   0   3   0]
 [ 20  20  11 869  46   0  30   0   2   2]
 [  1   1  62  15 877   0  43   0   1   0]
 [  0   0   0   0   0 927   0  16   7  50]
 [ 82   2  64  21  99   0 717   0  15   0]
 [  0   0   0   0   0  19   0 788   2 191]
 [  0   1   0   2   2   2   4   1 984   4]
 [  0   0   0   0   0   0   0   4   0 996]]
2025-08-25 08:36:34,898 - INFO - Starting Round 81/100 with algorithm fedentropy and model cnn
2025-08-25 08:36:34,898 - INFO - Selected clients for Round 81: [18, 10, 28, 34, 45]
2025-08-25 08:36:36,594 - INFO - Client 18 Train Loss: 0.0602
2025-08-25 08:36:37,901 - INFO - Client 10 Train Loss: 0.1529
2025-08-25 08:36:39,685 - INFO - Client 28 Train Loss: 0.0709
2025-08-25 08:36:41,454 - INFO - Client 34 Train Loss: 0.0205
2025-08-25 08:36:42,565 - INFO - Client 45 Train Loss: 0.0829
2025-08-25 08:36:42,566 - INFO - Global Average Train Loss: 0.0775
2025-08-25 08:36:43,294 - INFO - FedEntropy weights: [0.18983873 0.19049927 0.20303512 0.21783497 0.19879191]
2025-08-25 08:36:43,333 - INFO - Aggregated using FedEntropy
2025-08-25 08:36:47,167 - INFO - Global Model Validation Loss: 0.3119, Top1_Accuracy: 88.89%, Top5_Accuracy: 99.84%
2025-08-25 08:36:47,168 - INFO - Precision: 0.8898, Recall: 0.8889, F1-Score: 0.8876
2025-08-25 08:36:47,168 - INFO - Confusion Matrix:
[[799   0   7  61   3   3 106   0  20   1]
 [  0 973   0  21   3   0   1   0   2   0]
 [ 12   1 800  23  97   0  59   0   8   0]
 [  8   1   4 966   7   0  13   0   1   0]
 [  1   1  31  74 843   0  45   0   5   0]
 [  0   0   0   3   0 966   0  16   2  13]
 [ 99   0  50  55 107   1 661   0  27   0]
 [  0   0   0   0   0  21   0 914   3  62]
 [  0   1   0   4   0   1   1   1 991   1]
 [  0   0   0   0   0   3   0  20   1 976]]
2025-08-25 08:36:47,168 - INFO - Starting Round 82/100 with algorithm fedentropy and model cnn
2025-08-25 08:36:47,169 - INFO - Selected clients for Round 82: [19, 39, 41, 33, 0]
2025-08-25 08:36:49,197 - INFO - Client 19 Train Loss: 0.0832
2025-08-25 08:36:51,522 - INFO - Client 39 Train Loss: 0.0626
2025-08-25 08:36:53,329 - INFO - Client 41 Train Loss: 0.1567
2025-08-25 08:36:55,371 - INFO - Client 33 Train Loss: 0.0963
2025-08-25 08:36:58,457 - INFO - Client 0 Train Loss: 0.0802
2025-08-25 08:36:58,458 - INFO - Global Average Train Loss: 0.0958
2025-08-25 08:36:59,201 - INFO - FedEntropy weights: [0.21523451 0.20237697 0.20014112 0.19483755 0.18740985]
2025-08-25 08:36:59,238 - INFO - Aggregated using FedEntropy
2025-08-25 08:37:03,212 - INFO - Global Model Validation Loss: 0.3284, Top1_Accuracy: 87.82%, Top5_Accuracy: 99.85%
2025-08-25 08:37:03,212 - INFO - Precision: 0.8853, Recall: 0.8782, F1-Score: 0.8732
2025-08-25 08:37:03,213 - INFO - Confusion Matrix:
[[912   0  15  19   9   4  38   0   2   1]
 [  0 981   0  12   4   0   1   0   1   1]
 [ 17   1 846   8 107   0  21   0   0   0]
 [ 29   5  12 899  42   0  13   0   0   0]
 [  1   1  49  18 923   0   7   0   1   0]
 [  0   0   0   1   0 979   0   8   0  12]
 [209   1  83  27 208   1 465   0   6   0]
 [  0   0   0   0   0  80   0 831   0  89]
 [  3   1   4   4  11   7   0   2 966   2]
 [  0   0   0   0   0   7   0  13   0 980]]
2025-08-25 08:37:03,213 - INFO - Starting Round 83/100 with algorithm fedentropy and model cnn
2025-08-25 08:37:03,213 - INFO - Selected clients for Round 83: [42, 35, 19, 6, 8]
2025-08-25 08:37:05,553 - INFO - Client 42 Train Loss: 0.0541
2025-08-25 08:37:06,577 - INFO - Client 35 Train Loss: 0.1572
2025-08-25 08:37:08,637 - INFO - Client 19 Train Loss: 0.0628
2025-08-25 08:37:09,346 - INFO - Client 6 Train Loss: 0.0886
2025-08-25 08:37:10,706 - INFO - Client 8 Train Loss: 0.1190
2025-08-25 08:37:10,707 - INFO - Global Average Train Loss: 0.0964
2025-08-25 08:37:11,423 - INFO - FedEntropy weights: [0.19193012 0.18143583 0.20954865 0.22653729 0.19054812]
2025-08-25 08:37:11,456 - INFO - Aggregated using FedEntropy
2025-08-25 08:37:15,364 - INFO - Global Model Validation Loss: 0.3321, Top1_Accuracy: 88.03%, Top5_Accuracy: 99.80%
2025-08-25 08:37:15,364 - INFO - Precision: 0.8849, Recall: 0.8803, F1-Score: 0.8759
2025-08-25 08:37:15,365 - INFO - Confusion Matrix:
[[816   3  32  73   8   3  58   1   5   1]
 [  0 985   0  12   1   0   0   0   2   0]
 [  9   1 926  18  33   0  13   0   0   0]
 [  4   4   6 977   6   0   3   0   0   0]
 [  1   1 164  72 748   0  13   0   1   0]
 [  0   0   0   3   0 963   0  23   0  11]
 [122   3 145  65 150   1 506   0   8   0]
 [  0   0   0   0   0  17   0 942   0  41]
 [  1   1   2   9   4   4   0   5 972   2]
 [  0   0   0   0   0   4   0  28   0 968]]
2025-08-25 08:37:15,365 - INFO - Starting Round 84/100 with algorithm fedentropy and model cnn
2025-08-25 08:37:15,365 - INFO - Selected clients for Round 84: [16, 7, 6, 47, 35]
2025-08-25 08:37:17,246 - INFO - Client 16 Train Loss: 0.0477
2025-08-25 08:37:20,273 - INFO - Client 7 Train Loss: 0.0845
2025-08-25 08:37:20,963 - INFO - Client 6 Train Loss: 0.1129
2025-08-25 08:37:23,287 - INFO - Client 47 Train Loss: 0.3253
2025-08-25 08:37:24,378 - INFO - Client 35 Train Loss: 0.1096
2025-08-25 08:37:24,378 - INFO - Global Average Train Loss: 0.1360
2025-08-25 08:37:25,130 - INFO - FedEntropy weights: [0.20681649 0.19368192 0.21154518 0.19013508 0.19782132]
2025-08-25 08:37:25,171 - INFO - Aggregated using FedEntropy
2025-08-25 08:37:29,030 - INFO - Global Model Validation Loss: 0.3320, Top1_Accuracy: 88.10%, Top5_Accuracy: 99.78%
2025-08-25 08:37:29,030 - INFO - Precision: 0.8858, Recall: 0.8810, F1-Score: 0.8794
2025-08-25 08:37:29,031 - INFO - Confusion Matrix:
[[754   3  50  34  13   3 138   1   3   1]
 [  0 984   1  11   3   0   1   0   0   0]
 [  7   1 919   7  50   0  16   0   0   0]
 [  3   6  25 901  48   0  17   0   0   0]
 [  0   0 133   8 849   0   9   0   1   0]
 [  0   0   0   0   0 969   0  24   0   7]
 [ 67   2 154  32 181   0 559   0   5   0]
 [  0   0   0   0   0  15   0 965   0  20]
 [  0   1  10   4  10   8   1   7 958   1]
 [  0   0   1   0   0   7   0  40   0 952]]
2025-08-25 08:37:29,031 - INFO - Starting Round 85/100 with algorithm fedentropy and model cnn
2025-08-25 08:37:29,031 - INFO - Selected clients for Round 85: [9, 17, 18, 38, 13]
2025-08-25 08:37:31,247 - INFO - Client 9 Train Loss: 0.0440
2025-08-25 08:37:34,259 - INFO - Client 17 Train Loss: 0.1038
2025-08-25 08:37:35,927 - INFO - Client 18 Train Loss: 0.0572
2025-08-25 08:37:37,478 - INFO - Client 38 Train Loss: 0.0634
2025-08-25 08:37:40,521 - INFO - Client 13 Train Loss: 0.0262
2025-08-25 08:37:40,522 - INFO - Global Average Train Loss: 0.0589
2025-08-25 08:37:41,245 - INFO - FedEntropy weights: [0.20612542 0.20431476 0.20465449 0.2090481  0.17585723]
2025-08-25 08:37:41,277 - INFO - Aggregated using FedEntropy
2025-08-25 08:37:45,186 - INFO - Global Model Validation Loss: 0.3349, Top1_Accuracy: 87.96%, Top5_Accuracy: 99.73%
2025-08-25 08:37:45,186 - INFO - Precision: 0.8827, Recall: 0.8796, F1-Score: 0.8742
2025-08-25 08:37:45,187 - INFO - Confusion Matrix:
[[875   1  14  47   2   2  38   0  19   2]
 [  0 982   0  15   1   0   0   0   2   0]
 [ 17   1 873  23  57   0  22   0   7   0]
 [ 11   4   5 970   4   0   4   0   2   0]
 [  1   1  90  85 802   0  10   0  10   1]
 [  0   0   0   1   0 964   0  16   2  17]
 [174   2  79  68 151   0 492   0  34   0]
 [  0   0   0   0   0  23   0 861   1 115]
 [  0   1   0   4   0   1   0   1 991   2]
 [  0   0   0   0   0   3   0  11   0 986]]
2025-08-25 08:37:45,187 - INFO - Starting Round 86/100 with algorithm fedentropy and model cnn
2025-08-25 08:37:45,187 - INFO - Selected clients for Round 86: [45, 21, 13, 43, 40]
2025-08-25 08:37:46,447 - INFO - Client 45 Train Loss: 0.0551
2025-08-25 08:37:50,844 - INFO - Client 21 Train Loss: 0.3159
2025-08-25 08:37:53,857 - INFO - Client 13 Train Loss: 0.0145
2025-08-25 08:37:55,553 - INFO - Client 43 Train Loss: 0.0616
2025-08-25 08:37:57,351 - INFO - Client 40 Train Loss: 0.1308
2025-08-25 08:37:57,351 - INFO - Global Average Train Loss: 0.1156
2025-08-25 08:37:58,094 - INFO - FedEntropy weights: [0.22397674 0.1561409  0.19357986 0.21774618 0.20855632]
2025-08-25 08:37:58,128 - INFO - Aggregated using FedEntropy
2025-08-25 08:38:02,047 - INFO - Global Model Validation Loss: 0.5518, Top1_Accuracy: 81.46%, Top5_Accuracy: 99.82%
2025-08-25 08:38:02,047 - INFO - Precision: 0.8708, Recall: 0.8146, F1-Score: 0.8031
2025-08-25 08:38:02,048 - INFO - Confusion Matrix:
[[581   0   6  93   0   2 313   0   4   1]
 [  0 955   0  41   0   0   2   0   2   0]
 [  4   0 742  35   6   0 213   0   0   0]
 [  1   1   1 980   0   0  17   0   0   0]
 [  0   0 152 185 192   0 471   0   0   0]
 [  0   0   0   7   0 967   0  15   0  11]
 [ 23   0  20  69   2   0 882   0   4   0]
 [  0   0   0   0   0  30   0 911   0  59]
 [  0   0   0  14   0   3  15   2 964   2]
 [  0   0   0   2   0   3   1  22   0 972]]
2025-08-25 08:38:02,048 - INFO - Starting Round 87/100 with algorithm fedentropy and model cnn
2025-08-25 08:38:02,048 - INFO - Selected clients for Round 87: [16, 32, 31, 3, 5]
2025-08-25 08:38:03,907 - INFO - Client 16 Train Loss: 0.0851
2025-08-25 08:38:04,343 - INFO - Client 32 Train Loss: 0.2939
2025-08-25 08:38:08,780 - INFO - Client 31 Train Loss: 0.0473
2025-08-25 08:38:11,529 - INFO - Client 3 Train Loss: 0.1216
2025-08-25 08:38:12,330 - INFO - Client 5 Train Loss: 0.1194
2025-08-25 08:38:12,330 - INFO - Global Average Train Loss: 0.1335
2025-08-25 08:38:13,043 - INFO - FedEntropy weights: [0.19851077 0.1941588  0.18834008 0.20124407 0.21774628]
2025-08-25 08:38:13,082 - INFO - Aggregated using FedEntropy
2025-08-25 08:38:16,980 - INFO - Global Model Validation Loss: 0.5922, Top1_Accuracy: 81.68%, Top5_Accuracy: 99.65%
2025-08-25 08:38:16,980 - INFO - Precision: 0.8673, Recall: 0.8168, F1-Score: 0.7960
2025-08-25 08:38:16,981 - INFO - Confusion Matrix:
[[936   0  48   9   2   1   0   1   2   1]
 [  0 983   1  13   1   0   0   0   1   1]
 [ 13   1 975   5   6   0   0   0   0   0]
 [ 54   4  46 879  13   0   0   1   0   3]
 [  3   2 413  35 545   0   1   0   1   0]
 [  0   0   0   0   0 876   0  81   0  43]
 [357   2 395  15  97   0 129   0   5   0]
 [  0   0   0   0   0   1   0 911   0  88]
 [ 13   1  22   2   1   1   0   5 948   7]
 [  0   0   1   0   0   0   0  13   0 986]]
2025-08-25 08:38:16,983 - INFO - Starting Round 88/100 with algorithm fedentropy and model cnn
2025-08-25 08:38:16,983 - INFO - Selected clients for Round 88: [40, 27, 17, 2, 0]
2025-08-25 08:38:18,734 - INFO - Client 40 Train Loss: 0.2127
2025-08-25 08:38:21,098 - INFO - Client 27 Train Loss: 0.1065
2025-08-25 08:38:24,006 - INFO - Client 17 Train Loss: 0.1047
2025-08-25 08:38:24,877 - INFO - Client 2 Train Loss: 0.2959
2025-08-25 08:38:27,745 - INFO - Client 0 Train Loss: 0.0864
2025-08-25 08:38:27,745 - INFO - Global Average Train Loss: 0.1612
2025-08-25 08:38:28,472 - INFO - FedEntropy weights: [0.20486125 0.20314531 0.21558647 0.16503002 0.21137696]
2025-08-25 08:38:28,508 - INFO - Aggregated using FedEntropy
2025-08-25 08:38:32,475 - INFO - Global Model Validation Loss: 0.3800, Top1_Accuracy: 85.41%, Top5_Accuracy: 99.81%
2025-08-25 08:38:32,475 - INFO - Precision: 0.8845, Recall: 0.8541, F1-Score: 0.8532
2025-08-25 08:38:32,475 - INFO - Confusion Matrix:
[[695   3   8  41   1   2 237   0  13   0]
 [  0 987   0  10   0   0   1   0   2   0]
 [  7   1 771  16  23   0 178   0   4   0]
 [  7   5   4 945   1   0  36   0   2   0]
 [  0   2  94  74 427   1 397   0   5   0]
 [  0   0   0   2   0 975   0  14   2   7]
 [ 56   2  24  33   7   0 865   0  13   0]
 [  0   0   0   0   0  37   0 942   2  19]
 [  0   1   0   3   0   1   3   2 990   0]
 [  0   0   0   0   0   9   0  46   1 944]]
2025-08-25 08:38:32,476 - INFO - Starting Round 89/100 with algorithm fedentropy and model cnn
2025-08-25 08:38:32,476 - INFO - Selected clients for Round 89: [21, 49, 8, 40, 16]
2025-08-25 08:38:36,685 - INFO - Client 21 Train Loss: 0.2934
2025-08-25 08:38:39,680 - INFO - Client 49 Train Loss: 0.0659
2025-08-25 08:38:41,078 - INFO - Client 8 Train Loss: 0.1528
2025-08-25 08:38:42,828 - INFO - Client 40 Train Loss: 0.0942
2025-08-25 08:38:44,673 - INFO - Client 16 Train Loss: 0.0527
2025-08-25 08:38:44,673 - INFO - Global Average Train Loss: 0.1318
2025-08-25 08:38:45,396 - INFO - FedEntropy weights: [0.16279474 0.20295112 0.20574615 0.2049277  0.22358029]
2025-08-25 08:38:45,430 - INFO - Aggregated using FedEntropy
2025-08-25 08:38:49,444 - INFO - Global Model Validation Loss: 0.5872, Top1_Accuracy: 79.55%, Top5_Accuracy: 99.78%
2025-08-25 08:38:49,444 - INFO - Precision: 0.8571, Recall: 0.7955, F1-Score: 0.7864
2025-08-25 08:38:49,445 - INFO - Confusion Matrix:
[[540   0 191  56   0   3 204   0   5   1]
 [  0 962   8  27   0   0   2   0   1   0]
 [  3   1 984   6   1   0   5   0   0   0]
 [  1   1  56 933   2   0   6   0   1   0]
 [  0   0 672  67 212   0  47   0   2   0]
 [  0   0   0   2   0 980   0   7   1  10]
 [ 26   0 342  40  17   0 569   0   6   0]
 [  0   0   0   0   0  76   0 828   0  96]
 [  0   1  21   4   0   3   1   1 967   2]
 [  0   0   1   0   0   5   0  14   0 980]]
2025-08-25 08:38:49,456 - INFO - Starting Round 90/100 with algorithm fedentropy and model cnn
2025-08-25 08:38:49,456 - INFO - Selected clients for Round 90: [10, 47, 28, 35, 45]
2025-08-25 08:38:50,851 - INFO - Client 10 Train Loss: 0.1617
2025-08-25 08:38:53,265 - INFO - Client 47 Train Loss: 0.3586
2025-08-25 08:38:54,993 - INFO - Client 28 Train Loss: 0.1217
2025-08-25 08:38:56,011 - INFO - Client 35 Train Loss: 0.1431
2025-08-25 08:38:57,138 - INFO - Client 45 Train Loss: 0.0558
2025-08-25 08:38:57,138 - INFO - Global Average Train Loss: 0.1682
2025-08-25 08:38:57,862 - INFO - FedEntropy weights: [0.22222778 0.15751615 0.18862431 0.21502103 0.21661074]
2025-08-25 08:38:57,897 - INFO - Aggregated using FedEntropy
2025-08-25 08:39:01,714 - INFO - Global Model Validation Loss: 0.5557, Top1_Accuracy: 79.59%, Top5_Accuracy: 99.79%
2025-08-25 08:39:01,714 - INFO - Precision: 0.8665, Recall: 0.7959, F1-Score: 0.7752
2025-08-25 08:39:01,715 - INFO - Confusion Matrix:
[[370   0   0  76   6   3 538   0   6   1]
 [  0 964   0  27   5   0   2   0   2   0]
 [  0   1 144  29 393   1 431   0   1   0]
 [  0   1   0 960   8   0  31   0   0   0]
 [  0   0   0  68 857   1  73   0   1   0]
 [  0   0   0   3   0 977   0   8   1  11]
 [  3   0   0  45  80   0 868   0   4   0]
 [  0   0   0   0   0  63   0 876   0  61]
 [  0   1   0   9   1   3  14   2 968   2]
 [  0   0   0   1   0   5   0  18   1 975]]
2025-08-25 08:39:01,717 - INFO - Starting Round 91/100 with algorithm fedentropy and model cnn
2025-08-25 08:39:01,717 - INFO - Selected clients for Round 91: [27, 35, 0, 7, 4]
2025-08-25 08:39:04,076 - INFO - Client 27 Train Loss: 0.1006
2025-08-25 08:39:05,063 - INFO - Client 35 Train Loss: 0.0711
2025-08-25 08:39:07,949 - INFO - Client 0 Train Loss: 0.0770
2025-08-25 08:39:11,048 - INFO - Client 7 Train Loss: 0.1182
2025-08-25 08:39:13,157 - INFO - Client 4 Train Loss: 0.1284
2025-08-25 08:39:13,157 - INFO - Global Average Train Loss: 0.0990
2025-08-25 08:39:13,858 - INFO - FedEntropy weights: [0.20825747 0.21338233 0.20735596 0.16460202 0.20640222]
2025-08-25 08:39:13,893 - INFO - Aggregated using FedEntropy
2025-08-25 08:39:17,815 - INFO - Global Model Validation Loss: 0.4648, Top1_Accuracy: 85.33%, Top5_Accuracy: 99.70%
2025-08-25 08:39:17,815 - INFO - Precision: 0.8756, Recall: 0.8533, F1-Score: 0.8442
2025-08-25 08:39:17,816 - INFO - Confusion Matrix:
[[978   2   6   8   0   3   1   0   2   0]
 [  1 994   0   4   0   0   0   0   1   0]
 [ 63   2 886   9  33   1   6   0   0   0]
 [ 91  16   8 882   2   0   0   0   1   0]
 [ 23   9 160  74 709   2  22   0   1   0]
 [  0   0   0   0   0 988   0   8   0   4]
 [438   4 122  14  87   2 329   0   4   0]
 [  0   0   0   0   0 102   0 855   0  43]
 [ 19   2   0   3   0  11   0   2 963   0]
 [  0   0   0   0   0  25   0  26   0 949]]
2025-08-25 08:39:17,817 - INFO - Starting Round 92/100 with algorithm fedentropy and model cnn
2025-08-25 08:39:17,817 - INFO - Selected clients for Round 92: [44, 9, 34, 2, 23]
2025-08-25 08:39:20,812 - INFO - Client 44 Train Loss: 0.0700
2025-08-25 08:39:23,417 - INFO - Client 9 Train Loss: 0.0302
2025-08-25 08:39:25,175 - INFO - Client 34 Train Loss: 0.0336
2025-08-25 08:39:26,026 - INFO - Client 2 Train Loss: 0.2445
2025-08-25 08:39:26,934 - INFO - Client 23 Train Loss: 0.0289
2025-08-25 08:39:26,934 - INFO - Global Average Train Loss: 0.0814
2025-08-25 08:39:27,748 - INFO - FedEntropy weights: [0.1953606  0.20738308 0.20292576 0.17571238 0.21861818]
2025-08-25 08:39:27,783 - INFO - Aggregated using FedEntropy
2025-08-25 08:39:32,117 - INFO - Global Model Validation Loss: 0.3479, Top1_Accuracy: 87.41%, Top5_Accuracy: 99.75%
2025-08-25 08:39:32,117 - INFO - Precision: 0.8760, Recall: 0.8741, F1-Score: 0.8707
2025-08-25 08:39:32,118 - INFO - Confusion Matrix:
[[843   3   9  47   5   4  51   0  38   0]
 [  0 989   0   9   0   0   0   0   2   0]
 [ 13   1 728  14 168   0  60   0  16   0]
 [ 11   9   4 922  28   0  15   0  11   0]
 [  0   1  20  28 894   0  36   0  21   0]
 [  0   0   0   0   0 971   0   6   9  14]
 [177   4  50  40 103   2 578   0  46   0]
 [  0   0   0   0   0  60   0 839  12  89]
 [  0   1   0   2   1   2   1   0 993   0]
 [  0   0   0   0   0   3   0  12   1 984]]
2025-08-25 08:39:32,118 - INFO - Starting Round 93/100 with algorithm fedentropy and model cnn
2025-08-25 08:39:32,118 - INFO - Selected clients for Round 93: [37, 35, 9, 27, 8]
2025-08-25 08:39:34,552 - INFO - Client 37 Train Loss: 0.0190
2025-08-25 08:39:35,576 - INFO - Client 35 Train Loss: 0.0911
2025-08-25 08:39:37,796 - INFO - Client 9 Train Loss: 0.0219
2025-08-25 08:39:40,099 - INFO - Client 27 Train Loss: 0.0791
2025-08-25 08:39:41,471 - INFO - Client 8 Train Loss: 0.1180
2025-08-25 08:39:41,471 - INFO - Global Average Train Loss: 0.0658
2025-08-25 08:39:42,199 - INFO - FedEntropy weights: [0.19127832 0.20587849 0.2122428  0.19439202 0.19620837]
2025-08-25 08:39:42,234 - INFO - Aggregated using FedEntropy
2025-08-25 08:39:46,103 - INFO - Global Model Validation Loss: 0.3584, Top1_Accuracy: 86.98%, Top5_Accuracy: 99.87%
2025-08-25 08:39:46,103 - INFO - Precision: 0.8751, Recall: 0.8698, F1-Score: 0.8655
2025-08-25 08:39:46,104 - INFO - Confusion Matrix:
[[951   2   6  18   1   4  16   0   1   1]
 [  0 991   0   7   0   0   1   0   1   0]
 [ 46   2 810  20  74   1  47   0   0   0]
 [ 26   9   3 953   1   0   8   0   0   0]
 [  5   5  58 100 757   1  73   0   1   0]
 [  0   0   0   1   0 981   0   6   0  12]
 [299   3  55  45  57   1 531   0   9   0]
 [  0   0   0   0   0  92   0 761   0 147]
 [  6   1   0   7   0   7   1   1 975   2]
 [  0   0   0   0   0   5   0   7   0 988]]
2025-08-25 08:39:46,105 - INFO - Starting Round 94/100 with algorithm fedentropy and model cnn
2025-08-25 08:39:46,105 - INFO - Selected clients for Round 94: [2, 19, 23, 22, 13]
2025-08-25 08:39:46,985 - INFO - Client 2 Train Loss: 0.1408
2025-08-25 08:39:49,111 - INFO - Client 19 Train Loss: 0.0779
2025-08-25 08:39:49,879 - INFO - Client 23 Train Loss: 0.0096
2025-08-25 08:39:50,542 - INFO - Client 22 Train Loss: 0.1579
2025-08-25 08:39:53,593 - INFO - Client 13 Train Loss: 0.0195
2025-08-25 08:39:53,594 - INFO - Global Average Train Loss: 0.0812
2025-08-25 08:39:54,296 - INFO - FedEntropy weights: [0.19741118 0.20043333 0.2194505  0.198659   0.18404598]
2025-08-25 08:39:54,328 - INFO - Aggregated using FedEntropy
2025-08-25 08:39:58,194 - INFO - Global Model Validation Loss: 0.3897, Top1_Accuracy: 86.19%, Top5_Accuracy: 99.83%
2025-08-25 08:39:58,195 - INFO - Precision: 0.8721, Recall: 0.8619, F1-Score: 0.8558
2025-08-25 08:39:58,195 - INFO - Confusion Matrix:
[[950   2   9  22   1   1  11   1   2   1]
 [  0 993   0   4   0   0   1   0   2   0]
 [ 33   1 905  18  26   0  17   0   0   0]
 [ 22  11   5 952   2   0   8   0   0   0]
 [  2   7 185  86 657   0  61   0   2   0]
 [  0   0   0   6   0 771   0 186   1  36]
 [303   7 104  43  49   0 483   0  11   0]
 [  0   0   0   0   0   0   0 962   0  38]
 [  5   1   0   9   0   1   1   4 978   1]
 [  0   0   1   0   0   0   0  31   0 968]]
2025-08-25 08:39:58,195 - INFO - Starting Round 95/100 with algorithm fedentropy and model cnn
2025-08-25 08:39:58,197 - INFO - Selected clients for Round 95: [43, 15, 42, 6, 22]
2025-08-25 08:39:59,910 - INFO - Client 43 Train Loss: 0.0686
2025-08-25 08:40:00,443 - INFO - Client 15 Train Loss: 0.2328
2025-08-25 08:40:02,750 - INFO - Client 42 Train Loss: 0.0499
2025-08-25 08:40:03,408 - INFO - Client 6 Train Loss: 0.1549
2025-08-25 08:40:04,079 - INFO - Client 22 Train Loss: 0.1021
2025-08-25 08:40:04,079 - INFO - Global Average Train Loss: 0.1217
2025-08-25 08:40:04,844 - INFO - FedEntropy weights: [0.1933465  0.19192737 0.19663021 0.18769541 0.23040051]
2025-08-25 08:40:04,882 - INFO - Aggregated using FedEntropy
2025-08-25 08:40:08,875 - INFO - Global Model Validation Loss: 0.3293, Top1_Accuracy: 88.12%, Top5_Accuracy: 99.89%
2025-08-25 08:40:08,875 - INFO - Precision: 0.8892, Recall: 0.8812, F1-Score: 0.8756
2025-08-25 08:40:08,875 - INFO - Confusion Matrix:
[[888   0  13  36  12   2  44   0   4   1]
 [  0 978   0  14   5   0   1   0   2   0]
 [ 16   1 823   7 133   1  19   0   0   0]
 [ 14   2   6 905  65   0   8   0   0   0]
 [  2   0  43  11 939   0   4   0   1   0]
 [  0   0   0   0   0 976   0  12   0  12]
 [206   0  85  35 239   1 424   0  10   0]
 [  0   0   0   0   0  34   0 944   0  22]
 [  2   1   1   4   7   3   0   3 978   1]
 [  0   0   0   0   0   6   0  37   0 957]]
2025-08-25 08:40:08,876 - INFO - Starting Round 96/100 with algorithm fedentropy and model cnn
2025-08-25 08:40:08,876 - INFO - Selected clients for Round 96: [49, 35, 26, 39, 47]
2025-08-25 08:40:11,942 - INFO - Client 49 Train Loss: 0.0560
2025-08-25 08:40:13,009 - INFO - Client 35 Train Loss: 0.0973
2025-08-25 08:40:13,837 - INFO - Client 26 Train Loss: 0.0284
2025-08-25 08:40:16,092 - INFO - Client 39 Train Loss: 0.0725
2025-08-25 08:40:18,489 - INFO - Client 47 Train Loss: 0.2799
2025-08-25 08:40:18,489 - INFO - Global Average Train Loss: 0.1068
2025-08-25 08:40:19,228 - INFO - FedEntropy weights: [0.19860452 0.19651132 0.20852236 0.20732627 0.18903553]
2025-08-25 08:40:19,262 - INFO - Aggregated using FedEntropy
2025-08-25 08:40:23,151 - INFO - Global Model Validation Loss: 0.4718, Top1_Accuracy: 82.69%, Top5_Accuracy: 99.80%
2025-08-25 08:40:23,151 - INFO - Precision: 0.8679, Recall: 0.8269, F1-Score: 0.8251
2025-08-25 08:40:23,152 - INFO - Confusion Matrix:
[[433   0   6  83   8   8 457   0   4   1]
 [  0 963   0  26   6   2   3   0   0   0]
 [  0   1 648  18 178   1 154   0   0   0]
 [  0   1   3 933  33   0  30   0   0   0]
 [  0   0  11  25 887   1  76   0   0   0]
 [  0   0   0   0   0 998   0   1   0   1]
 [  8   0  18  37  85   1 848   0   3   0]
 [  0   0   0   0   0 273   0 705   0  22]
 [  0   1   0   8   3  26  19   0 943   0]
 [  0   0   0   0   0  62   0  27   0 911]]
2025-08-25 08:40:23,155 - INFO - Starting Round 97/100 with algorithm fedentropy and model cnn
2025-08-25 08:40:23,155 - INFO - Selected clients for Round 97: [9, 15, 10, 11, 26]
2025-08-25 08:40:25,423 - INFO - Client 9 Train Loss: 0.0357
2025-08-25 08:40:25,973 - INFO - Client 15 Train Loss: 0.1268
2025-08-25 08:40:27,285 - INFO - Client 10 Train Loss: 0.1625
2025-08-25 08:40:29,669 - INFO - Client 11 Train Loss: 0.1283
2025-08-25 08:40:30,523 - INFO - Client 26 Train Loss: 0.0176
2025-08-25 08:40:30,523 - INFO - Global Average Train Loss: 0.0942
2025-08-25 08:40:31,256 - INFO - FedEntropy weights: [0.19792697 0.20542722 0.1846981  0.1979323  0.2140154 ]
2025-08-25 08:40:31,290 - INFO - Aggregated using FedEntropy
2025-08-25 08:40:35,201 - INFO - Global Model Validation Loss: 0.4184, Top1_Accuracy: 85.29%, Top5_Accuracy: 99.72%
2025-08-25 08:40:35,201 - INFO - Precision: 0.8686, Recall: 0.8529, F1-Score: 0.8490
2025-08-25 08:40:35,202 - INFO - Confusion Matrix:
[[495   0  15 199   6   7 263   0  14   1]
 [  0 963   0  30   4   0   1   0   2   0]
 [  2   1 845  36  73   1  41   0   1   0]
 [  1   1   3 990   1   0   4   0   0   0]
 [  0   1  55  85 828   1  27   0   3   0]
 [  0   0   0   1   0 986   0   4   0   9]
 [ 16   0  66 127 123   1 651   0  16   0]
 [  0   0   0   0   0 121   0 818   0  61]
 [  0   1   0  10   1   6   0   1 980   1]
 [  0   0   0   0   0   9   0  18   0 973]]
2025-08-25 08:40:35,202 - INFO - Starting Round 98/100 with algorithm fedentropy and model cnn
2025-08-25 08:40:35,203 - INFO - Selected clients for Round 98: [1, 11, 47, 21, 26]
2025-08-25 08:40:35,892 - INFO - Client 1 Train Loss: 0.1427
2025-08-25 08:40:38,227 - INFO - Client 11 Train Loss: 0.1054
2025-08-25 08:40:40,598 - INFO - Client 47 Train Loss: 0.2450
2025-08-25 08:40:44,990 - INFO - Client 21 Train Loss: 0.2870
2025-08-25 08:40:45,758 - INFO - Client 26 Train Loss: 0.0196
2025-08-25 08:40:45,758 - INFO - Global Average Train Loss: 0.1599
2025-08-25 08:40:46,489 - INFO - FedEntropy weights: [0.20109975 0.22183497 0.19307014 0.16115304 0.2228421 ]
2025-08-25 08:40:46,522 - INFO - Aggregated using FedEntropy
2025-08-25 08:40:50,365 - INFO - Global Model Validation Loss: 0.3440, Top1_Accuracy: 87.34%, Top5_Accuracy: 99.79%
2025-08-25 08:40:50,365 - INFO - Precision: 0.8873, Recall: 0.8734, F1-Score: 0.8719
2025-08-25 08:40:50,366 - INFO - Confusion Matrix:
[[527   0  28  68   7   3 362   0   4   1]
 [  0 966   0  25   5   0   3   0   1   0]
 [  2   1 862  13  61   1  60   0   0   0]
 [  1   1   7 959  15   0  17   0   0   0]
 [  0   1  77  40 829   0  53   0   0   0]
 [  0   0   0   0   0 983   0  10   0   7]
 [ 15   1  63  44  83   0 791   0   3   0]
 [  0   0   0   0   0  72   0 892   0  36]
 [  0   1   4   7   3   5  11   4 964   1]
 [  0   0   0   0   0  13   0  26   0 961]]
2025-08-25 08:40:50,366 - INFO - Starting Round 99/100 with algorithm fedentropy and model cnn
2025-08-25 08:40:50,366 - INFO - Selected clients for Round 99: [42, 47, 15, 17, 10]
2025-08-25 08:40:52,606 - INFO - Client 42 Train Loss: 0.0606
2025-08-25 08:40:54,933 - INFO - Client 47 Train Loss: 0.2120
2025-08-25 08:40:55,426 - INFO - Client 15 Train Loss: 0.1275
2025-08-25 08:40:58,344 - INFO - Client 17 Train Loss: 0.0922
2025-08-25 08:40:59,642 - INFO - Client 10 Train Loss: 0.1074
2025-08-25 08:40:59,645 - INFO - Global Average Train Loss: 0.1199
2025-08-25 08:41:00,391 - INFO - FedEntropy weights: [0.19752676 0.19592425 0.22088007 0.19098869 0.19468023]
2025-08-25 08:41:00,423 - INFO - Aggregated using FedEntropy
2025-08-25 08:41:04,296 - INFO - Global Model Validation Loss: 0.3399, Top1_Accuracy: 87.61%, Top5_Accuracy: 99.85%
2025-08-25 08:41:04,297 - INFO - Precision: 0.8917, Recall: 0.8761, F1-Score: 0.8760
2025-08-25 08:41:04,297 - INFO - Confusion Matrix:
[[591   0  21  41   2   2 335   0   8   0]
 [  0 979   0  15   3   0   1   0   2   0]
 [  4   1 881  13  34   0  67   0   0   0]
 [  2   2   7 940  14   0  33   0   2   0]
 [  0   1 147  35 697   0 118   0   2   0]
 [  0   0   0   3   0 928   0  46   8  15]
 [ 18   1  60  29  43   0 839   0  10   0]
 [  0   0   0   0   0   7   0 950   3  40]
 [  0   1   1   4   0   1   3   1 989   0]
 [  0   0   1   0   0   2   0  28   2 967]]
2025-08-25 08:41:04,297 - INFO - Starting Round 100/100 with algorithm fedentropy and model cnn
2025-08-25 08:41:04,298 - INFO - Selected clients for Round 100: [44, 6, 24, 2, 30]
2025-08-25 08:41:07,088 - INFO - Client 44 Train Loss: 0.0792
2025-08-25 08:41:07,771 - INFO - Client 6 Train Loss: 0.1197
2025-08-25 08:41:08,905 - INFO - Client 24 Train Loss: 0.0578
2025-08-25 08:41:09,739 - INFO - Client 2 Train Loss: 0.0687
2025-08-25 08:41:11,773 - INFO - Client 30 Train Loss: 0.0201
2025-08-25 08:41:11,773 - INFO - Global Average Train Loss: 0.0691
2025-08-25 08:41:12,498 - INFO - FedEntropy weights: [0.19675841 0.19665023 0.19286485 0.19566026 0.21806625]
2025-08-25 08:41:12,534 - INFO - Aggregated using FedEntropy
2025-08-25 08:41:16,394 - INFO - Global Model Validation Loss: 0.3724, Top1_Accuracy: 87.08%, Top5_Accuracy: 99.76%
2025-08-25 08:41:16,394 - INFO - Precision: 0.8824, Recall: 0.8708, F1-Score: 0.8681
2025-08-25 08:41:16,394 - INFO - Confusion Matrix:
[[836   4  30  16  19   4  84   0   6   1]
 [  0 991   0   3   4   0   0   0   2   0]
 [  9   1 828   3 144   0  15   0   0   0]
 [ 16  35  15 810 104   0  19   0   1   0]
 [  0   1  30   4 961   0   3   0   1   0]
 [  0   0   0   0   0 975   0  23   0   2]
 [117   4  90  13 279   1 486   0  10   0]
 [  0   0   0   0   0  17   0 979   0   4]
 [  0   2   4   2   7   7   0   5 973   0]
 [  0   0   0   0   0  27   0 104   0 869]]
2025-08-25 08:41:16,604 - INFO - Metrics saved to outcomes/metrics_cnn_fedentropy_dong_clients50_rounds100_clientsperround5.csv
2025-08-25 08:41:17,674 - INFO - Loss plot saved to outcomes/Loss_cnn_fedentropy_clients50_rounds100_clientsperround5.png
2025-08-25 08:41:17,873 - INFO - Accuracy plot saved to outcomes/Accuracy_cnn_fedentropy_clients50_rounds100_clientsperround5.png
