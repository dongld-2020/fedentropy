2025-08-24 10:53:45,519 - INFO - Starting federated learning with model: cnn, algorithm: fedentropy, clients: 50, rounds: 50
2025-08-24 10:53:45,683 - INFO - Initial data proportions assigned to clients: [0.012133333333333333, 0.019766666666666665, 0.03885, 0.027566666666666666, 0.028666666666666667, 0.0406, 0.02015, 0.009183333333333333, 0.0056166666666666665, 0.006566666666666667, 0.02185, 0.0275, 0.030716666666666666, 0.021483333333333333, 0.0058, 0.007966666666666667, 0.010733333333333333, 0.004833333333333334, 0.014983333333333333, 0.014, 0.0139, 0.0005, 0.0119, 0.042883333333333336, 0.017033333333333334, 0.009883333333333333, 0.031966666666666664, 0.028516666666666666, 0.04111666666666667, 0.003683333333333333, 0.0234, 0.04691666666666667, 0.013466666666666667, 0.0255, 0.010383333333333333, 0.024833333333333332, 0.023933333333333334, 0.0214, 0.004716666666666667, 0.004116666666666667, 0.005366666666666666, 0.020083333333333335, 0.040383333333333334, 0.04243333333333334, 0.031966666666666664, 0.00655, 0.01775, 0.029216666666666665, 0.02315, 0.014083333333333333]
2025-08-24 10:53:45,950 - INFO - Starting Round 1/50 with algorithm fedentropy and model cnn
2025-08-24 10:53:45,950 - INFO - Selected clients for Round 1: [40, 7, 1, 47, 17]
2025-08-24 10:53:46,606 - INFO - Client 40 Train Loss: 0.5797
2025-08-24 10:53:47,496 - INFO - Client 7 Train Loss: 0.4376
2025-08-24 10:53:49,509 - INFO - Client 1 Train Loss: 0.1938
2025-08-24 10:53:52,433 - INFO - Client 47 Train Loss: 0.4345
2025-08-24 10:53:52,915 - INFO - Client 17 Train Loss: 0.3329
2025-08-24 10:53:52,915 - INFO - Global Average Train Loss: 0.3957
2025-08-24 10:53:53,697 - INFO - FedEntropy weights: [0.2002561  0.19996157 0.19981766 0.19957829 0.20038639]
2025-08-24 10:53:53,735 - INFO - Aggregated using FedEntropy
2025-08-24 10:53:57,538 - INFO - Global Model Validation Loss: 4.1555, Top1_Accuracy: 10.00%, Top5_Accuracy: 58.28%
2025-08-24 10:53:57,538 - INFO - Precision: 0.9100, Recall: 0.1000, F1-Score: 0.0182
2025-08-24 10:53:57,539 - INFO - Confusion Matrix:
[[   0    0    0    0    0    0 1000    0    0    0]
 [   0    0    0    0    0    0 1000    0    0    0]
 [   0    0    0    0    0    0 1000    0    0    0]
 [   0    0    0    0    0    0 1000    0    0    0]
 [   0    0    0    0    0    0 1000    0    0    0]
 [   0    0    0    0    0    0 1000    0    0    0]
 [   0    0    0    0    0    0 1000    0    0    0]
 [   0    0    0    0    0    0 1000    0    0    0]
 [   0    0    0    0    0    0 1000    0    0    0]
 [   0    0    0    0    0    0 1000    0    0    0]]
2025-08-24 10:53:57,540 - INFO - Starting Round 2/50 with algorithm fedentropy and model cnn
2025-08-24 10:53:57,540 - INFO - Selected clients for Round 2: [15, 14, 8, 47, 6]
2025-08-24 10:53:58,350 - INFO - Client 15 Train Loss: 0.9812
2025-08-24 10:53:58,885 - INFO - Client 14 Train Loss: 0.7084
2025-08-24 10:53:59,441 - INFO - Client 8 Train Loss: 1.0542
2025-08-24 10:54:02,321 - INFO - Client 47 Train Loss: 0.3097
2025-08-24 10:54:04,224 - INFO - Client 6 Train Loss: 0.2112
2025-08-24 10:54:04,224 - INFO - Global Average Train Loss: 0.6530
2025-08-24 10:54:04,987 - INFO - FedEntropy weights: [0.19998592 0.20038116 0.19989404 0.20001667 0.1997222 ]
2025-08-24 10:54:05,035 - INFO - Aggregated using FedEntropy
2025-08-24 10:54:08,899 - INFO - Global Model Validation Loss: 2.4407, Top1_Accuracy: 21.24%, Top5_Accuracy: 59.56%
2025-08-24 10:54:08,900 - INFO - Precision: 0.8460, Recall: 0.2124, F1-Score: 0.1046
2025-08-24 10:54:08,901 - INFO - Confusion Matrix:
[[   0    0    0  996    0    0    0    4    0    0]
 [   0    0    0  999    0    0    0    1    0    0]
 [   0    0    0  999    0    0    0    1    0    0]
 [   0    0    0 1000    0    0    0    0    0    0]
 [   0    0    0  999    0    0    0    1    0    0]
 [   0    0    0  387    0    0    0  610    3    0]
 [   0    0    0  994    0    0    0    6    0    0]
 [   0    0    0   26    0    0    0  974    0    0]
 [   0    0    0  433    0    0    0  417  150    0]
 [   0    0    0  435    0    0    0  559    6    0]]
2025-08-24 10:54:08,901 - INFO - Starting Round 3/50 with algorithm fedentropy and model cnn
2025-08-24 10:54:08,901 - INFO - Selected clients for Round 3: [43, 47, 34, 5, 37]
2025-08-24 10:54:12,948 - INFO - Client 43 Train Loss: 0.3394
2025-08-24 10:54:15,847 - INFO - Client 47 Train Loss: 0.5127
2025-08-24 10:54:16,848 - INFO - Client 34 Train Loss: 0.3883
2025-08-24 10:54:20,821 - INFO - Client 5 Train Loss: 0.0909
2025-08-24 10:54:22,931 - INFO - Client 37 Train Loss: 0.1916
2025-08-24 10:54:22,931 - INFO - Global Average Train Loss: 0.3046
2025-08-24 10:54:23,676 - INFO - FedEntropy weights: [0.19984586 0.19982997 0.2002071  0.20001122 0.20010586]
2025-08-24 10:54:23,715 - INFO - Aggregated using FedEntropy
2025-08-24 10:54:27,528 - INFO - Global Model Validation Loss: 2.0726, Top1_Accuracy: 34.46%, Top5_Accuracy: 61.58%
2025-08-24 10:54:27,528 - INFO - Precision: 0.7909, Recall: 0.3446, F1-Score: 0.2388
2025-08-24 10:54:27,529 - INFO - Confusion Matrix:
[[  0   0   0   0   1  45 953   1   0   0]
 [  0 688   0   0   2  24 286   0   0   0]
 [  0   0   0   0   2  17 981   0   0   0]
 [  0   0   0   0   1 119 880   0   0   0]
 [  0   0   0   0  35  13 952   0   0   0]
 [  0   0   0   0   0 789   6 205   0   0]
 [  0   0   0   0   2  34 964   0   0   0]
 [  0   0   0   0   0  30   0 970   0   0]
 [  0   0   0   0   0 499 287 214   0   0]
 [  0   0   0   0   0 490  80 430   0   0]]
2025-08-24 10:54:27,529 - INFO - Starting Round 4/50 with algorithm fedentropy and model cnn
2025-08-24 10:54:27,529 - INFO - Selected clients for Round 4: [27, 2, 1, 5, 13]
2025-08-24 10:54:30,364 - INFO - Client 27 Train Loss: 0.4438
2025-08-24 10:54:34,165 - INFO - Client 2 Train Loss: 0.1932
2025-08-24 10:54:36,104 - INFO - Client 1 Train Loss: 0.1414
2025-08-24 10:54:40,106 - INFO - Client 5 Train Loss: 0.0645
2025-08-24 10:54:42,206 - INFO - Client 13 Train Loss: 0.1695
2025-08-24 10:54:42,206 - INFO - Global Average Train Loss: 0.2025
2025-08-24 10:54:42,925 - INFO - FedEntropy weights: [0.1999964  0.19983468 0.20010371 0.19997612 0.20008909]
2025-08-24 10:54:42,963 - INFO - Aggregated using FedEntropy
2025-08-24 10:54:46,677 - INFO - Global Model Validation Loss: 2.1919, Top1_Accuracy: 32.70%, Top5_Accuracy: 75.00%
2025-08-24 10:54:46,678 - INFO - Precision: 0.7630, Recall: 0.3270, F1-Score: 0.2048
2025-08-24 10:54:46,679 - INFO - Confusion Matrix:
[[921  75   3   0   0   0   0   1   0   0]
 [  8 992   0   0   0   0   0   0   0   0]
 [493  79 428   0   0   0   0   0   0   0]
 [161 839   0   0   0   0   0   0   0   0]
 [528 145 327   0   0   0   0   0   0   0]
 [452  10   0   0   0   0   0 538   0   0]
 [715  87 198   0   0   0   0   0   0   0]
 [ 71   0   0   0   0   0   0 929   0   0]
 [958  19   0   0   0   0   0  23   0   0]
 [829  13   0   0   0   0   0 158   0   0]]
2025-08-24 10:54:46,682 - INFO - Starting Round 5/50 with algorithm fedentropy and model cnn
2025-08-24 10:54:46,682 - INFO - Selected clients for Round 5: [14, 32, 38, 1, 35]
2025-08-24 10:54:47,260 - INFO - Client 14 Train Loss: 0.1815
2025-08-24 10:54:48,593 - INFO - Client 32 Train Loss: 0.5153
2025-08-24 10:54:49,061 - INFO - Client 38 Train Loss: 0.5505
2025-08-24 10:54:50,993 - INFO - Client 1 Train Loss: 0.1627
2025-08-24 10:54:53,463 - INFO - Client 35 Train Loss: 0.1398
2025-08-24 10:54:53,463 - INFO - Global Average Train Loss: 0.3100
2025-08-24 10:54:54,227 - INFO - FedEntropy weights: [0.20005556 0.20002951 0.20006047 0.19995604 0.19989843]
2025-08-24 10:54:54,267 - INFO - Aggregated using FedEntropy
2025-08-24 10:54:58,043 - INFO - Global Model Validation Loss: 2.2909, Top1_Accuracy: 27.43%, Top5_Accuracy: 95.98%
2025-08-24 10:54:58,043 - INFO - Precision: 0.6889, Recall: 0.2743, F1-Score: 0.2314
2025-08-24 10:54:58,044 - INFO - Confusion Matrix:
[[   0    0    0   93  871    0    4   32    0    0]
 [   0    0    0  974   21    0    0    5    0    0]
 [   0    0    0    8  979    0    0   13    0    0]
 [   0    0    0  802  184    0    0   14    0    0]
 [   0    0    0   52  941    0    0    7    0    0]
 [   0    0    0    2   41    0    0  957    0    0]
 [   0    0    0   48  930    0    0   22    0    0]
 [   0    0    0    0    0    0    0 1000    0    0]
 [   0    0    0   25  204    0    0  771    0    0]
 [   0    0    0    3   98    0    0  899    0    0]]
2025-08-24 10:54:58,046 - INFO - Starting Round 6/50 with algorithm fedentropy and model cnn
2025-08-24 10:54:58,046 - INFO - Selected clients for Round 6: [12, 45, 41, 44, 34]
2025-08-24 10:55:00,981 - INFO - Client 12 Train Loss: 0.5467
2025-08-24 10:55:01,645 - INFO - Client 45 Train Loss: 0.6714
2025-08-24 10:55:03,625 - INFO - Client 41 Train Loss: 0.5135
2025-08-24 10:55:06,772 - INFO - Client 44 Train Loss: 0.2157
2025-08-24 10:55:07,795 - INFO - Client 34 Train Loss: 0.1842
2025-08-24 10:55:07,795 - INFO - Global Average Train Loss: 0.4263
2025-08-24 10:55:08,502 - INFO - FedEntropy weights: [0.19992239 0.20002034 0.20001263 0.19999053 0.20005411]
2025-08-24 10:55:08,538 - INFO - Aggregated using FedEntropy
2025-08-24 10:55:12,385 - INFO - Global Model Validation Loss: 1.6119, Top1_Accuracy: 36.04%, Top5_Accuracy: 91.27%
2025-08-24 10:55:12,385 - INFO - Precision: 0.6557, Recall: 0.3604, F1-Score: 0.2308
2025-08-24 10:55:12,386 - INFO - Confusion Matrix:
[[ 647   56  234    0    1    0   27    0   35    0]
 [   0  990    7    0    1    0    0    0    2    0]
 [   3    9  980    0    0    0    0    0    8    0]
 [  60  696  210    3   18    0    0    0   13    0]
 [   1   41  921    0   30    0    0    0    7    0]
 [   3    2    7    0    0    2    0    0  986    0]
 [ 181   31  741    0    2    0    7    0   38    0]
 [   0    0    0    0    0    0    0    0 1000    0]
 [   1    6   48    0    0    0    0    0  945    0]
 [   1    4   29    0    3    0    0    0  963    0]]
2025-08-24 10:55:12,390 - INFO - Starting Round 7/50 with algorithm fedentropy and model cnn
2025-08-24 10:55:12,390 - INFO - Selected clients for Round 7: [26, 14, 28, 37, 17]
2025-08-24 10:55:15,506 - INFO - Client 26 Train Loss: 0.0940
2025-08-24 10:55:16,073 - INFO - Client 14 Train Loss: 0.2059
2025-08-24 10:55:19,971 - INFO - Client 28 Train Loss: 0.1169
2025-08-24 10:55:22,095 - INFO - Client 37 Train Loss: 0.0703
2025-08-24 10:55:22,562 - INFO - Client 17 Train Loss: 0.3932
2025-08-24 10:55:22,562 - INFO - Global Average Train Loss: 0.1761
2025-08-24 10:55:23,351 - INFO - FedEntropy weights: [0.1999707  0.20006107 0.19990384 0.2000124  0.20005199]
2025-08-24 10:55:23,387 - INFO - Aggregated using FedEntropy
2025-08-24 10:55:27,463 - INFO - Global Model Validation Loss: 1.6537, Top1_Accuracy: 34.23%, Top5_Accuracy: 89.30%
2025-08-24 10:55:27,463 - INFO - Precision: 0.6557, Recall: 0.3423, F1-Score: 0.3291
2025-08-24 10:55:27,464 - INFO - Confusion Matrix:
[[ 418   14    0    2    0   16  550    0    0    0]
 [   1  982    0    0    1    2   14    0    0    0]
 [   0    4    0    0    3    3  990    0    0    0]
 [ 147  451    0   91    0   17  294    0    0    0]
 [   2   23    0    4   22    4  945    0    0    0]
 [   2    0    0    0    0  997    1    0    0    0]
 [  64   15    0    0    1    7  913    0    0    0]
 [   0    0    0    0    0 1000    0    0    0    0]
 [   4    7    0    0    0  718  264    0    0    7]
 [   3    0    0    0    0  996    1    0    0    0]]
2025-08-24 10:55:27,465 - INFO - Starting Round 8/50 with algorithm fedentropy and model cnn
2025-08-24 10:55:27,465 - INFO - Selected clients for Round 8: [0, 48, 10, 44, 27]
2025-08-24 10:55:28,667 - INFO - Client 0 Train Loss: 0.6285
2025-08-24 10:55:30,908 - INFO - Client 48 Train Loss: 0.2841
2025-08-24 10:55:33,110 - INFO - Client 10 Train Loss: 0.0225
2025-08-24 10:55:36,282 - INFO - Client 44 Train Loss: 0.1766
2025-08-24 10:55:39,043 - INFO - Client 27 Train Loss: 0.2749
2025-08-24 10:55:39,043 - INFO - Global Average Train Loss: 0.2773
2025-08-24 10:55:39,787 - INFO - FedEntropy weights: [0.20001155 0.20000103 0.2000363  0.19998844 0.19996268]
2025-08-24 10:55:39,825 - INFO - Aggregated using FedEntropy
2025-08-24 10:55:43,464 - INFO - Global Model Validation Loss: 1.6176, Top1_Accuracy: 45.95%, Top5_Accuracy: 98.15%
2025-08-24 10:55:43,464 - INFO - Precision: 0.7784, Recall: 0.4595, F1-Score: 0.4310
2025-08-24 10:55:43,465 - INFO - Confusion Matrix:
[[994   0   1   3   0   1   0   1   0   0]
 [ 32 922   0  44   2   0   0   0   0   0]
 [488   0 381   4 127   0   0   0   0   0]
 [600   3   0 397   0   0   0   0   0   0]
 [357   4 139  18 482   0   0   0   0   0]
 [425   0   0   0   0 292   0 283   0   0]
 [781   1  99   3 116   0   0   0   0   0]
 [ 26   0   0   0   0   0   0 971   1   2]
 [930   1   0   0   3   0   0  27  35   4]
 [495   0   0   0   0   0   0 383   1 121]]
2025-08-24 10:55:43,466 - INFO - Starting Round 9/50 with algorithm fedentropy and model cnn
2025-08-24 10:55:43,466 - INFO - Selected clients for Round 9: [21, 17, 9, 13, 48]
2025-08-24 10:55:43,527 - INFO - Client 21 Train Loss: 0.6742
2025-08-24 10:55:44,022 - INFO - Client 17 Train Loss: 0.8004
2025-08-24 10:55:44,684 - INFO - Client 9 Train Loss: 0.1490
2025-08-24 10:55:46,741 - INFO - Client 13 Train Loss: 0.0218
2025-08-24 10:55:48,956 - INFO - Client 48 Train Loss: 0.2307
2025-08-24 10:55:48,956 - INFO - Global Average Train Loss: 0.3752
2025-08-24 10:55:49,709 - INFO - FedEntropy weights: [0.2000478  0.19995444 0.20003031 0.20001183 0.19995563]
2025-08-24 10:55:49,745 - INFO - Aggregated using FedEntropy
2025-08-24 10:55:53,822 - INFO - Global Model Validation Loss: 1.3082, Top1_Accuracy: 51.41%, Top5_Accuracy: 98.57%
2025-08-24 10:55:53,822 - INFO - Precision: 0.7203, Recall: 0.5141, F1-Score: 0.4385
2025-08-24 10:55:53,823 - INFO - Confusion Matrix:
[[438  10  49  13   0  16 473   1   0   0]
 [  0 982   9   3   0   1   5   0   0   0]
 [  0   3 929   1   0   1  66   0   0   0]
 [  4 276 104 436   0   8 172   0   0   0]
 [  0  20 665   8   0   1 306   0   0   0]
 [  0   0   1   0   0 911   3  85   0   0]
 [ 43  16 471   4   0   8 458   0   0   0]
 [  0   0   0   0   0  53   0 947   0   0]
 [  0   5  22   3   0  98 665 172  34   1]
 [  0   1   4   2   0 563  42 382   0   6]]
2025-08-24 10:55:53,823 - INFO - Starting Round 10/50 with algorithm fedentropy and model cnn
2025-08-24 10:55:53,823 - INFO - Selected clients for Round 10: [21, 6, 5, 24, 22]
2025-08-24 10:55:53,879 - INFO - Client 21 Train Loss: 0.6815
2025-08-24 10:55:55,935 - INFO - Client 6 Train Loss: 0.0461
2025-08-24 10:55:59,908 - INFO - Client 5 Train Loss: 0.0409
2025-08-24 10:56:01,613 - INFO - Client 24 Train Loss: 0.0378
2025-08-24 10:56:02,782 - INFO - Client 22 Train Loss: 0.3573
2025-08-24 10:56:02,782 - INFO - Global Average Train Loss: 0.2327
2025-08-24 10:56:03,571 - INFO - FedEntropy weights: [0.20004961 0.19999438 0.19993666 0.20001782 0.20000153]
2025-08-24 10:56:03,612 - INFO - Aggregated using FedEntropy
2025-08-24 10:56:07,556 - INFO - Global Model Validation Loss: 1.8413, Top1_Accuracy: 41.41%, Top5_Accuracy: 96.91%
2025-08-24 10:56:07,556 - INFO - Precision: 0.7291, Recall: 0.4141, F1-Score: 0.3123
2025-08-24 10:56:07,557 - INFO - Confusion Matrix:
[[ 161    0   39  784    1    0    0   15    0    0]
 [   0  881    9  109    0    0    0    1    0    0]
 [   1    0  859  133    4    0    0    3    0    0]
 [   0    1    9  989    1    0    0    0    0    0]
 [   0    3  594  334   67    0    0    2    0    0]
 [   0    0    0   11    0  162    0  827    0    0]
 [  37    0  546  397    9    1    0   10    0    0]
 [   0    0    0    0    0    0    0 1000    0    0]
 [   1    0  247  200   47    4    0  479   22    0]
 [   0    0    0   40    0    1    0  959    0    0]]
2025-08-24 10:56:07,557 - INFO - Starting Round 11/50 with algorithm fedentropy and model cnn
2025-08-24 10:56:07,557 - INFO - Selected clients for Round 11: [22, 38, 16, 2, 46]
2025-08-24 10:56:08,702 - INFO - Client 22 Train Loss: 0.2364
2025-08-24 10:56:09,210 - INFO - Client 38 Train Loss: 0.1992
2025-08-24 10:56:10,233 - INFO - Client 16 Train Loss: 0.2956
2025-08-24 10:56:13,847 - INFO - Client 2 Train Loss: 0.1059
2025-08-24 10:56:15,558 - INFO - Client 46 Train Loss: 0.7995
2025-08-24 10:56:15,559 - INFO - Global Average Train Loss: 0.3273
2025-08-24 10:56:16,336 - INFO - FedEntropy weights: [0.20003119 0.20004024 0.20002215 0.19992428 0.19998213]
2025-08-24 10:56:16,373 - INFO - Aggregated using FedEntropy
2025-08-24 10:56:20,211 - INFO - Global Model Validation Loss: 1.5220, Top1_Accuracy: 47.37%, Top5_Accuracy: 98.03%
2025-08-24 10:56:20,212 - INFO - Precision: 0.7402, Recall: 0.4737, F1-Score: 0.4134
2025-08-24 10:56:20,212 - INFO - Confusion Matrix:
[[ 737    6   39    8   74    3   15    0  118    0]
 [   0  973    0    1   16    0    0    0   10    0]
 [   7    1  487    0  482    0    2    0   21    0]
 [  34   89   12  261  300    0    6    0  298    0]
 [   0    4   24    1  961    0    0    0   10    0]
 [   0    0    0    0    1  321    0    0  678    0]
 [ 190    3  132    2  545    2   22    0  104    0]
 [   0    0    0    0    0    0    0    0 1000    0]
 [   0    2    4    0   14    4    1    0  975    0]
 [   0    0    0    0    0    0    0    0 1000    0]]
2025-08-24 10:56:20,213 - INFO - Starting Round 12/50 with algorithm fedentropy and model cnn
2025-08-24 10:56:20,213 - INFO - Selected clients for Round 12: [29, 34, 7, 24, 5]
2025-08-24 10:56:20,589 - INFO - Client 29 Train Loss: 0.6480
2025-08-24 10:56:21,653 - INFO - Client 34 Train Loss: 0.1875
2025-08-24 10:56:22,549 - INFO - Client 7 Train Loss: 0.3134
2025-08-24 10:56:24,172 - INFO - Client 24 Train Loss: 0.0572
2025-08-24 10:56:28,105 - INFO - Client 5 Train Loss: 0.0619
2025-08-24 10:56:28,105 - INFO - Global Average Train Loss: 0.2536
2025-08-24 10:56:28,815 - INFO - FedEntropy weights: [0.20002636 0.20003869 0.2000171  0.19999411 0.19992375]
2025-08-24 10:56:28,853 - INFO - Aggregated using FedEntropy
2025-08-24 10:56:32,764 - INFO - Global Model Validation Loss: 1.8682, Top1_Accuracy: 42.90%, Top5_Accuracy: 89.31%
2025-08-24 10:56:32,765 - INFO - Precision: 0.7080, Recall: 0.4290, F1-Score: 0.3350
2025-08-24 10:56:32,766 - INFO - Confusion Matrix:
[[ 771   12   41    0    0    1  154   21    0    0]
 [   0  987    7    0    0    0    3    3    0    0]
 [   6    4  952    0    0    0   34    4    0    0]
 [  99  413   42  178    0    0  243   25    0    0]
 [   1   22  855    2    0    0  118    2    0    0]
 [   0    0    0    0    0  216    6  778    0    0]
 [ 210   14  578    0    0    2  186   10    0    0]
 [   0    0    0    0    0    0    0 1000    0    0]
 [   1    9  196    0    0   15   82  697    0    0]
 [   0    3    4    0    0   21   27  945    0    0]]
2025-08-24 10:56:32,768 - INFO - Starting Round 13/50 with algorithm fedentropy and model cnn
2025-08-24 10:56:32,768 - INFO - Selected clients for Round 13: [35, 18, 40, 39, 23]
2025-08-24 10:56:35,223 - INFO - Client 35 Train Loss: 0.1200
2025-08-24 10:56:36,735 - INFO - Client 18 Train Loss: 0.3472
2025-08-24 10:56:37,289 - INFO - Client 40 Train Loss: 0.8618
2025-08-24 10:56:37,702 - INFO - Client 39 Train Loss: 0.3925
2025-08-24 10:56:41,857 - INFO - Client 23 Train Loss: 0.2328
2025-08-24 10:56:41,857 - INFO - Global Average Train Loss: 0.3909
2025-08-24 10:56:42,563 - INFO - FedEntropy weights: [0.19996983 0.20001004 0.19999444 0.20010503 0.19992067]
2025-08-24 10:56:42,599 - INFO - Aggregated using FedEntropy
2025-08-24 10:56:46,573 - INFO - Global Model Validation Loss: 1.6497, Top1_Accuracy: 47.88%, Top5_Accuracy: 90.92%
2025-08-24 10:56:46,574 - INFO - Precision: 0.7116, Recall: 0.4788, F1-Score: 0.3974
2025-08-24 10:56:46,575 - INFO - Confusion Matrix:
[[340   6   0 293 156   5 198   0   0   2]
 [  0 980   0   3  17   0   0   0   0   0]
 [  0   2   0   3 985   1   9   0   0   0]
 [  0 132   0 616 252   0   0   0   0   0]
 [  0   8   0   4 987   1   0   0   0   0]
 [  0   4   0   2  26 879   0   0   0  89]
 [ 33   7   0 110 766   1  83   0   0   0]
 [  0   0   0   0   1 291   0   0   0 708]
 [  0   7   0  20 893  10   8   0   0  62]
 [  0   1   0   1  92   3   0   0   0 903]]
2025-08-24 10:56:46,576 - INFO - Starting Round 14/50 with algorithm fedentropy and model cnn
2025-08-24 10:56:46,576 - INFO - Selected clients for Round 14: [36, 12, 45, 4, 2]
2025-08-24 10:56:49,069 - INFO - Client 36 Train Loss: 0.4869
2025-08-24 10:56:52,011 - INFO - Client 12 Train Loss: 0.4573
2025-08-24 10:56:52,640 - INFO - Client 45 Train Loss: 0.6044
2025-08-24 10:56:55,417 - INFO - Client 4 Train Loss: 0.1213
2025-08-24 10:56:59,248 - INFO - Client 2 Train Loss: 0.1460
2025-08-24 10:56:59,248 - INFO - Global Average Train Loss: 0.3632
2025-08-24 10:57:00,021 - INFO - FedEntropy weights: [0.20001494 0.19996302 0.20003514 0.20002485 0.19996205]
2025-08-24 10:57:00,069 - INFO - Aggregated using FedEntropy
2025-08-24 10:57:03,832 - INFO - Global Model Validation Loss: 1.6507, Top1_Accuracy: 50.54%, Top5_Accuracy: 97.50%
2025-08-24 10:57:03,832 - INFO - Precision: 0.7864, Recall: 0.5054, F1-Score: 0.4110
2025-08-24 10:57:03,834 - INFO - Confusion Matrix:
[[569   3 295 114   0   4   0   0  15   0]
 [  0 968  17  14   0   0   0   0   1   0]
 [  2   1 994   2   0   0   0   0   1   0]
 [  6  35 214 733   0   1   0   0  11   0]
 [  0   5 970  24   0   0   0   0   1   0]
 [  0   0   6   1   0 889   0   0 104   0]
 [134   0 804  49   0   1   1   0  11   0]
 [  0   0   0   0   0 373   0   0 627   0]
 [  0   2  95   0   0   3   0   0 900   0]
 [  0   0  34   1   0   7   0   0 958   0]]
2025-08-24 10:57:03,834 - INFO - Starting Round 15/50 with algorithm fedentropy and model cnn
2025-08-24 10:57:03,834 - INFO - Selected clients for Round 15: [42, 14, 49, 18, 5]
2025-08-24 10:57:07,805 - INFO - Client 42 Train Loss: 0.0140
2025-08-24 10:57:08,325 - INFO - Client 14 Train Loss: 0.3898
2025-08-24 10:57:09,690 - INFO - Client 49 Train Loss: 0.1902
2025-08-24 10:57:11,095 - INFO - Client 18 Train Loss: 0.1674
2025-08-24 10:57:14,975 - INFO - Client 5 Train Loss: 0.0816
2025-08-24 10:57:14,975 - INFO - Global Average Train Loss: 0.1686
2025-08-24 10:57:15,705 - INFO - FedEntropy weights: [0.1999668  0.20001446 0.20004363 0.20003332 0.1999418 ]
2025-08-24 10:57:15,739 - INFO - Aggregated using FedEntropy
2025-08-24 10:57:19,950 - INFO - Global Model Validation Loss: 1.7765, Top1_Accuracy: 46.23%, Top5_Accuracy: 98.55%
2025-08-24 10:57:19,951 - INFO - Precision: 0.7695, Recall: 0.4623, F1-Score: 0.3445
2025-08-24 10:57:19,954 - INFO - Confusion Matrix:
[[ 817    5   47  110    0    0    0   19    2    0]
 [   0  981    1   15    0    0    0    3    0    0]
 [  12    2  961   16    0    0    0    9    0    0]
 [  42   48   53  854    0    0    0    3    0    0]
 [   3   10  868  114    0    0    0    5    0    0]
 [   0    0    0    5    0    2    0  993    0    0]
 [ 293    7  597   73    0    0    0   29    1    0]
 [   0    0    0    0    0    0    0 1000    0    0]
 [   3    4   13    5    0    0    0  967    8    0]
 [   0    0    0    4    0    0    0  996    0    0]]
2025-08-24 10:57:19,954 - INFO - Starting Round 16/50 with algorithm fedentropy and model cnn
2025-08-24 10:57:19,954 - INFO - Selected clients for Round 16: [14, 6, 24, 17, 29]
2025-08-24 10:57:20,606 - INFO - Client 14 Train Loss: 0.0609
2025-08-24 10:57:22,883 - INFO - Client 6 Train Loss: 0.0197
2025-08-24 10:57:24,675 - INFO - Client 24 Train Loss: 0.0447
2025-08-24 10:57:25,189 - INFO - Client 17 Train Loss: 0.4136
2025-08-24 10:57:25,575 - INFO - Client 29 Train Loss: 0.3502
2025-08-24 10:57:25,575 - INFO - Global Average Train Loss: 0.1778
2025-08-24 10:57:26,302 - INFO - FedEntropy weights: [0.20002071 0.19999613 0.1999955  0.19997369 0.20001396]
2025-08-24 10:57:26,340 - INFO - Aggregated using FedEntropy
2025-08-24 10:57:30,208 - INFO - Global Model Validation Loss: 1.5439, Top1_Accuracy: 45.52%, Top5_Accuracy: 98.62%
2025-08-24 10:57:30,208 - INFO - Precision: 0.7827, Recall: 0.4552, F1-Score: 0.3645
2025-08-24 10:57:30,209 - INFO - Confusion Matrix:
[[   0    0    2  147    0    1  843    7    0    0]
 [   0  914    2   78    0    0    5    1    0    0]
 [   0    0  630   16    0    0  354    0    0    0]
 [   0    2    0  910    0    0   88    0    0    0]
 [   0    3  276  107    0    0  614    0    0    0]
 [   0    0    0   10    0  241    3  746    0    0]
 [   0    0   72   95    0    0  832    1    0    0]
 [   0    0    0    0    0    0    0 1000    0    0]
 [   0    0    0   26    0    4  271  674   25    0]
 [   0    0    0   32    0    0    1  967    0    0]]
2025-08-24 10:57:30,209 - INFO - Starting Round 17/50 with algorithm fedentropy and model cnn
2025-08-24 10:57:30,209 - INFO - Selected clients for Round 17: [40, 23, 10, 22, 13]
2025-08-24 10:57:30,731 - INFO - Client 40 Train Loss: 0.4370
2025-08-24 10:57:34,892 - INFO - Client 23 Train Loss: 0.1370
2025-08-24 10:57:36,976 - INFO - Client 10 Train Loss: 0.0407
2025-08-24 10:57:38,133 - INFO - Client 22 Train Loss: 0.2911
2025-08-24 10:57:40,210 - INFO - Client 13 Train Loss: 0.0558
2025-08-24 10:57:40,211 - INFO - Global Average Train Loss: 0.1923
2025-08-24 10:57:40,945 - INFO - FedEntropy weights: [0.20001347 0.19992498 0.20000016 0.20005146 0.20000993]
2025-08-24 10:57:40,983 - INFO - Aggregated using FedEntropy
2025-08-24 10:57:44,910 - INFO - Global Model Validation Loss: 1.1612, Top1_Accuracy: 60.88%, Top5_Accuracy: 99.45%
2025-08-24 10:57:44,910 - INFO - Precision: 0.7315, Recall: 0.6088, F1-Score: 0.5295
2025-08-24 10:57:44,911 - INFO - Confusion Matrix:
[[987   4   0   0   1   2   0   0   5   1]
 [ 16 983   0   0   0   0   0   0   1   0]
 [266   2 533   0 191   0   5   0   3   0]
 [811 163   0  20   5   0   0   0   1   0]
 [170  13  62   0 740   0  11   0   4   0]
 [ 15   0   0   0   0 932   0   0   2  51]
 [648  10  74   0 240   0  16   0  12   0]
 [  1   0   0   0   0 476   0  31   0 492]
 [116   4   2   0   3   7   2   0 859   7]
 [  5   2   0   0   0   6   0   0   0 987]]
2025-08-24 10:57:44,913 - INFO - Starting Round 18/50 with algorithm fedentropy and model cnn
2025-08-24 10:57:44,913 - INFO - Selected clients for Round 18: [42, 17, 44, 43, 41]
2025-08-24 10:57:48,888 - INFO - Client 42 Train Loss: 0.0106
2025-08-24 10:57:49,476 - INFO - Client 17 Train Loss: 0.4669
2025-08-24 10:57:52,542 - INFO - Client 44 Train Loss: 0.1509
2025-08-24 10:57:56,635 - INFO - Client 43 Train Loss: 0.2199
2025-08-24 10:57:58,568 - INFO - Client 41 Train Loss: 0.3307
2025-08-24 10:57:58,568 - INFO - Global Average Train Loss: 0.2358
2025-08-24 10:57:59,299 - INFO - FedEntropy weights: [0.1999771  0.2000263  0.20000294 0.19996055 0.20003312]
2025-08-24 10:57:59,339 - INFO - Aggregated using FedEntropy
2025-08-24 10:58:03,091 - INFO - Global Model Validation Loss: 0.8924, Top1_Accuracy: 71.44%, Top5_Accuracy: 98.81%
2025-08-24 10:58:03,091 - INFO - Precision: 0.8075, Recall: 0.7144, F1-Score: 0.7194
2025-08-24 10:58:03,092 - INFO - Confusion Matrix:
[[300  14   4  14  18   6 638   1   4   1]
 [  0 983   0   2  13   0   2   0   0   0]
 [  0   1 425   0 226   0 348   0   0   0]
 [  3 176   3 537 154   1 126   0   0   0]
 [  0   7  13   3 647   0 330   0   0   0]
 [  0   0   0   0   1 932   1  53   0  13]
 [ 33  10  40   3  96   2 815   0   1   0]
 [  0   0   0   0   0  78   0 856   0  66]
 [  0   3   1   1   1  38 196   8 750   2]
 [  0   2   0   0   1  31   1  65   1 899]]
2025-08-24 10:58:03,094 - INFO - Starting Round 19/50 with algorithm fedentropy and model cnn
2025-08-24 10:58:03,095 - INFO - Selected clients for Round 19: [4, 38, 40, 10, 34]
2025-08-24 10:58:05,822 - INFO - Client 4 Train Loss: 0.0937
2025-08-24 10:58:06,279 - INFO - Client 38 Train Loss: 0.3271
2025-08-24 10:58:06,793 - INFO - Client 40 Train Loss: 0.1994
2025-08-24 10:58:08,923 - INFO - Client 10 Train Loss: 0.0490
2025-08-24 10:58:09,936 - INFO - Client 34 Train Loss: 0.1491
2025-08-24 10:58:09,936 - INFO - Global Average Train Loss: 0.1637
2025-08-24 10:58:10,664 - INFO - FedEntropy weights: [0.19998033 0.20002235 0.20000196 0.19997036 0.20002499]
2025-08-24 10:58:10,707 - INFO - Aggregated using FedEntropy
2025-08-24 10:58:14,426 - INFO - Global Model Validation Loss: 0.9595, Top1_Accuracy: 65.15%, Top5_Accuracy: 99.37%
2025-08-24 10:58:14,426 - INFO - Precision: 0.7409, Recall: 0.6515, F1-Score: 0.5893
2025-08-24 10:58:14,427 - INFO - Confusion Matrix:
[[912   1  23  58   0   1   0   1   2   2]
 [  1 949   1  47   0   0   0   0   0   2]
 [ 34   1 943  20   1   0   0   0   0   1]
 [ 71   3  17 909   0   0   0   0   0   0]
 [  4   8 767 176  44   0   0   0   0   1]
 [  3   0   0   6   0 427   0 377   0 187]
 [358   2 567  54   6   1   6   0   0   6]
 [  0   0   0   0   0   0   0 891   0 109]
 [ 91   4  38  30   0   3   4  43 482 305]
 [  0   0   0   4   0   0   0  44   0 952]]
2025-08-24 10:58:14,427 - INFO - Starting Round 20/50 with algorithm fedentropy and model cnn
2025-08-24 10:58:14,427 - INFO - Selected clients for Round 20: [46, 15, 10, 29, 24]
2025-08-24 10:58:16,240 - INFO - Client 46 Train Loss: 0.7364
2025-08-24 10:58:17,019 - INFO - Client 15 Train Loss: 0.4283
2025-08-24 10:58:19,075 - INFO - Client 10 Train Loss: 0.0139
2025-08-24 10:58:19,425 - INFO - Client 29 Train Loss: 0.2153
2025-08-24 10:58:21,060 - INFO - Client 24 Train Loss: 0.0352
2025-08-24 10:58:21,060 - INFO - Global Average Train Loss: 0.2858
2025-08-24 10:58:21,761 - INFO - FedEntropy weights: [0.19997049 0.20001299 0.19999188 0.20002162 0.20000302]
2025-08-24 10:58:21,803 - INFO - Aggregated using FedEntropy
2025-08-24 10:58:25,563 - INFO - Global Model Validation Loss: 0.9089, Top1_Accuracy: 67.31%, Top5_Accuracy: 99.39%
2025-08-24 10:58:25,563 - INFO - Precision: 0.7389, Recall: 0.6731, F1-Score: 0.6411
2025-08-24 10:58:25,564 - INFO - Confusion Matrix:
[[916   0  66   1   4   2   7   1   3   0]
 [ 20 948   6  15   9   0   0   0   1   1]
 [ 18   0 959   0  20   0   2   0   1   0]
 [555   4  95 255  82   1   8   0   0   0]
 [  6   3 655   1 332   0   3   0   0   0]
 [  8   0   1   0   0 631   0 321   0  39]
 [334   0 573   2  54   1  30   0   6   0]
 [  0   0   0   0   0   1   0 965   0  34]
 [ 41   1  75   0   8   8  30  27 805   5]
 [  1   0   1   0   0   1   0 107   0 890]]
2025-08-24 10:58:25,564 - INFO - Starting Round 21/50 with algorithm fedentropy and model cnn
2025-08-24 10:58:25,564 - INFO - Selected clients for Round 21: [17, 40, 44, 35, 14]
2025-08-24 10:58:26,019 - INFO - Client 17 Train Loss: 0.2863
2025-08-24 10:58:26,530 - INFO - Client 40 Train Loss: 0.2177
2025-08-24 10:58:29,570 - INFO - Client 44 Train Loss: 0.1194
2025-08-24 10:58:31,892 - INFO - Client 35 Train Loss: 0.0263
2025-08-24 10:58:32,461 - INFO - Client 14 Train Loss: 0.0956
2025-08-24 10:58:32,461 - INFO - Global Average Train Loss: 0.1491
2025-08-24 10:58:33,179 - INFO - FedEntropy weights: [0.1999917  0.20002444 0.19996771 0.19998393 0.20003223]
2025-08-24 10:58:33,216 - INFO - Aggregated using FedEntropy
2025-08-24 10:58:36,941 - INFO - Global Model Validation Loss: 1.2069, Top1_Accuracy: 62.63%, Top5_Accuracy: 97.16%
2025-08-24 10:58:36,941 - INFO - Precision: 0.7883, Recall: 0.6263, F1-Score: 0.5886
2025-08-24 10:58:36,942 - INFO - Confusion Matrix:
[[ 38   0   0  20  20   2 914   1   1   4]
 [  0 962   0  13  17   0   7   0   0   1]
 [  0   0   0   1 670   0 328   0   1   0]
 [  1   7   0 695 178   0 118   0   0   1]
 [  0   1   0   2 976   0  21   0   0   0]
 [  0   0   0   0   0 546   1 310   0 143]
 [  5   0   0  10 405   0 579   0   1   0]
 [  0   0   0   0   0   0   0 873   0 127]
 [  0   1   0   2  25  15 239  38 631  49]
 [  0   0   0   0   0   1   0  36   0 963]]
2025-08-24 10:58:36,942 - INFO - Starting Round 22/50 with algorithm fedentropy and model cnn
2025-08-24 10:58:36,942 - INFO - Selected clients for Round 22: [43, 20, 49, 3, 14]
2025-08-24 10:58:40,944 - INFO - Client 43 Train Loss: 0.1630
2025-08-24 10:58:42,283 - INFO - Client 20 Train Loss: 0.4763
2025-08-24 10:58:43,646 - INFO - Client 49 Train Loss: 0.1548
2025-08-24 10:58:46,295 - INFO - Client 3 Train Loss: 0.2682
2025-08-24 10:58:46,841 - INFO - Client 14 Train Loss: 0.0875
2025-08-24 10:58:46,841 - INFO - Global Average Train Loss: 0.2299
2025-08-24 10:58:47,578 - INFO - FedEntropy weights: [0.19996277 0.19995426 0.20001877 0.20001068 0.20005351]
2025-08-24 10:58:47,612 - INFO - Aggregated using FedEntropy
2025-08-24 10:58:51,351 - INFO - Global Model Validation Loss: 1.0378, Top1_Accuracy: 65.78%, Top5_Accuracy: 99.59%
2025-08-24 10:58:51,351 - INFO - Precision: 0.7666, Recall: 0.6578, F1-Score: 0.6414
2025-08-24 10:58:51,352 - INFO - Confusion Matrix:
[[ 719    4    4  193    0    1   70    5    4    0]
 [   0  951    0   46    1    0    0    1    1    0]
 [  11    1  509   41  278    0  159    0    1    0]
 [   4    2    0  979    1    0   14    0    0    0]
 [   1    8   38  174  722    0   55    0    2    0]
 [   0    0    0   11    0  422    0  566    0    1]
 [ 187    4   62  170  156    2  402    0   17    0]
 [   0    0    0    0    0    0    0 1000    0    0]
 [   1    3    1   34    2    7   29  167  756    0]
 [   0    0    0   21    0    0    0  860    1  118]]
2025-08-24 10:58:51,352 - INFO - Starting Round 23/50 with algorithm fedentropy and model cnn
2025-08-24 10:58:51,352 - INFO - Selected clients for Round 23: [2, 20, 25, 17, 4]
2025-08-24 10:58:55,262 - INFO - Client 2 Train Loss: 0.0617
2025-08-24 10:58:56,658 - INFO - Client 20 Train Loss: 0.2874
2025-08-24 10:58:57,620 - INFO - Client 25 Train Loss: 0.3242
2025-08-24 10:58:58,097 - INFO - Client 17 Train Loss: 0.1906
2025-08-24 10:59:00,888 - INFO - Client 4 Train Loss: 0.0515
2025-08-24 10:59:00,889 - INFO - Global Average Train Loss: 0.1831
2025-08-24 10:59:01,623 - INFO - FedEntropy weights: [0.19995945 0.20002326 0.20002177 0.20000333 0.1999922 ]
2025-08-24 10:59:01,663 - INFO - Aggregated using FedEntropy
2025-08-24 10:59:05,469 - INFO - Global Model Validation Loss: 0.9421, Top1_Accuracy: 68.50%, Top5_Accuracy: 98.92%
2025-08-24 10:59:05,469 - INFO - Precision: 0.7712, Recall: 0.6850, F1-Score: 0.6384
2025-08-24 10:59:05,470 - INFO - Confusion Matrix:
[[819   2  69  51   0   1  41   0  17   0]
 [  1 975   4  18   0   0   0   0   2   0]
 [ 10   1 970  10   0   0   7   0   2   0]
 [ 28   9  63 881   0   0  16   0   3   0]
 [  1   8 850  80   4   0  53   0   4   0]
 [  0   0   0  13   0 635   1 270  69  12]
 [267   3 544  37   0   0 122   0  27   0]
 [  0   0   0   0   0   0   0 967  30   3]
 [  2   2  23   4   0   5   3   2 959   0]
 [  0   0   1  23   0   0   0 232 226 518]]
2025-08-24 10:59:05,470 - INFO - Starting Round 24/50 with algorithm fedentropy and model cnn
2025-08-24 10:59:05,470 - INFO - Selected clients for Round 24: [13, 36, 45, 20, 41]
2025-08-24 10:59:07,623 - INFO - Client 13 Train Loss: 0.0271
2025-08-24 10:59:09,977 - INFO - Client 36 Train Loss: 0.3883
2025-08-24 10:59:10,586 - INFO - Client 45 Train Loss: 0.1158
2025-08-24 10:59:11,888 - INFO - Client 20 Train Loss: 0.2036
2025-08-24 10:59:13,825 - INFO - Client 41 Train Loss: 0.2536
2025-08-24 10:59:13,825 - INFO - Global Average Train Loss: 0.1977
2025-08-24 10:59:14,539 - INFO - FedEntropy weights: [0.1999872  0.19995944 0.20002791 0.20001874 0.2000067 ]
2025-08-24 10:59:14,575 - INFO - Aggregated using FedEntropy
2025-08-24 10:59:18,398 - INFO - Global Model Validation Loss: 0.9634, Top1_Accuracy: 70.80%, Top5_Accuracy: 99.26%
2025-08-24 10:59:18,398 - INFO - Precision: 0.8153, Recall: 0.7080, F1-Score: 0.6761
2025-08-24 10:59:18,399 - INFO - Confusion Matrix:
[[931   1  48   5   5   1   0   1   8   0]
 [  3 979   3  10   3   0   0   0   2   0]
 [ 21   1 944   1  32   0   0   0   1   0]
 [142  17  70 709  61   0   0   0   1   0]
 [  3   8 453  11 524   0   0   0   1   0]
 [  6   0   1   1   0 584   0 394   9   5]
 [358   4 493   9 121   0   0   0  15   0]
 [  0   0   0   0   0   0   0 998   1   1]
 [ 29   2  28   1   5   2   0   5 928   0]
 [  1   0   2   1   0   1   0 499  13 483]]
2025-08-24 10:59:18,399 - INFO - Starting Round 25/50 with algorithm fedentropy and model cnn
2025-08-24 10:59:18,400 - INFO - Selected clients for Round 25: [31, 25, 41, 29, 9]
2025-08-24 10:59:22,825 - INFO - Client 31 Train Loss: 0.0302
2025-08-24 10:59:23,785 - INFO - Client 25 Train Loss: 0.2183
2025-08-24 10:59:25,741 - INFO - Client 41 Train Loss: 0.1977
2025-08-24 10:59:26,109 - INFO - Client 29 Train Loss: 0.1346
2025-08-24 10:59:26,774 - INFO - Client 9 Train Loss: 0.0678
2025-08-24 10:59:26,774 - INFO - Global Average Train Loss: 0.1297
2025-08-24 10:59:27,506 - INFO - FedEntropy weights: [0.19994484 0.2000221  0.19999883 0.20001979 0.20001443]
2025-08-24 10:59:27,544 - INFO - Aggregated using FedEntropy
2025-08-24 10:59:31,318 - INFO - Global Model Validation Loss: 1.0659, Top1_Accuracy: 70.75%, Top5_Accuracy: 98.82%
2025-08-24 10:59:31,318 - INFO - Precision: 0.8194, Recall: 0.7075, F1-Score: 0.6775
2025-08-24 10:59:31,319 - INFO - Confusion Matrix:
[[882   3  98   6   1   3   0   0   5   2]
 [  2 987   4   4   1   0   0   0   0   2]
 [ 10   2 977   1   9   0   0   0   1   0]
 [103  52 187 625  30   0   0   0   0   3]
 [  2   8 679   9 301   0   0   0   1   0]
 [  1   0   2   0   0 807   0  36   0 154]
 [307   3 617   6  52   2   0   0  10   3]
 [  0   0   0   0   0  50   0 635   0 315]
 [  5   2  42   1   2   4   0   1 865  78]
 [  0   0   1   0   0   1   0   2   0 996]]
2025-08-24 10:59:31,319 - INFO - Starting Round 26/50 with algorithm fedentropy and model cnn
2025-08-24 10:59:31,320 - INFO - Selected clients for Round 26: [16, 8, 15, 47, 35]
2025-08-24 10:59:32,364 - INFO - Client 16 Train Loss: 0.0901
2025-08-24 10:59:32,904 - INFO - Client 8 Train Loss: 0.1627
2025-08-24 10:59:33,644 - INFO - Client 15 Train Loss: 0.3868
2025-08-24 10:59:36,567 - INFO - Client 47 Train Loss: 0.3770
2025-08-24 10:59:38,948 - INFO - Client 35 Train Loss: 0.0382
2025-08-24 10:59:38,948 - INFO - Global Average Train Loss: 0.2109
2025-08-24 10:59:39,702 - INFO - FedEntropy weights: [0.20005212 0.20006949 0.2000671  0.19981742 0.19999386]
2025-08-24 10:59:39,742 - INFO - Aggregated using FedEntropy
2025-08-24 10:59:43,500 - INFO - Global Model Validation Loss: 1.2178, Top1_Accuracy: 63.56%, Top5_Accuracy: 99.03%
2025-08-24 10:59:43,501 - INFO - Precision: 0.7657, Recall: 0.6356, F1-Score: 0.6114
2025-08-24 10:59:43,503 - INFO - Confusion Matrix:
[[483   0   0  57 152   2 270   0  36   0]
 [  0 943   0  26  29   0   0   0   2   0]
 [  2   0   0   2 926   0  61   0   9   0]
 [  9   3   0 706 261   0  19   0   2   0]
 [  0   0   0   1 994   0   0   0   5   0]
 [  0   0   0   1   1 752   0  27 165  54]
 [ 78   0   0  17 701   0 160   0  44   0]
 [  0   0   0   0   0  31   0 502 386  81]
 [  0   0   0   2  31   2   1   0 962   2]
 [  0   0   0   1   2   0   0   1 142 854]]
2025-08-24 10:59:43,504 - INFO - Starting Round 27/50 with algorithm fedentropy and model cnn
2025-08-24 10:59:43,504 - INFO - Selected clients for Round 27: [34, 16, 47, 37, 27]
2025-08-24 10:59:44,514 - INFO - Client 34 Train Loss: 0.1185
2025-08-24 10:59:45,567 - INFO - Client 16 Train Loss: 0.0566
2025-08-24 10:59:48,529 - INFO - Client 47 Train Loss: 0.3461
2025-08-24 10:59:50,595 - INFO - Client 37 Train Loss: 0.0753
2025-08-24 10:59:53,304 - INFO - Client 27 Train Loss: 0.2414
2025-08-24 10:59:53,304 - INFO - Global Average Train Loss: 0.1676
2025-08-24 10:59:54,036 - INFO - FedEntropy weights: [0.20002058 0.20001867 0.19997436 0.20000072 0.19998567]
2025-08-24 10:59:54,077 - INFO - Aggregated using FedEntropy
2025-08-24 10:59:57,917 - INFO - Global Model Validation Loss: 0.7501, Top1_Accuracy: 71.82%, Top5_Accuracy: 99.70%
2025-08-24 10:59:57,917 - INFO - Precision: 0.7889, Recall: 0.7182, F1-Score: 0.7073
2025-08-24 10:59:57,918 - INFO - Confusion Matrix:
[[874   3   0  24   5   8  83   0   3   0]
 [  1 987   0   8   2   0   1   0   1   0]
 [ 21   4 213   7 372   4 378   0   1   0]
 [ 43  36   0 846  28   3  44   0   0   0]
 [  1  12   3  43 805   4 131   0   1   0]
 [  1   0   0   2   0 994   0   3   0   0]
 [294   6   6  16 120   7 547   0   4   0]
 [  0   0   0   0   0 529   0 466   0   5]
 [  4   3   0   5   4  57  62   1 864   0]
 [  2   1   0   3   0 341   0  67   0 586]]
2025-08-24 10:59:57,919 - INFO - Starting Round 28/50 with algorithm fedentropy and model cnn
2025-08-24 10:59:57,919 - INFO - Selected clients for Round 28: [37, 25, 23, 14, 8]
2025-08-24 11:00:00,002 - INFO - Client 37 Train Loss: 0.0254
2025-08-24 11:00:00,967 - INFO - Client 25 Train Loss: 0.2730
2025-08-24 11:00:05,195 - INFO - Client 23 Train Loss: 0.0635
2025-08-24 11:00:05,730 - INFO - Client 14 Train Loss: 0.1175
2025-08-24 11:00:06,245 - INFO - Client 8 Train Loss: 0.1645
2025-08-24 11:00:06,245 - INFO - Global Average Train Loss: 0.1288
2025-08-24 11:00:06,964 - INFO - FedEntropy weights: [0.20001002 0.20002103 0.19994618 0.19999776 0.20002502]
2025-08-24 11:00:06,998 - INFO - Aggregated using FedEntropy
2025-08-24 11:00:10,691 - INFO - Global Model Validation Loss: 0.7480, Top1_Accuracy: 73.90%, Top5_Accuracy: 99.54%
2025-08-24 11:00:10,691 - INFO - Precision: 0.7809, Recall: 0.7390, F1-Score: 0.7208
2025-08-24 11:00:10,692 - INFO - Confusion Matrix:
[[848   0  18  84   0   1   4   0  45   0]
 [  0 948   0  47   0   0   0   0   5   0]
 [ 22   1 810  23  98   0  15   0  31   0]
 [ 28   2   9 954   1   0   0   0   6   0]
 [  0   7 203 181 515   0  51   0  43   0]
 [  1   0   0  14   0 526   0 334 116   9]
 [300   1 218  79  63   0 248   0  91   0]
 [  0   0   0   0   0   0   0 972  25   3]
 [  0   1   0   8   1   3   1   2 984   0]
 [  0   0   0  26   0   0   0 266 123 585]]
2025-08-24 11:00:10,693 - INFO - Starting Round 29/50 with algorithm fedentropy and model cnn
2025-08-24 11:00:10,693 - INFO - Selected clients for Round 29: [32, 31, 5, 48, 3]
2025-08-24 11:00:11,983 - INFO - Client 32 Train Loss: 0.1948
2025-08-24 11:00:16,485 - INFO - Client 31 Train Loss: 0.0357
2025-08-24 11:00:20,340 - INFO - Client 5 Train Loss: 0.0372
2025-08-24 11:00:22,563 - INFO - Client 48 Train Loss: 0.1378
2025-08-24 11:00:25,250 - INFO - Client 3 Train Loss: 0.2804
2025-08-24 11:00:25,250 - INFO - Global Average Train Loss: 0.1372
2025-08-24 11:00:25,990 - INFO - FedEntropy weights: [0.20002738 0.19994828 0.19999287 0.20001772 0.20001375]
2025-08-24 11:00:26,029 - INFO - Aggregated using FedEntropy
2025-08-24 11:00:29,925 - INFO - Global Model Validation Loss: 0.9130, Top1_Accuracy: 67.49%, Top5_Accuracy: 98.90%
2025-08-24 11:00:29,925 - INFO - Precision: 0.7526, Recall: 0.6749, F1-Score: 0.6490
2025-08-24 11:00:29,926 - INFO - Confusion Matrix:
[[733   6  83  72   0   1  99   2   0   4]
 [  0 985   2  11   0   0   0   0   0   2]
 [  6   1 970   7  14   0   2   0   0   0]
 [ 15  21  60 889   8   0   7   0   0   0]
 [  1   8 623  61 300   0   7   0   0   0]
 [  0   0   0   1   0 490   0 386   0 123]
 [183   3 569  52  35   1 155   0   0   2]
 [  0   0   0   0   0   0   0 954   0  46]
 [  0   6 106  11   2   3  36  72 344 420]
 [  0   0   0   1   0   1   0  69   0 929]]
2025-08-24 11:00:29,926 - INFO - Starting Round 30/50 with algorithm fedentropy and model cnn
2025-08-24 11:00:29,926 - INFO - Selected clients for Round 30: [7, 9, 40, 10, 43]
2025-08-24 11:00:30,834 - INFO - Client 7 Train Loss: 0.1954
2025-08-24 11:00:31,538 - INFO - Client 9 Train Loss: 0.0729
2025-08-24 11:00:32,097 - INFO - Client 40 Train Loss: 0.1587
2025-08-24 11:00:34,218 - INFO - Client 10 Train Loss: 0.0304
2025-08-24 11:00:38,248 - INFO - Client 43 Train Loss: 0.1248
2025-08-24 11:00:38,248 - INFO - Global Average Train Loss: 0.1165
2025-08-24 11:00:38,997 - INFO - FedEntropy weights: [0.20002243 0.20001592 0.20001426 0.19998273 0.19996468]
2025-08-24 11:00:39,048 - INFO - Aggregated using FedEntropy
2025-08-24 11:00:42,786 - INFO - Global Model Validation Loss: 0.7467, Top1_Accuracy: 70.55%, Top5_Accuracy: 99.40%
2025-08-24 11:00:42,787 - INFO - Precision: 0.8089, Recall: 0.7055, F1-Score: 0.7061
2025-08-24 11:00:42,787 - INFO - Confusion Matrix:
[[783   1   0   6   0   3 204   1   0   2]
 [  1 984   0   4   1   0   9   0   0   1]
 [ 10   3 297   2  94   0 594   0   0   0]
 [ 86  35   0 736   8   0 132   0   0   3]
 [  1   7  17  29 432   2 512   0   0   0]
 [  0   0   0   0   0 904   1  46   0  49]
 [190   3   8   7  14   3 775   0   0   0]
 [  0   0   0   0   0  29   0 794   0 177]
 [ 10   4   1   1   1  45 204  19 364 351]
 [  0   0   0   0   0   4   0  10   0 986]]
2025-08-24 11:00:42,789 - INFO - Starting Round 31/50 with algorithm fedentropy and model cnn
2025-08-24 11:00:42,789 - INFO - Selected clients for Round 31: [27, 38, 4, 24, 29]
2025-08-24 11:00:45,628 - INFO - Client 27 Train Loss: 0.1597
2025-08-24 11:00:46,087 - INFO - Client 38 Train Loss: 0.3283
2025-08-24 11:00:48,853 - INFO - Client 4 Train Loss: 0.0708
2025-08-24 11:00:50,457 - INFO - Client 24 Train Loss: 0.0928
2025-08-24 11:00:50,809 - INFO - Client 29 Train Loss: 0.1558
2025-08-24 11:00:50,809 - INFO - Global Average Train Loss: 0.1615
2025-08-24 11:00:51,510 - INFO - FedEntropy weights: [0.19999551 0.20000497 0.19998256 0.19998521 0.20003176]
2025-08-24 11:00:51,545 - INFO - Aggregated using FedEntropy
2025-08-24 11:00:55,258 - INFO - Global Model Validation Loss: 1.6475, Top1_Accuracy: 61.65%, Top5_Accuracy: 97.71%
2025-08-24 11:00:55,258 - INFO - Precision: 0.8146, Recall: 0.6165, F1-Score: 0.5458
2025-08-24 11:00:55,259 - INFO - Confusion Matrix:
[[553   1 138 305   0   1   0   1   0   1]
 [  0 947   9  43   0   0   0   0   0   1]
 [  3   0 977  20   0   0   0   0   0   0]
 [  0   1  40 959   0   0   0   0   0   0]
 [  1   3 847 149   0   0   0   0   0   0]
 [  0   0   1  19   0 812   0 139   0  29]
 [104   0 683 213   0   0   0   0   0   0]
 [  0   0   0   0   0   4   0 964   0  32]
 [  1   3 525  75   0   3   0  76  71 246]
 [  0   0   2  15   0   1   0 100   0 882]]
2025-08-24 11:00:55,259 - INFO - Starting Round 32/50 with algorithm fedentropy and model cnn
2025-08-24 11:00:55,259 - INFO - Selected clients for Round 32: [33, 16, 35, 0, 43]
2025-08-24 11:00:57,733 - INFO - Client 33 Train Loss: 0.0715
2025-08-24 11:00:58,785 - INFO - Client 16 Train Loss: 0.2234
2025-08-24 11:01:01,285 - INFO - Client 35 Train Loss: 0.1129
2025-08-24 11:01:02,431 - INFO - Client 0 Train Loss: 0.5737
2025-08-24 11:01:06,695 - INFO - Client 43 Train Loss: 0.1485
2025-08-24 11:01:06,695 - INFO - Global Average Train Loss: 0.2260
2025-08-24 11:01:07,431 - INFO - FedEntropy weights: [0.2000344  0.20003355 0.19991907 0.2000096  0.20000338]
2025-08-24 11:01:07,471 - INFO - Aggregated using FedEntropy
2025-08-24 11:01:11,371 - INFO - Global Model Validation Loss: 0.8101, Top1_Accuracy: 73.02%, Top5_Accuracy: 99.50%
2025-08-24 11:01:11,371 - INFO - Precision: 0.8021, Recall: 0.7302, F1-Score: 0.6976
2025-08-24 11:01:11,374 - INFO - Confusion Matrix:
[[811   1   0  35  72   5  59   0  16   1]
 [  0 974   0   7  17   0   0   0   2   0]
 [ 12   0  12   0 926   0  45   0   5   0]
 [ 18  10   0 650 307   1  13   0   1   0]
 [  1   1   0   1 991   0   1   0   5   0]
 [  0   0   0   0   1 939   0  48   0  12]
 [235   1   3  11 581   3 135   0  31   0]
 [  0   0   0   0   0  39   0 931   0  30]
 [  1   0   0   1  17  15   1   8 951   6]
 [  0   0   0   0   0  13   0  79   0 908]]
2025-08-24 11:01:11,374 - INFO - Starting Round 33/50 with algorithm fedentropy and model cnn
2025-08-24 11:01:11,374 - INFO - Selected clients for Round 33: [46, 7, 43, 34, 48]
2025-08-24 11:01:13,186 - INFO - Client 46 Train Loss: 0.5938
2025-08-24 11:01:14,061 - INFO - Client 7 Train Loss: 0.3056
2025-08-24 11:01:18,292 - INFO - Client 43 Train Loss: 0.1269
2025-08-24 11:01:19,321 - INFO - Client 34 Train Loss: 0.0938
2025-08-24 11:01:21,595 - INFO - Client 48 Train Loss: 0.1503
2025-08-24 11:01:21,595 - INFO - Global Average Train Loss: 0.2541
2025-08-24 11:01:22,300 - INFO - FedEntropy weights: [0.2000142  0.20000388 0.19997039 0.20002571 0.19998581]
2025-08-24 11:01:22,335 - INFO - Aggregated using FedEntropy
2025-08-24 11:01:26,141 - INFO - Global Model Validation Loss: 0.8984, Top1_Accuracy: 63.62%, Top5_Accuracy: 99.62%
2025-08-24 11:01:26,142 - INFO - Precision: 0.8182, Recall: 0.6362, F1-Score: 0.6144
2025-08-24 11:01:26,143 - INFO - Confusion Matrix:
[[  0   1   1  16   0   2 976   4   0   0]
 [  0 975   0   9   4   0  12   0   0   0]
 [  0   1 456   1 151   0 391   0   0   0]
 [  0  23   0 780  18   0 179   0   0   0]
 [  0   5  21  16 361   0 597   0   0   0]
 [  0   0   0   1   0 872   2 125   0   0]
 [  0   0  31  11  10   0 948   0   0   0]
 [  0   0   0   0   0   2   0 998   0   0]
 [  0   3   1   4   0  24 175  54 739   0]
 [  0   0   0   3   0  57   3 704   0 233]]
2025-08-24 11:01:26,143 - INFO - Starting Round 34/50 with algorithm fedentropy and model cnn
2025-08-24 11:01:26,143 - INFO - Selected clients for Round 34: [17, 49, 41, 21, 7]
2025-08-24 11:01:26,702 - INFO - Client 17 Train Loss: 0.0636
2025-08-24 11:01:28,125 - INFO - Client 49 Train Loss: 0.1111
2025-08-24 11:01:30,137 - INFO - Client 41 Train Loss: 0.2627
2025-08-24 11:01:30,194 - INFO - Client 21 Train Loss: 0.4898
2025-08-24 11:01:31,077 - INFO - Client 7 Train Loss: 0.1039
2025-08-24 11:01:31,077 - INFO - Global Average Train Loss: 0.2062
2025-08-24 11:01:31,814 - INFO - FedEntropy weights: [0.20000752 0.19999705 0.19997595 0.2000144  0.20000508]
2025-08-24 11:01:31,852 - INFO - Aggregated using FedEntropy
2025-08-24 11:01:35,744 - INFO - Global Model Validation Loss: 0.7270, Top1_Accuracy: 71.70%, Top5_Accuracy: 99.53%
2025-08-24 11:01:35,744 - INFO - Precision: 0.8286, Recall: 0.7170, F1-Score: 0.6952
2025-08-24 11:01:35,745 - INFO - Confusion Matrix:
[[  1   1   7  10   3   3 957   2  16   0]
 [  0 979   0   7   4   0   8   0   2   0]
 [  0   1 610   0 219   0 166   0   4   0]
 [  0  35   3 722  64   0 176   0   0   0]
 [  0   5  30   5 751   0 204   0   5   0]
 [  0   0   0   1   0 851   3 141   1   3]
 [  0   2  79   6  56   0 832   0  25   0]
 [  0   0   0   0   0   2   0 998   0   0]
 [  0   3   1   0   1  11  18  13 953   0]
 [  0   0   0   1   0  21   3 500   2 473]]
2025-08-24 11:01:35,746 - INFO - Starting Round 35/50 with algorithm fedentropy and model cnn
2025-08-24 11:01:35,746 - INFO - Selected clients for Round 35: [18, 27, 10, 29, 0]
2025-08-24 11:01:37,195 - INFO - Client 18 Train Loss: 0.1216
2025-08-24 11:01:40,010 - INFO - Client 27 Train Loss: 0.1838
2025-08-24 11:01:42,088 - INFO - Client 10 Train Loss: 0.0504
2025-08-24 11:01:42,415 - INFO - Client 29 Train Loss: 0.1975
2025-08-24 11:01:43,568 - INFO - Client 0 Train Loss: 0.3019
2025-08-24 11:01:43,568 - INFO - Global Average Train Loss: 0.1710
2025-08-24 11:01:44,266 - INFO - FedEntropy weights: [0.1999834  0.1999851  0.19996516 0.20003763 0.2000287 ]
2025-08-24 11:01:44,304 - INFO - Aggregated using FedEntropy
2025-08-24 11:01:47,950 - INFO - Global Model Validation Loss: 1.0513, Top1_Accuracy: 72.15%, Top5_Accuracy: 99.45%
2025-08-24 11:01:47,950 - INFO - Precision: 0.8196, Recall: 0.7215, F1-Score: 0.7110
2025-08-24 11:01:47,951 - INFO - Confusion Matrix:
[[992   0   2   3   0   1   0   0   2   0]
 [ 27 963   0   9   0   0   0   0   1   0]
 [295   1 602   2 100   0   0   0   0   0]
 [446   8   1 544   1   0   0   0   0   0]
 [260   8 133  23 568   0   5   0   3   0]
 [ 43   0   0   0   0 894   0  32   9  22]
 [838   1  86   4  50   2  12   0   7   0]
 [ 12   0   0   0   0  24   0 812   3 149]
 [141   2   0   0   1   1   0   1 852   2]
 [ 11   0   0   0   0   3   0  10   0 976]]
2025-08-24 11:01:47,951 - INFO - Starting Round 36/50 with algorithm fedentropy and model cnn
2025-08-24 11:01:47,951 - INFO - Selected clients for Round 36: [46, 16, 32, 48, 11]
2025-08-24 11:01:49,630 - INFO - Client 46 Train Loss: 0.7473
2025-08-24 11:01:50,710 - INFO - Client 16 Train Loss: 0.0802
2025-08-24 11:01:52,055 - INFO - Client 32 Train Loss: 0.2003
2025-08-24 11:01:54,355 - INFO - Client 48 Train Loss: 0.1179
2025-08-24 11:01:57,033 - INFO - Client 11 Train Loss: 0.0846
2025-08-24 11:01:57,034 - INFO - Global Average Train Loss: 0.2461
2025-08-24 11:01:57,748 - INFO - FedEntropy weights: [0.19995971 0.20002823 0.2000182  0.199987   0.20000686]
2025-08-24 11:01:57,787 - INFO - Aggregated using FedEntropy
2025-08-24 11:02:01,631 - INFO - Global Model Validation Loss: 0.5372, Top1_Accuracy: 80.15%, Top5_Accuracy: 99.57%
2025-08-24 11:02:01,632 - INFO - Precision: 0.8215, Recall: 0.8015, F1-Score: 0.7822
2025-08-24 11:02:01,635 - INFO - Confusion Matrix:
[[759   2  48  75  41   8  37   0  28   2]
 [  0 976   0   9  13   0   0   0   2   0]
 [  8   1 619   2 354   0   9   0   7   0]
 [  9  16  15 809 142   1   5   0   0   3]
 [  1   2  24   4 966   0   1   0   2   0]
 [  0   0   0   1   0 944   0  37   0  18]
 [211   1 121  48 465   5 112   0  37   0]
 [  0   0   0   0   0  22   0 910   0  68]
 [  0   2   3   1  12   7   0   2 967   6]
 [  0   0   0   0   0   6   0  41   0 953]]
2025-08-24 11:02:01,635 - INFO - Starting Round 37/50 with algorithm fedentropy and model cnn
2025-08-24 11:02:01,635 - INFO - Selected clients for Round 37: [32, 6, 40, 19, 38]
2025-08-24 11:02:02,918 - INFO - Client 32 Train Loss: 0.1339
2025-08-24 11:02:05,083 - INFO - Client 6 Train Loss: 0.0273
2025-08-24 11:02:05,652 - INFO - Client 40 Train Loss: 0.1553
2025-08-24 11:02:07,007 - INFO - Client 19 Train Loss: 0.1336
2025-08-24 11:02:07,494 - INFO - Client 38 Train Loss: 0.2705
2025-08-24 11:02:07,494 - INFO - Global Average Train Loss: 0.1441
2025-08-24 11:02:08,203 - INFO - FedEntropy weights: [0.19999885 0.19999419 0.2000095  0.19999284 0.20000463]
2025-08-24 11:02:08,240 - INFO - Aggregated using FedEntropy
2025-08-24 11:02:12,142 - INFO - Global Model Validation Loss: 0.7752, Top1_Accuracy: 72.46%, Top5_Accuracy: 99.65%
2025-08-24 11:02:12,142 - INFO - Precision: 0.8135, Recall: 0.7246, F1-Score: 0.6921
2025-08-24 11:02:12,143 - INFO - Confusion Matrix:
[[642   0  38 289   0   3   4   4  20   0]
 [  0 801   2 195   0   0   0   0   2   0]
 [  7   0 936  46   2   0   2   0   7   0]
 [  2   0   4 991   0   0   1   0   2   0]
 [  1   4 617 257  87   0  32   0   2   0]
 [  0   0   0   7   0 806   0 165   0  22]
 [136   0 378 280   5   1 166   0  34   0]
 [  0   0   0   0   0   0   0 988   0  12]
 [  0   0   7  21   0   2   2  15 948   5]
 [  0   0   0   6   0   2   0 111   0 881]]
2025-08-24 11:02:12,143 - INFO - Starting Round 38/50 with algorithm fedentropy and model cnn
2025-08-24 11:02:12,144 - INFO - Selected clients for Round 38: [12, 9, 23, 48, 10]
2025-08-24 11:02:15,058 - INFO - Client 12 Train Loss: 0.3563
2025-08-24 11:02:15,745 - INFO - Client 9 Train Loss: 0.0762
2025-08-24 11:02:19,966 - INFO - Client 23 Train Loss: 0.0578
2025-08-24 11:02:22,170 - INFO - Client 48 Train Loss: 0.0762
2025-08-24 11:02:24,380 - INFO - Client 10 Train Loss: 0.0375
2025-08-24 11:02:24,381 - INFO - Global Average Train Loss: 0.1208
2025-08-24 11:02:25,135 - INFO - FedEntropy weights: [0.19995824 0.20004098 0.19998297 0.20001526 0.20000255]
2025-08-24 11:02:25,173 - INFO - Aggregated using FedEntropy
2025-08-24 11:02:29,140 - INFO - Global Model Validation Loss: 0.6981, Top1_Accuracy: 74.40%, Top5_Accuracy: 99.43%
2025-08-24 11:02:29,140 - INFO - Precision: 0.8054, Recall: 0.7440, F1-Score: 0.7189
2025-08-24 11:02:29,141 - INFO - Confusion Matrix:
[[837   2  57   4   0   5  84   1  10   0]
 [  3 982   1   2   1   0   9   0   2   0]
 [  9   1 967   0   0   0  22   0   1   0]
 [108  54  62 586   3   7 178   0   1   1]
 [  1   8 711   7  57   2 212   0   2   0]
 [  0   0   0   0   0 993   0   6   0   1]
 [241   1 318   3   0   4 413   0  20   0]
 [  0   0   0   0   0 161   0 831   0   8]
 [  1   2  12   0   0  21   4   1 959   0]
 [  0   0   0   0   0  76   1 108   0 815]]
2025-08-24 11:02:29,141 - INFO - Starting Round 39/50 with algorithm fedentropy and model cnn
2025-08-24 11:02:29,142 - INFO - Selected clients for Round 39: [34, 49, 33, 0, 38]
2025-08-24 11:02:30,158 - INFO - Client 34 Train Loss: 0.1840
2025-08-24 11:02:31,637 - INFO - Client 49 Train Loss: 0.0878
2025-08-24 11:02:34,155 - INFO - Client 33 Train Loss: 0.0618
2025-08-24 11:02:35,353 - INFO - Client 0 Train Loss: 0.2751
2025-08-24 11:02:35,839 - INFO - Client 38 Train Loss: 0.2227
2025-08-24 11:02:35,839 - INFO - Global Average Train Loss: 0.1663
2025-08-24 11:02:36,585 - INFO - FedEntropy weights: [0.19998316 0.20001118 0.19999221 0.20000262 0.20001082]
2025-08-24 11:02:36,623 - INFO - Aggregated using FedEntropy
2025-08-24 11:02:40,411 - INFO - Global Model Validation Loss: 0.5905, Top1_Accuracy: 78.73%, Top5_Accuracy: 99.73%
2025-08-24 11:02:40,411 - INFO - Precision: 0.8183, Recall: 0.7873, F1-Score: 0.7851
2025-08-24 11:02:40,412 - INFO - Confusion Matrix:
[[672   0  13 228   3   1  66   2  15   0]
 [  0 945   0  50   3   0   0   0   2   0]
 [  7   1 742  35 167   0  46   0   2   0]
 [  2   1   3 979   5   0  10   0   0   0]
 [  1   4  63 113 753   0  62   0   4   0]
 [  0   0   0   6   0 690   1 284   6  13]
 [138   0  99 187 110   0 440   0  26   0]
 [  0   0   0   0   0   0   0 998   0   2]
 [  0   1   1  11   3   1   9   8 965   1]
 [  0   0   0   3   0   1   0 306   1 689]]
2025-08-24 11:02:40,414 - INFO - Starting Round 40/50 with algorithm fedentropy and model cnn
2025-08-24 11:02:40,414 - INFO - Selected clients for Round 40: [20, 31, 1, 7, 23]
2025-08-24 11:02:41,800 - INFO - Client 20 Train Loss: 0.2120
2025-08-24 11:02:46,410 - INFO - Client 31 Train Loss: 0.0275
2025-08-24 11:02:48,366 - INFO - Client 1 Train Loss: 0.0757
2025-08-24 11:02:49,237 - INFO - Client 7 Train Loss: 0.1813
2025-08-24 11:02:53,372 - INFO - Client 23 Train Loss: 0.0481
2025-08-24 11:02:53,372 - INFO - Global Average Train Loss: 0.1089
2025-08-24 11:02:54,071 - INFO - FedEntropy weights: [0.20003914 0.19996205 0.19999692 0.20001939 0.19998251]
2025-08-24 11:02:54,108 - INFO - Aggregated using FedEntropy
2025-08-24 11:02:57,925 - INFO - Global Model Validation Loss: 0.7226, Top1_Accuracy: 70.23%, Top5_Accuracy: 99.65%
2025-08-24 11:02:57,925 - INFO - Precision: 0.8487, Recall: 0.7023, F1-Score: 0.6906
2025-08-24 11:02:57,926 - INFO - Confusion Matrix:
[[ 63   8   2   2   0   1 914   1   8   1]
 [  0 992   0   0   0   0   6   0   2   0]
 [  0   2 601   0  55   0 342   0   0   0]
 [  0 228   1 440   7   0 319   0   0   5]
 [  0  14  45   5 317   0 619   0   0   0]
 [  0   0   0   0   0 904   3  53   2  38]
 [  0   9  37   0   5   0 941   0   8   0]
 [  0   0   0   0   0   7   0 828   0 165]
 [  0   3   0   0   0   1  39   2 947   8]
 [  0   0   0   0   0   4   0   6   0 990]]
2025-08-24 11:02:57,926 - INFO - Starting Round 41/50 with algorithm fedentropy and model cnn
2025-08-24 11:02:57,926 - INFO - Selected clients for Round 41: [19, 15, 3, 36, 5]
2025-08-24 11:02:59,326 - INFO - Client 19 Train Loss: 0.1038
2025-08-24 11:03:00,116 - INFO - Client 15 Train Loss: 0.2715
2025-08-24 11:03:02,829 - INFO - Client 3 Train Loss: 0.1861
2025-08-24 11:03:05,188 - INFO - Client 36 Train Loss: 0.2760
2025-08-24 11:03:09,160 - INFO - Client 5 Train Loss: 0.0405
2025-08-24 11:03:09,160 - INFO - Global Average Train Loss: 0.1756
2025-08-24 11:03:09,868 - INFO - FedEntropy weights: [0.20002064 0.20002428 0.20000718 0.19998147 0.19996643]
2025-08-24 11:03:09,906 - INFO - Aggregated using FedEntropy
2025-08-24 11:03:13,597 - INFO - Global Model Validation Loss: 1.0832, Top1_Accuracy: 67.14%, Top5_Accuracy: 99.25%
2025-08-24 11:03:13,597 - INFO - Precision: 0.7669, Recall: 0.6714, F1-Score: 0.6531
2025-08-24 11:03:13,598 - INFO - Confusion Matrix:
[[239   4 598   7  90   1  48   4   9   0]
 [  0 981   4   2  11   0   0   0   2   0]
 [  0   1 977   0  22   0   0   0   0   0]
 [  1 110 196 529 153   0   7   1   0   3]
 [  0   4 442   1 552   0   0   0   1   0]
 [  0   0   3   0   0 764   0 221   0  12]
 [ 39   3 655   3 229   1  58   0  12   0]
 [  0   0   0   0   0   0   0 998   0   2]
 [  0   3  40   0   5   2   0  16 931   3]
 [  0   0   0   0   0   2   0 313   0 685]]
2025-08-24 11:03:13,599 - INFO - Starting Round 42/50 with algorithm fedentropy and model cnn
2025-08-24 11:03:13,599 - INFO - Selected clients for Round 42: [5, 46, 31, 4, 48]
2025-08-24 11:03:17,499 - INFO - Client 5 Train Loss: 0.0300
2025-08-24 11:03:19,224 - INFO - Client 46 Train Loss: 0.6585
2025-08-24 11:03:23,851 - INFO - Client 31 Train Loss: 0.0207
2025-08-24 11:03:26,644 - INFO - Client 4 Train Loss: 0.0812
2025-08-24 11:03:28,939 - INFO - Client 48 Train Loss: 0.0769
2025-08-24 11:03:28,939 - INFO - Global Average Train Loss: 0.1735
2025-08-24 11:03:29,654 - INFO - FedEntropy weights: [0.20000098 0.20000096 0.19997348 0.20000485 0.20001973]
2025-08-24 11:03:29,694 - INFO - Aggregated using FedEntropy
2025-08-24 11:03:33,592 - INFO - Global Model Validation Loss: 0.7103, Top1_Accuracy: 75.12%, Top5_Accuracy: 99.66%
2025-08-24 11:03:33,593 - INFO - Precision: 0.8114, Recall: 0.7512, F1-Score: 0.7283
2025-08-24 11:03:33,594 - INFO - Confusion Matrix:
[[698   3 121  80   0   1  90   1   5   1]
 [  0 983   1  13   0   0   1   0   1   1]
 [  4   1 982  10   1   0   2   0   0   0]
 [  6  17  45 923   2   0   7   0   0   0]
 [  0   9 739  86 164   0   1   0   1   0]
 [  0   0   3   6   0 791   0 145   2  53]
 [118   1 643  57  24   0 151   0   6   0]
 [  0   0   0   0   0   0   0 923   0  77]
 [  0   2  44   5   1   1   1   3 933  10]
 [  0   0   1   3   0   0   0  32   0 964]]
2025-08-24 11:03:33,594 - INFO - Starting Round 43/50 with algorithm fedentropy and model cnn
2025-08-24 11:03:33,594 - INFO - Selected clients for Round 43: [34, 49, 8, 42, 30]
2025-08-24 11:03:34,658 - INFO - Client 34 Train Loss: 0.1282
2025-08-24 11:03:36,068 - INFO - Client 49 Train Loss: 0.0592
2025-08-24 11:03:36,647 - INFO - Client 8 Train Loss: 0.0864
2025-08-24 11:03:40,564 - INFO - Client 42 Train Loss: 0.0101
2025-08-24 11:03:43,026 - INFO - Client 30 Train Loss: 0.0318
2025-08-24 11:03:43,027 - INFO - Global Average Train Loss: 0.0631
2025-08-24 11:03:43,880 - INFO - FedEntropy weights: [0.19999721 0.2000204  0.20003259 0.19995433 0.19999546]
2025-08-24 11:03:43,928 - INFO - Aggregated using FedEntropy
2025-08-24 11:03:48,874 - INFO - Global Model Validation Loss: 0.5740, Top1_Accuracy: 80.83%, Top5_Accuracy: 99.62%
2025-08-24 11:03:48,874 - INFO - Precision: 0.8365, Recall: 0.8083, F1-Score: 0.7908
2025-08-24 11:03:48,876 - INFO - Confusion Matrix:
[[945   3   3  30   1   1   1   2  14   0]
 [  1 989   0   8   0   0   0   0   2   0]
 [ 98   4 714  24 145   0   5   0  10   0]
 [ 61  28   1 894   9   0   5   0   2   0]
 [  7  16  64  87 806   0  10   0  10   0]
 [  2   0   0   5   0 763   0 190  22  18]
 [396   7 109  39 212   0 199   0  38   0]
 [  0   0   0   0   0   0   0 994   0   6]
 [  6   3   0   3   2   1   0   4 981   0]
 [  0   0   0   2   0   1   0 192   7 798]]
2025-08-24 11:03:48,876 - INFO - Starting Round 44/50 with algorithm fedentropy and model cnn
2025-08-24 11:03:48,877 - INFO - Selected clients for Round 44: [35, 10, 16, 33, 38]
2025-08-24 11:03:52,382 - INFO - Client 35 Train Loss: 0.0218
2025-08-24 11:03:54,679 - INFO - Client 10 Train Loss: 0.0133
2025-08-24 11:03:55,841 - INFO - Client 16 Train Loss: 0.0599
2025-08-24 11:03:58,723 - INFO - Client 33 Train Loss: 0.0573
2025-08-24 11:03:59,223 - INFO - Client 38 Train Loss: 0.2080
2025-08-24 11:03:59,224 - INFO - Global Average Train Loss: 0.0721
2025-08-24 11:03:59,967 - INFO - FedEntropy weights: [0.19998221 0.20001328 0.20001188 0.19997494 0.2000177 ]
2025-08-24 11:04:00,002 - INFO - Aggregated using FedEntropy
2025-08-24 11:04:03,914 - INFO - Global Model Validation Loss: 0.5749, Top1_Accuracy: 81.14%, Top5_Accuracy: 99.73%
2025-08-24 11:04:03,914 - INFO - Precision: 0.8279, Recall: 0.8114, F1-Score: 0.7794
2025-08-24 11:04:03,915 - INFO - Confusion Matrix:
[[856   0  17  91  22   2   2   1   8   1]
 [  0 950   0  40   8   0   0   0   2   0]
 [ 19   0 675  15 286   0   3   0   2   0]
 [ 15   1   7 899  76   0   2   0   0   0]
 [  1   2  27  23 945   0   1   0   1   0]
 [  1   0   0   4   0 972   0  17   0   6]
 [275   0 125  84 477   0  19   0  20   0]
 [  0   0   0   0   0  58   0 906   0  36]
 [  3   1   5   9  12   5   0   1 962   2]
 [  0   0   0   3   0  16   0  51   0 930]]
2025-08-24 11:04:03,915 - INFO - Starting Round 45/50 with algorithm fedentropy and model cnn
2025-08-24 11:04:03,915 - INFO - Selected clients for Round 45: [27, 13, 34, 48, 46]
2025-08-24 11:04:06,784 - INFO - Client 27 Train Loss: 0.1440
2025-08-24 11:04:08,959 - INFO - Client 13 Train Loss: 0.0286
2025-08-24 11:04:09,960 - INFO - Client 34 Train Loss: 0.0898
2025-08-24 11:04:12,213 - INFO - Client 48 Train Loss: 0.0654
2025-08-24 11:04:14,102 - INFO - Client 46 Train Loss: 0.5033
2025-08-24 11:04:14,102 - INFO - Global Average Train Loss: 0.1662
2025-08-24 11:04:14,837 - INFO - FedEntropy weights: [0.19998892 0.19998969 0.20002674 0.19999339 0.20000126]
2025-08-24 11:04:14,874 - INFO - Aggregated using FedEntropy
2025-08-24 11:04:18,907 - INFO - Global Model Validation Loss: 0.5214, Top1_Accuracy: 81.68%, Top5_Accuracy: 99.79%
2025-08-24 11:04:18,907 - INFO - Precision: 0.8394, Recall: 0.8168, F1-Score: 0.8037
2025-08-24 11:04:18,909 - INFO - Confusion Matrix:
[[965   2   9   9   5   2   5   2   1   0]
 [  4 984   0   7   3   0   0   0   2   0]
 [ 48   2 828   5 103   0  14   0   0   0]
 [ 84  32   7 819  35   0  23   0   0   0]
 [  5   6  99  31 835   0  24   0   0   0]
 [  1   0   0   3   0 942   0  54   0   0]
 [391   4 156  14 174   0 253   0   8   0]
 [  0   0   0   0   0   8   0 991   0   1]
 [ 48   2   1   2   5   4   8   8 922   0]
 [  1   0   0   2   0  32   0 336   0 629]]
2025-08-24 11:04:18,909 - INFO - Starting Round 46/50 with algorithm fedentropy and model cnn
2025-08-24 11:04:18,910 - INFO - Selected clients for Round 46: [44, 12, 45, 19, 25]
2025-08-24 11:04:22,224 - INFO - Client 44 Train Loss: 0.0932
2025-08-24 11:04:25,380 - INFO - Client 12 Train Loss: 0.2867
2025-08-24 11:04:26,268 - INFO - Client 45 Train Loss: 0.0958
2025-08-24 11:04:27,910 - INFO - Client 19 Train Loss: 0.0861
2025-08-24 11:04:29,358 - INFO - Client 25 Train Loss: 0.1816
2025-08-24 11:04:29,358 - INFO - Global Average Train Loss: 0.1487
2025-08-24 11:04:30,109 - INFO - FedEntropy weights: [0.19999744 0.19997557 0.20001816 0.19999434 0.20001448]
2025-08-24 11:04:30,150 - INFO - Aggregated using FedEntropy
2025-08-24 11:04:34,303 - INFO - Global Model Validation Loss: 0.5532, Top1_Accuracy: 79.76%, Top5_Accuracy: 99.75%
2025-08-24 11:04:34,304 - INFO - Precision: 0.8400, Recall: 0.7976, F1-Score: 0.7792
2025-08-24 11:04:34,304 - INFO - Confusion Matrix:
[[931   1  43   9   0   1   5   2   8   0]
 [  3 979   1  14   1   0   0   0   2   0]
 [ 19   1 963   6   7   0   3   0   1   0]
 [ 62   4  31 879   8   0  16   0   0   0]
 [  4   7 535  56 370   1  25   0   2   0]
 [  1   0   0   2   0 938   0  56   1   2]
 [341   0 373  16  41   0 205   0  24   0]
 [  0   0   0   0   0   8   0 987   0   5]
 [  4   2   9   3   1   4   4   4 969   0]
 [  0   0   0   2   0  28   0 213   2 755]]
2025-08-24 11:04:34,305 - INFO - Starting Round 47/50 with algorithm fedentropy and model cnn
2025-08-24 11:04:34,305 - INFO - Selected clients for Round 47: [42, 41, 23, 28, 33]
2025-08-24 11:04:38,577 - INFO - Client 42 Train Loss: 0.0054
2025-08-24 11:04:40,674 - INFO - Client 41 Train Loss: 0.1674
2025-08-24 11:04:45,276 - INFO - Client 23 Train Loss: 0.0408
2025-08-24 11:04:49,825 - INFO - Client 28 Train Loss: 0.0308
2025-08-24 11:04:52,523 - INFO - Client 33 Train Loss: 0.0379
2025-08-24 11:04:52,523 - INFO - Global Average Train Loss: 0.0564
2025-08-24 11:04:53,359 - INFO - FedEntropy weights: [0.19999062 0.20000511 0.19999223 0.19998288 0.20002916]
2025-08-24 11:04:53,423 - INFO - Aggregated using FedEntropy
2025-08-24 11:04:57,793 - INFO - Global Model Validation Loss: 0.5862, Top1_Accuracy: 78.29%, Top5_Accuracy: 99.67%
2025-08-24 11:04:57,793 - INFO - Precision: 0.8131, Recall: 0.7829, F1-Score: 0.7559
2025-08-24 11:04:57,794 - INFO - Confusion Matrix:
[[840   1  80  18   8   2  34   0  16   1]
 [  0 986   2   7   3   0   0   0   2   0]
 [  9   1 932   2  54   0   1   0   1   0]
 [ 23  28  63 809  65   0  10   0   2   0]
 [  1   4 196   8 786   0   2   0   3   0]
 [  1   0   0   0   0 983   0   1   0  15]
 [238   3 341  16 225   2 148   0  27   0]
 [  0   0   0   0   0 412   0 396   2 190]
 [  0   1  11   0   9   3   0   0 970   6]
 [  0   0   0   1   0  19   0   1   0 979]]
2025-08-24 11:04:57,794 - INFO - Starting Round 48/50 with algorithm fedentropy and model cnn
2025-08-24 11:04:57,795 - INFO - Selected clients for Round 48: [28, 7, 15, 14, 4]
2025-08-24 11:05:01,929 - INFO - Client 28 Train Loss: 0.0199
2025-08-24 11:05:02,873 - INFO - Client 7 Train Loss: 0.2252
2025-08-24 11:05:03,676 - INFO - Client 15 Train Loss: 0.2088
2025-08-24 11:05:04,276 - INFO - Client 14 Train Loss: 0.0954
2025-08-24 11:05:07,128 - INFO - Client 4 Train Loss: 0.0546
2025-08-24 11:05:07,128 - INFO - Global Average Train Loss: 0.1208
2025-08-24 11:05:07,868 - INFO - FedEntropy weights: [0.1999949  0.19999244 0.20002234 0.20000187 0.19998844]
2025-08-24 11:05:07,901 - INFO - Aggregated using FedEntropy
2025-08-24 11:05:11,623 - INFO - Global Model Validation Loss: 0.5214, Top1_Accuracy: 81.26%, Top5_Accuracy: 99.58%
2025-08-24 11:05:11,623 - INFO - Precision: 0.8278, Recall: 0.8126, F1-Score: 0.8082
2025-08-24 11:05:11,624 - INFO - Confusion Matrix:
[[525   8  28 133   7   1 288   2   7   1]
 [  0 989   0   8   1   0   0   0   2   0]
 [  1   3 865  13  74   0  44   0   0   0]
 [  1  30  10 923  16   0  20   0   0   0]
 [  0  12 147  54 760   0  27   0   0   0]
 [  0   0   0   6   0 670   1 256   3  64]
 [ 46   8 148  95 135   0 557   0  11   0]
 [  0   0   0   0   0   0   0 977   0  23]
 [  0   5   2   9   5   1  10   7 955   6]
 [  0   0   0   3   0   0   0  91   1 905]]
2025-08-24 11:05:11,624 - INFO - Starting Round 49/50 with algorithm fedentropy and model cnn
2025-08-24 11:05:11,624 - INFO - Selected clients for Round 49: [21, 1, 37, 35, 14]
2025-08-24 11:05:11,688 - INFO - Client 21 Train Loss: 0.1069
2025-08-24 11:05:13,733 - INFO - Client 1 Train Loss: 0.0596
2025-08-24 11:05:16,467 - INFO - Client 37 Train Loss: 0.0300
2025-08-24 11:05:19,335 - INFO - Client 35 Train Loss: 0.0171
2025-08-24 11:05:20,045 - INFO - Client 14 Train Loss: 0.0330
2025-08-24 11:05:20,045 - INFO - Global Average Train Loss: 0.0493
2025-08-24 11:05:20,833 - INFO - FedEntropy weights: [0.20004412 0.19998815 0.19996839 0.19998155 0.20001779]
2025-08-24 11:05:20,867 - INFO - Aggregated using FedEntropy
2025-08-24 11:05:24,913 - INFO - Global Model Validation Loss: 0.5585, Top1_Accuracy: 77.98%, Top5_Accuracy: 99.72%
2025-08-24 11:05:24,913 - INFO - Precision: 0.8455, Recall: 0.7798, F1-Score: 0.7713
2025-08-24 11:05:24,914 - INFO - Confusion Matrix:
[[200  15   3  45   7   5 722   1   2   0]
 [  0 992   0   4   2   0   1   0   1   0]
 [  0   3 538   4 231   0 224   0   0   0]
 [  0  62   1 804  61   1  71   0   0   0]
 [  0   8  15  14 849   0 114   0   0   0]
 [  0   0   0   3   0 971   0  24   0   2]
 [  8   8  31  21  98   1 830   0   3   0]
 [  0   0   0   0   0  32   0 965   0   3]
 [  0   4   1   4   6  11  49   5 920   0]
 [  0   0   0   3   0  41   2 223   2 729]]
2025-08-24 11:05:24,914 - INFO - Starting Round 50/50 with algorithm fedentropy and model cnn
2025-08-24 11:05:24,915 - INFO - Selected clients for Round 50: [37, 14, 0, 4, 45]
2025-08-24 11:05:27,155 - INFO - Client 37 Train Loss: 0.0089
2025-08-24 11:05:27,853 - INFO - Client 14 Train Loss: 0.0382
2025-08-24 11:05:29,137 - INFO - Client 0 Train Loss: 0.2610
2025-08-24 11:05:32,075 - INFO - Client 4 Train Loss: 0.0563
2025-08-24 11:05:32,799 - INFO - Client 45 Train Loss: 0.1225
2025-08-24 11:05:32,799 - INFO - Global Average Train Loss: 0.0974
2025-08-24 11:05:34,187 - INFO - FedEntropy weights: [0.20000712 0.20002676 0.19998833 0.19998308 0.19999472]
2025-08-24 11:05:34,222 - INFO - Aggregated using FedEntropy
2025-08-24 11:05:38,410 - INFO - Global Model Validation Loss: 0.6894, Top1_Accuracy: 76.02%, Top5_Accuracy: 99.35%
2025-08-24 11:05:38,411 - INFO - Precision: 0.8231, Recall: 0.7602, F1-Score: 0.7236
2025-08-24 11:05:38,412 - INFO - Confusion Matrix:
[[881   5  48  45   0   1   2   2  16   0]
 [  1 983   0  14   0   0   0   0   2   0]
 [ 16   2 966  11   1   0   2   0   2   0]
 [ 24  12  23 935   0   0   4   0   2   0]
 [  1  20 684 141 113   1  35   0   5   0]
 [  1   0   0   6   0 860   0 110  15   8]
 [321   2 423  51   7   0 167   0  29   0]
 [  0   0   0   0   0   0   0 996   1   3]
 [  1   2   6   5   1   1   1   4 979   0]
 [  1   0   0   6   0   2   0 262   7 722]]
2025-08-24 11:05:38,649 - INFO - Metrics saved to outcomes/metrics_cnn_fedentropy_dong_clients50_rounds50_clientsperround5.csv
2025-08-24 11:05:39,611 - INFO - Loss plot saved to outcomes/Loss_cnn_fedentropy_clients50_rounds50_clientsperround5.png
2025-08-24 11:05:39,842 - INFO - Accuracy plot saved to outcomes/Accuracy_cnn_fedentropy_clients50_rounds50_clientsperround5.png
